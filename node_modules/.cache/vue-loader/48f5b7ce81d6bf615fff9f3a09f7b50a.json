{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\center\\cardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\center\\cardList.vue","mtime":1597889072387},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdjYXJkTGlzdCcsDQogIHByb3BzOiB7DQogICAgaXRlbTogeyANCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsNCiAgICAgICAgcmV0dXJuIHt9DQogICAgICB9DQogICAgfSwNCiAgICB0eXBlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnMCcNCiAgICB9DQogIH0sDQogIGRhdGEgKCkgew0KICAgIHJldHVybiB7DQogICAgICBjYXJkVHlwZTogew0KICAgICAgICAnQ0FSRF9DQVNIX0NPVVBPTic6ICfku6Pph5HliLgnLA0KICAgICAgICAnQ0FSRF9JVEVNX0NPVVBPTic6ICfljZXlk4HliLgnLA0KICAgICAgICAnQ0FSRF9NVUxUSV9DT1VQT04nOiAn5aWX6aSQ5Yi4JywNCiAgICAgICAgJ0NBUkRfU1RPUkFHRSc6ICflr4TlrZjljaEnDQogICAgICB9DQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogZGV0YWlsICgpIHsgLy8g6Lez6L2s6K+m5oOFDQogICAgbGV0IHsgY2FyZElkLCBkZXRhaWxJZCwgY2FyZFN0YXJ0VGltZSwgY2FyZEVuZFRpbWUsIGNhcmRUeXBlLCBzdXBwbGllckNvZGUgfSA9IHRoaXMuaXRlbQ0KICAgIC8vIOWIpOaWreaIkeeahOW9k+WJjeS8mOaDoOWIuOaYr+WQpuWPr+eUqA0KICAgIHRoaXMuJGFwaS5teV9jb3Vwb25fdXNlX2FibGUoew0KICAgICAgY2FyZElkLA0KICAgICAgZGV0YWlsSWQsDQogICAgICBjYXJkU3RhcnRUaW1lLA0KICAgICAgY2FyZEVuZFRpbWUNCiAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgIGlmIChyZXMuc3RhdGUpIHsNCiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSA0KSB7DQogICAgICAgICAgLy8g6Ieq5oiR5ri45Y2h5Yi457G75Z6LDQogICAgICAgICAgaWYgKHN1cHBsaWVyQ29kZSA9PSAnUEFSVFlfWldZJykgew0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvY291cG9uL3RyYXZlbENhcmREZXRhaWxzJywgcXVlcnk6IHtjYXJkSWQsIGRldGFpbElkLCBjYXJkRW5kVGltZSwgY2FyZFN0YXJ0VGltZSwgc3VwcGxpZXJDb2RlfX0pDQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL2NvdXBvbi9jb3Vwb25EZXRhaWwnLCBxdWVyeToge2NhcmRJZCwgZGV0YWlsSWQsIGNhcmRFbmRUaW1lLCBjYXJkU3RhcnRUaW1lLCBzdXBwbGllckNvZGV9fSkNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgaWYgKHJlcy5pbmZvLnVzZUFibGUpIHsNCiAgICAgICAgICAgIC8vIOiHquaIkea4uOWNoeWIuOexu+Weiw0KICAgICAgICAgICAgaWYgKHN1cHBsaWVyQ29kZSA9PSAnUEFSVFlfWldZJykgew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9jb3Vwb24vdHJhdmVsQ2FyZERldGFpbHMnLCBxdWVyeToge2NhcmRJZCwgZGV0YWlsSWQsIGNhcmRFbmRUaW1lLCBjYXJkU3RhcnRUaW1lLCBzdXBwbGllckNvZGUsIHR5cGU6IDF9fSkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL2NvdXBvbi9jb3Vwb25EZXRhaWwnLCBxdWVyeToge2NhcmRJZCwgZGV0YWlsSWQsIGNhcmRFbmRUaW1lLCBjYXJkU3RhcnRUaW1lLCBzdXBwbGllckNvZGUsIHR5cGU6IDF9fSkNCiAgICAgICAgICAgIH0gDQogICAgICAgICAgICANCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgLy8g6Ieq5oiR5ri45Y2h5Yi457G75Z6LDQogICAgICAgICAgICBpZiAoc3VwcGxpZXJDb2RlID09ICdQQVJUWV9aV1knKSB7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAnL2NvdXBvbi90cmF2ZWxDYXJkRGV0YWlscycsIHF1ZXJ5OiB7Y2FyZElkLCBkZXRhaWxJZCwgY2FyZEVuZFRpbWUsIGNhcmRTdGFydFRpbWUsIHN1cHBsaWVyQ29kZSwgdHlwZTogNH19KQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvY291cG9uL2NvdXBvbkRldGFpbCcsIHF1ZXJ5OiB7Y2FyZElkLCBkZXRhaWxJZCwgY2FyZEVuZFRpbWUsIGNhcmRTdGFydFRpbWUsIHN1cHBsaWVyQ29kZSwgdHlwZTogNH19KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgICAgDQogICAgICAgIH0NCiAgICAgIH0pDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["cardList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA","file":"cardList.vue","sourceRoot":"src/components/center","sourcesContent":["<!--\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: yesong\r\n * @Date: 2020-07-31 15:55:03\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-08 15:19:24\r\n--> \r\n<template>\r\n  <div class=\"card-list\">\r\n    <div :class=\"['card-item', 'flex','por', item.createType == 2 || item.createType == 3 ? 'external' : '' ]\" @click=\"detail\">\r\n      <template v-if=\"item.cardType == 'CARD_CASH_COUPON'\">\r\n        <!-- 代金券 -->\r\n        <div class=\"price tac\">\r\n          <div class=\"cf51 ft32 bold\">￥<span class=\"ft62\">{{ item.cashVal/100 }}</span></div>\r\n          <div class=\"ft22 c66 mt16\" v-if=\"item.createType != 2\">{{ item.useCondition == 1 ? '无门槛使用' : (item.useCondition == 2 ? '每满' + item.limitFunds/100 + '元可用1张' : '消费任意金额可用') }}</div>\r\n        </div>\r\n        <div class=\"card-info flex-1\">\r\n          <div class=\"ft28 c1A bold\">{{ item.shopName }}{{item.suitShop ? '('+ item.suitShop +')' : ''}}</div>\r\n          <div class=\"ft20 c66 card-type\">\r\n            <span class=\"label compens\" v-if=\"item.sourceType == '3'\">补偿券</span>\r\n            <span class=\"label\" v-if=\"item.supplierCode == 'PARTY_ZWY'\">旅游券</span>\r\n            <span class=\"label\" v-else>{{ cardType[item.cardType] }}</span>\r\n          </div>\r\n          <!-- 过期icon -->\r\n          <img class=\"card-kgq-icon\" v-if=\"item.overdueHint && item.cardState == 1\" lazy-load=\"true\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/card_kgq.png\" />\r\n          <!-- 过期标签 -->\r\n          <div class=\"ft22 cf51\" v-if=\"item.overdueHint && item.cardState == 1\">{{ item.overdueHint }}</div>\r\n          <div class=\"ft22 c66\" v-else>有效期至 {{ item.cardEndTime | formatTime }}</div>\r\n        </div>\r\n      </template>\r\n      <template v-else>\r\n        <!-- 套餐券、单品券、寄存卡、旅游卡券 -->\r\n        <div class=\"pic tac\">\r\n          <img lazy-load=\"true\" :src=\"item.background || 'https://oss.kdwaimai.com/jkb/1577174689144_188135.png'\" />\r\n        </div>\r\n        <div class=\"card-info\">\r\n          <div class=\"ft28 c1A bold t-elps\">{{ item.cardName }}</div>\r\n          <div class=\"ft20 c66 card-type\">\r\n            <span class=\"label compens\" v-if=\"item.sourceType == '3'\">补偿券</span>\r\n            <span class=\"label\" v-if=\"item.supplierCode == 'PARTY_ZWY'\">旅游券</span>\r\n            <span class=\"label\" v-else>{{ cardType[item.cardType] }}</span>\r\n            <span>{{ item.shopName }}{{item.suitShop ? '('+ item.suitShop +')' : ''}}</span>\r\n          </div>\r\n          <!-- 过期icon -->\r\n          <img class=\"card-kgq-icon\" v-if=\"item.overdueHint && item.cardState == 1\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/card_kgq.png\" />\r\n          <!-- 过期标签 -->\r\n          <div class=\"ft22 cf51\" v-if=\"item.overdueHint && item.cardState == 1\">{{ item.overdueHint }}</div>\r\n          <div class=\"ft22 c66\" v-else>有效期至 {{ item.cardEndTime | formatTime }}</div>\r\n        </div>\r\n      </template>  \r\n      <div class=\"num\" v-if=\"item.cardNum > 1\">含{{ item.cardNum }}张券</div>\r\n      <!-- 过期卡券 -->\r\n      <template v-if=\"item.cardState == 1\">\r\n        <button class=\"ft24 cff\">去使用</button>\r\n      </template>\r\n      <template v-else>\r\n        <div class=\"exceed-mask\"></div>\r\n        <template v-if=\"item.cardRefund == '2' || item.cardRefund == '3'\">\r\n          <!-- 已退款 -->\r\n          <img lazy-load=\"true\" class=\"exceed-img\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_yitk.png\" />\r\n        </template>\r\n        <template v-else-if=\"item.cardState == '3'\">\r\n          <!-- 已核销 -->\r\n          <img lazy-load=\"true\" class=\"exceed-img\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_yihx.png\" />\r\n        </template>\r\n        <template v-else-if=\"item.cardState == '4'\">\r\n            <!-- 已过期 -->\r\n          <img lazy-load=\"true\" class=\"exceed-img\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_yigq.png\" />\r\n        </template>\r\n        <template v-else-if=\"item.cardState == '5'\">\r\n          <!-- 已失效 -->\r\n          <img lazy-load=\"true\" class=\"exceed-img\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_yisx.png\" />\r\n        </template>\r\n      </template>\r\n      <div class=\"external-info\" v-if=\"item.createType == 2 || item.createType == 3\">本卡券最终核销状态以商家实际核销为准</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'cardList',\r\n  props: {\r\n    item: { \r\n      type: Object,\r\n      default: () => {\r\n        return {}\r\n      }\r\n    },\r\n    type: {\r\n      type: String,\r\n      default: '0'\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      cardType: {\r\n        'CARD_CASH_COUPON': '代金券',\r\n        'CARD_ITEM_COUPON': '单品券',\r\n        'CARD_MULTI_COUPON': '套餐券',\r\n        'CARD_STORAGE': '寄存卡'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n detail () { // 跳转详情\r\n    let { cardId, detailId, cardStartTime, cardEndTime, cardType, supplierCode } = this.item\r\n    // 判断我的当前优惠券是否可用\r\n    this.$api.my_coupon_use_able({\r\n      cardId,\r\n      detailId,\r\n      cardStartTime,\r\n      cardEndTime\r\n    }).then((res) => {\r\n      if (res.state) {\r\n        if (this.type == 4) {\r\n          // 自我游卡券类型\r\n          if (supplierCode == 'PARTY_ZWY') {\r\n            this.$router.push({path: '/coupon/travelCardDetails', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode}})\r\n          } else {\r\n            this.$router.push({path: '/coupon/couponDetail', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode}})\r\n          }\r\n        } else {\r\n          if (res.info.useAble) {\r\n            // 自我游卡券类型\r\n            if (supplierCode == 'PARTY_ZWY') {\r\n              this.$router.push({path: '/coupon/travelCardDetails', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode, type: 1}})\r\n            } else {\r\n              this.$router.push({path: '/coupon/couponDetail', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode, type: 1}})\r\n            } \r\n            \r\n          } else {\r\n            // 自我游卡券类型\r\n            if (supplierCode == 'PARTY_ZWY') {\r\n              this.$router.push({path: '/coupon/travelCardDetails', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode, type: 4}})\r\n            } else {\r\n              this.$router.push({path: '/coupon/couponDetail', query: {cardId, detailId, cardEndTime, cardStartTime, supplierCode, type: 4}})\r\n            }\r\n          }\r\n        }\r\n\r\n          \r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.card-item {\r\n  margin-bottom: 18px;\r\n  padding: 30px 0;\r\n  background: #fff;\r\n  border: 1px solid #F5F3F0;\r\n  border-radius: 12px;\r\n}\r\n.card-item.external {\r\n  height: 226px;\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/card_list_bg.png') no-repeat center;\r\n  background-size: cover;\r\n}\r\n.external-info {\r\n  position: absolute;\r\n  left: 30px;\r\n  bottom: 18px;\r\n  font-size: 24px;\r\n  color: #9E9D9B;\r\n}\r\n.card-item .exceed-mask {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, .5);\r\n}\r\n.card-item .exceed-img {\r\n  position: absolute;\r\n  width: 92px;\r\n  height: 92px;\r\n  bottom: 18px;\r\n  right: 15px;\r\n}\r\n\r\n.card-item .price {\r\n  width: 192px;\r\n  height: 100px;\r\n  margin-right: 30px;\r\n  border-right: 1px solid rgba(158, 157, 155, .2);\r\n}\r\n.card-item .pic {\r\n  margin-right: 28px;\r\n  margin-left: 24px;\r\n  width: 171px;\r\n  height: 105px;\r\n}\r\n.card-item .pic img {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 6px;\r\n}\r\n\r\n.card-item .card-info .card-type {\r\n  margin: 15px 0;\r\n}\r\n\r\n.card-item .card-info .card-type .label{\r\n  display: inline-block;\r\n  padding: 0 6px;\r\n  margin-right: 9px;\r\n  height: 26px;\r\n  line-height: 26px;\r\n  border: 1px solid #9E9C9A;\r\n  border-radius: 3px;\r\n}\r\n.card-item .card-info .card-type .label.compens {\r\n  color: #FF0030;\r\n  border: 1px solid #FF0030;\r\n}\r\n.card-item button {\r\n  position: absolute;\r\n  top: 99px;\r\n  right: 24px;\r\n  padding: 0 19px;\r\n  height: 42px;\r\n  line-height: 42px;\r\n  background-image: linear-gradient(90deg, #F7420D 0%, #F50C05 100%);\r\n  border-radius: 21px;\r\n}\r\n.card-item .num {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  padding: 0 10px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  font-size: 22px;\r\n  color: #CD7B00;\r\n  background: #FEEED5;\r\n  border-radius: 0 12px 0 14px;\r\n}\r\n.card-kgq-icon {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 67px;\r\n  height: 65px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n"]}]}