{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\home\\home.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\home\\home.vue","mtime":1596854732547},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgLy8gaW1wb3J0IGFjdGlvbnMgZnJvbSAnQHV0aWxzL2FjdGlvbnMnCiAgaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CiAgaW1wb3J0IGFjdGl2ZUl0ZW0gZnJvbSAnQGNvbXBvbmVudHMvYWN0aXZlL2FjdGl2ZUl0ZW0nCmltcG9ydCB7IHNldFRpbWVvdXQgfSBmcm9tICd0aW1lcnMnOwogIGV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdob21lJywKICAgIGNvbXBvbmVudHM6ewogICAgICBhY3RpdmVJdGVtLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICAgIHJlZnJlc2hpbmc6IGZhbHNlLAogICAgICAgIHJlZnJlc2hMaXN0OiBmYWxzZSwKICAgICAgICBmaWx0ZXJLZXl3b3JkTGlzdDpbXSwKICAgICAgICB0YWNBY3RpdmU6IGZhbHNlLAogICAgICAgIGxpc3Q6IFtdLAogICAgICAgIGJ1c2luZXNzOiAn5ZWG5ZyIwrflhajln44nLAogICAgICAgIGNhdGVnb3J5OiAn5YWo6YOo5ZOB57G7JywKICAgICAgICBzb3J0OiAn57u85ZCI5o6S5bqPJywKICAgICAgICBjaXR5SWQ6IDAsCiAgICAgICAgcmVmcmVzaDogdHJ1ZSwKICAgICAgICBmaWx0ZXJJdGVtOiBudWxsLAogICAgICAgIHBhZ2VUeXBlOiAyLAogICAgICAgIGZpbHRlcklkOiAwLAogICAgICAgIGZpbHRlckRhdGE6IHt9LAogICAgICAgIHJhbmdlOiAwLAogICAgICAgIHR5cGU6IDEsLy8gMS7pmYTov5EgMi7llYblnIggM+WcsOWMuiA0LuWIhuexuyA1Lue7vOWQiOaOkuW6jyA25oqY5omj562b6YCJCiAgICAgICAgYXJlYUlkOiAwLCAvLyDkuIDnuqflnLDljLppZAogICAgICAgIGJ1c0NpcmNsZUlkOiAwLCAvL+S4gOe6p+WcsOWMumlk77yI5ZWG5ZyISWTvvIkKICAgICAgICBjdGdJZDogMCwgLy8g5LqM57qn5ZOB57G7SWTvvIwKICAgICAgICBzb3J0VHlwZTogMSwgLy/nrZvpgInvvJoxLue7vOWQiOaOkuW6jyAy5Lq65rCU5pyA6auYIDMu6Led56a75LyY5YWIIDQu5Lq65Z2H5pyA5L2OIDXkurrlnYfmnIDpq5gKICAgICAgICBkaXNjb3VudFJhbmdlOiAwLCAvL+aKmOaJo++8muagvOW8jyc4fDEwJwogICAgICB9CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycyhbImxvY2F0aW9uSW5mbyIsICJsb2NhdGlvbkNpdHkiLCAidXBkYXRlUGFnZSJdKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgLi4ubWFwTXV0YXRpb25zKCdpbmRleCcsIFsKICAgICAgICAnU0VUX1VQREFURVBBR0UnLAogICAgICAgICdHRVRfVVBEQVRFUEFHRScKICAgICAgXSksCiAgICAgIC4uLm1hcEFjdGlvbnMoJ2luZGV4JywgWwogICAgICAgICdnZXRVcGRhdGVQYWdlJwogICAgICBdKSwKICAgICAgLy8g562b6YCJ57uE5Lu25Zue6LCDCiAgICAgIGNoYW5nZUxpc3QodGFiRGF0YSkgewogICAgICAgIGxldCB0YWJ0eXBlID0gdGFiRGF0YS50YWJ0eXBlCiAgICAgICAgbGV0IGFpZCwgYmlkLCBjaWQsIHR5cGUsIHJhbmdlLCBzb3J0dHlwZQogICAgICAgIGlmICh0YWJ0eXBlID09PSAnMCcpIHsKICAgICAgICAgICh7IGFpZCwgYmlkID0gMCwgdHlwZSwgcmFuZ2UgPSAwIH0gPSB0YWJEYXRhKTsKICAgICAgICAgICh7IGN0Z0lkOiBjaWQsIHNvcnRUeXBlOiBzb3J0dHlwZSB9ID0gdGhpcy5maWx0ZXJEYXRhKQogICAgICAgIH0gZWxzZSBpZiAodGFidHlwZSA9PT0gJzEnKSB7CiAgICAgICAgICAoeyBjaWQsIHR5cGUgfSA9IHRhYkRhdGEpOwogICAgICAgICAgKHsgYXJlYUlkOiBhaWQsIHJhbmdlLCBidXNDaXJjbGVJZDogYmlkLCBzb3J0VHlwZTogc29ydHR5cGUgfSA9IHRoaXMuZmlsdGVyRGF0YSkKICAgICAgICB9IGVsc2UgaWYgKHRhYnR5cGUgPT09ICcyJykgewogICAgICAgICAgKHsgc29ydHR5cGUsIHR5cGUgfSA9IHRhYkRhdGEpOwogICAgICAgICAgKHsgYXJlYUlkOiBhaWQsIHJhbmdlLCBidXNDaXJjbGVJZDogYmlkLCBjdGdJZDogY2lkIH0gPSB0aGlzLmZpbHRlckRhdGEpCiAgICAgICAgfSBlbHNlIGlmICh0YWJ0eXBlID09PSAnMycpIHsKICAgICAgICAgICh7IHR5cGUgfSA9IHRhYkRhdGEpOwogICAgICAgICAgKHsgYXJlYUlkOiBhaWQsIHJhbmdlLCBidXNDaXJjbGVJZDogYmlkLCBjdGdJZDogY2lkLCBzb3J0VHlwZTogc29ydHR5cGUgfSA9IHRoaXMuZmlsdGVyRGF0YSkKICAgICAgICB9CiAgICAgICAgdGhpcy5maWx0ZXJEYXRhLmFyZWFJZCA9IGFpZCB8fCAwCiAgICAgICAgdGhpcy5maWx0ZXJEYXRhLnJhbmdlID0gcmFuZ2UgfHwgMAogICAgICAgIHRoaXMuZmlsdGVyRGF0YS5idXNDaXJjbGVJZCA9IGJpZCB8fCAwCiAgICAgICAgdGhpcy5maWx0ZXJEYXRhLnNvcnRUeXBlID0gc29ydHR5cGUgfHwgMQogICAgICAgIHRoaXMuZmlsdGVyRGF0YS5jdGdJZCA9IGNpZCB8fCAwCiAgICAgICAgY29uc29sZS5sb2codGhpcy5maWx0ZXJEYXRhKQogICAgICAgIC8vIOWIt+aWsOWIl+ihqAogICAgICAgIHRoaXMucmVmcmVzaExpc3QgPSB0cnVlCiAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICB0aGlzLmZpbHRlckRhdGEgPSB7CiAgICAgICAgY2l0eUlkOiB0aGlzLmxvY2F0aW9uQ2l0eS5jaXR5SWQsCiAgICAgICAgcmFuZ2U6IHRoaXMucmFuZ2UsCiAgICAgICAgdHlwZTogdGhpcy50eXBlLC8vIDEu6ZmE6L+RIDIu5ZWG5ZyIIDPlnLDljLogNC7liIbnsbsgNS7nu7zlkIjmjpLluo8gNuaKmOaJo+etm+mAiQogICAgICAgIGFyZWFJZDogdGhpcy5haWQsIC8vIOS4gOe6p+WcsOWMumlkCiAgICAgICAgYnVzQ2lyY2xlSWQ6IHRoaXMuYmlkLCAvL+S4gOe6p+WcsOWMumlk77yI5ZWG5ZyISWTvvIkKICAgICAgICBjdGdJZDogdGhpcy5jaWQsIC8vIOS6jOe6p+WTgeexu0lk77yMCiAgICAgICAgc29ydFR5cGU6IHRoaXMuc29ydHR5cGUgfHwgMSwgLy/nrZvpgInvvJoxLue7vOWQiOaOkuW6jyAy5Lq65rCU5pyA6auYIDMu6Led56a75LyY5YWIIDQu5Lq65Z2H5pyA5L2OIDXkurrlnYfmnIDpq5gKICAgICAgICBkaXNjb3VudFJhbmdlOiB0aGlzLmRpc2NvdW50UmFuZ2UsIC8v5oqY5omj77ya5qC85byPJzh8MTAnCiAgICAgICAgbG5nOiB0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGUsCiAgICAgICAgbGF0OiB0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGUsCiAgICAgICAgZmlsdGVySWQ6IDAsCiAgICAgICAgdGltZTogdHJ1ZQogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHJvdXRlLCAnLS0tMDAwLS0tLScpCiAgICB9CiAgfQo="},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"home.vue","sourceRoot":"src/views/home","sourcesContent":["<!--\r\n * @Description: 首页\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-10 16:38:41\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-08 10:42:24\r\n--> \r\n<template>\r\n  <div class=\"home-page\">\r\n    <search-tab rightText=\"搜索\"></search-tab>\r\n    <div class=\"sort-tab\" :class=\"tacActive ? 'border':''\" id=\"sort-tab\">\r\n      <sort-tab\r\n        :business=\"business\"\r\n        :category=\"category\"\r\n        :sort=\"sort\"\r\n        :cityId.sync=\"locationCity.cityId\" \r\n        :type=\"pageType\"  \r\n        isShowDiscount \r\n        @changeList=\"changeList\" \r\n        :refresh=\"refresh\"\r\n      >\r\n      </sort-tab>\r\n    </div>\r\n    <common-list\r\n      apiName='specialSellList'\r\n      :filterData='filterData'\r\n      :refresh.sync=\"refreshList\"\r\n      :dropDown=\"true\"\r\n      class=\"act-list\"\r\n    >\r\n      <template v-slot=\"{ list }\">\r\n        <active-item v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\"></active-item>\r\n      </template>\r\n    </common-list>\r\n  </div>\r\n</template>\r\n<script>\r\n  // import actions from '@utils/actions'\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import activeItem from '@components/active/activeItem'\r\nimport { setTimeout } from 'timers';\r\n  export default {\r\n    name: 'home',\r\n    components:{\r\n      activeItem,\r\n    },\r\n    data() {\r\n      return {\r\n        loading: false,\r\n        finished: false,\r\n        refreshing: false,\r\n        refreshList: false,\r\n        filterKeywordList:[],\r\n        tacActive: false,\r\n        list: [],\r\n        business: '商圈·全城',\r\n        category: '全部品类',\r\n        sort: '综合排序',\r\n        cityId: 0,\r\n        refresh: true,\r\n        filterItem: null,\r\n        pageType: 2,\r\n        filterId: 0,\r\n        filterData: {},\r\n        range: 0,\r\n        type: 1,// 1.附近 2.商圈 3地区 4.分类 5.综合排序 6折扣筛选\r\n        areaId: 0, // 一级地区id\r\n        busCircleId: 0, //一级地区id（商圈Id）\r\n        ctgId: 0, // 二级品类Id，\r\n        sortType: 1, //筛选：1.综合排序 2人气最高 3.距离优先 4.人均最低 5人均最高\r\n        discountRange: 0, //折扣：格式'8|10'\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"locationCity\", \"updatePage\"])\r\n    },\r\n    methods: {\r\n      ...mapMutations('index', [\r\n        'SET_UPDATEPAGE',\r\n        'GET_UPDATEPAGE'\r\n      ]),\r\n      ...mapActions('index', [\r\n        'getUpdatePage'\r\n      ]),\r\n      // 筛选组件回调\r\n      changeList(tabData) {\r\n        let tabtype = tabData.tabtype\r\n        let aid, bid, cid, type, range, sorttype\r\n        if (tabtype === '0') {\r\n          ({ aid, bid = 0, type, range = 0 } = tabData);\r\n          ({ ctgId: cid, sortType: sorttype } = this.filterData)\r\n        } else if (tabtype === '1') {\r\n          ({ cid, type } = tabData);\r\n          ({ areaId: aid, range, busCircleId: bid, sortType: sorttype } = this.filterData)\r\n        } else if (tabtype === '2') {\r\n          ({ sorttype, type } = tabData);\r\n          ({ areaId: aid, range, busCircleId: bid, ctgId: cid } = this.filterData)\r\n        } else if (tabtype === '3') {\r\n          ({ type } = tabData);\r\n          ({ areaId: aid, range, busCircleId: bid, ctgId: cid, sortType: sorttype } = this.filterData)\r\n        }\r\n        this.filterData.areaId = aid || 0\r\n        this.filterData.range = range || 0\r\n        this.filterData.busCircleId = bid || 0\r\n        this.filterData.sortType = sorttype || 1\r\n        this.filterData.ctgId = cid || 0\r\n        console.log(this.filterData)\r\n        // 刷新列表\r\n        this.refreshList = true\r\n      }\r\n    },\r\n    created() {\r\n      this.filterData = {\r\n        cityId: this.locationCity.cityId,\r\n        range: this.range,\r\n        type: this.type,// 1.附近 2.商圈 3地区 4.分类 5.综合排序 6折扣筛选\r\n        areaId: this.aid, // 一级地区id\r\n        busCircleId: this.bid, //一级地区id（商圈Id）\r\n        ctgId: this.cid, // 二级品类Id，\r\n        sortType: this.sorttype || 1, //筛选：1.综合排序 2人气最高 3.距离优先 4.人均最低 5人均最高\r\n        discountRange: this.discountRange, //折扣：格式'8|10'\r\n        lng: this.locationInfo.longitude,\r\n        lat: this.locationInfo.longitude,\r\n        filterId: 0,\r\n        time: true\r\n      }\r\n      console.log(this.$route, '---000----')\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang='scss'>\r\n  .home-page {\r\n    .act-list {\r\n      .act-item:nth-of-type(2n) {\r\n        margin-left: 18px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n<style scoped lang='scss'>\r\n  .home-page {\r\n    padding-top: 200px;\r\n     .act-list {\r\n      padding: 0 24px;\r\n    }\r\n    .sort-tab {\r\n      // position: sticky;\r\n      position: fixed;\r\n      top: 100px;\r\n      left: 0;\r\n      width: 100%;\r\n      // background: #f6f6f6;\r\n      background-color: #fff;\r\n      z-index: 1;\r\n      &.active {\r\n        background: #fff;\r\n        border-bottom: 1px solid #E5E6E8;\r\n      }\r\n    }\r\n  }\r\n</style>"]}]}