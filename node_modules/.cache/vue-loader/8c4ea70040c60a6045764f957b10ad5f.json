{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\activeCoupon.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\activeCoupon.vue","mtime":1597889072564},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYWN0aXZlQnJhbmQgZnJvbSAnQGNvbXBvbmVudHMvYWN0aXZlL2FjdGl2ZUJyYW5kJwppbXBvcnQgYWN0aXZlTm90aWNlIGZyb20gJ0Bjb21wb25lbnRzL2FjdGl2ZS9hY3RpdmVOb3RpY2UnCmltcG9ydCBhY3RpdmVHcmFwaGljIGZyb20gJ0Bjb21wb25lbnRzL2FjdGl2ZS9hY3RpdmVHcmFwaGljJwppbXBvcnQgYWN0aXZlUm9vbSBmcm9tICdAY29tcG9uZW50cy9hY3RpdmUvYWN0aXZlUm9vbScKaW1wb3J0IGFjdGl2ZUNvdXBvbiBmcm9tICdAY29tcG9uZW50cy9hY3RpdmUvYWN0aXZlQ291cG9uJwppbXBvcnQgYWN0aXZlQ2FzaCBmcm9tICdAY29tcG9uZW50cy9hY3RpdmUvYWN0aXZlQ2FzaCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnc3BlY2lhbFNhbGUnLAogIGNvbXB1dGVkOiB7fSwKICBjb21wb25lbnRzOnsKICAgIGFjdGl2ZUNvdXBvbiwKICAgIGFjdGl2ZUNhc2gsCiAgICBhY3RpdmVHcmFwaGljLAogICAgYWN0aXZlQnJhbmQsCiAgICBhY3RpdmVSb29tLAogICAgYWN0aXZlTm90aWNlLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpcFVzZXI6IGZhbHNlLAogICAgICBzdWl0U2hvcHM6IFtdLAogICAgICBtZWRpYUxpc3Q6IFtdLAogICAgICBncmFwaGljRGV0YWlsOiAnJywgLy8g6K+m5oOFaHRtbOS/oeaBrwogICAgICB0aW1lcjogbnVsbCwKICAgICAgcmVjb21tZW5kTGlzdDogW10sIC8vIOWFtuS7luekvOWMheaOqOiNkC/mjqjojZDmnYPnm4oKICAgICAgYnRuRGlzYWJsZWQ6IGZhbHNlLAogICAgICBjYXNoTWFzazogZmFsc2UsCiAgICAgIHJlYWR5OiBmYWxzZSwKICAgICAgZml4ZWREZXRhaWw6e30sIC8vIOmXqOW6l+WTgeeJjOS6uuWdh+S/oeaBrwogICAgICBjaGFubmVsVHlwZTogJycsCiAgICAgIG9wdGlvbnM6IHRoaXMuJHJvdXRlLnF1ZXJ5IHx8IHt9LAogICAgICBpbmZvOiB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJsb2NhdGlvbkluZm8iLCAid3hVc2VyIiwgImxvY2F0aW9uQ2l0eSIsICJ2aXBDYXJkSW5mbyIsICJ1cGRhdGVGbGFnIl0pCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmtLvliqjljaHliLjor6bmg4UKICAgIGdldENvdXBEZXRhaWwoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhcGkuYWN0X2NhcmRfZGV0YWlsKHsKICAgICAgICBjYXJkSWQ6IHRoaXMub3B0aW9ucy5jYXJkSWQsCiAgICAgICAgZGV0YWlsSWQ6IHRoaXMub3B0aW9ucy5kZXRhaWxJZCwKICAgICAgICBhY3RTbjogdGhpcy5vcHRpb25zLmFjdFNuCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICB0aGlzLmluZm8gPSB7IC4uLnRoaXMuaW5mbywgLi4ucmVzLmluZm8gfQogICAgICAgICAgdGhpcy5tZWRpYUxpc3QgPSByZXMuaW5mby5tZWRpYUxpc3QKICAgICAgICAgIHRoaXMucmVhZHkgPSB0cnVlCiAgICAgICAgICBpZihyZXMuaW5mby5zaG9wU2hvdykgewogICAgICAgICAgICB0aGlzLmdldFN1aXRTaG9wcygpIAogICAgICAgICAgfQogICAgICAgICAgLy8g6Ieq5oiR5ri45Y2h5Yi45pe25ZWG5a626K+m5oOF5pi+56S65Li65Zu+5paH6K+m5oOFCiAgICAgICAgICBpZiAodGhpcy5pbmZvLmRlc2NyaWJlKSB7CiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY0RldGFpbCA9IHRoaXMuaW5mby5kZXNjcmliZQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXRGaXhlZERldGFpbChyZXMuaW5mby5zaG9wU24pIC8vIOiOt+WPluWVhuWutuivpuaDhQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB0aGlzLmJhY2tfdG8ocmVzKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCgoKICAgIC8vIOiOt+WPluWVhuWutuWbuuWumuS/oeaBrwogICAgZ2V0Rml4ZWREZXRhaWwoc2hvcFNuKSB7CiAgICAgIHRoaXMuJGFwaS5zaG9wX2ZpeGVkX2RldGFpbCh7CiAgICAgICAgc2hvcFNuLAogICAgICAgIGxhdDogdGhpcy5sb2NhdGlvbkluZm8ubGF0aXR1ZGUsCiAgICAgICAgbG5nOiB0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGUKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICAgIHRoaXMuZml4ZWREZXRhaWwgPSByZXMuaW5mby5zaG9wCiAgICAgICAgICBpZighdGhpcy5pbmZvLmRlc2NyaWJlKSB7CiAgICAgICAgICAgIHRoaXMuZ3JhcGhpY0RldGFpbCA9IHJlcy5pbmZvLnNob3AuZGV0YWlsCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICBnZXRTdWl0U2hvcHMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRhcGkuc3VpdFNob3AoewogICAgICAgIGNhcmRJZDogdGhpcy5vcHRpb25zLmNhcmRJZCwKICAgICAgICBkZXRhaWxJZDogdGhpcy5vcHRpb25zLmRldGFpbElkLAogICAgICAgIGxhdDogdGhpcy5sb2NhdGlvbkluZm8ubGF0aXR1ZGUsCiAgICAgICAgbG5nOiB0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGUKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGlmIChyZXMuc3RhdGUgJiYgcmVzLmluZm8pIHsKICAgICAgICAgIGxldCBzdWl0U2hvcHMgPSByZXMuaW5mby5zdWl0U2hvcHMgfHwgW10KICAgICAgICAgIHRoaXMuc3VpdFNob3BzID0gc3VpdFNob3BzCiAgICAgICAgICB0aGlzLnJlY2VudFNob3AgPSBzdWl0U2hvcHNbMF0gfHwge30KICAgICAgICB9IGVsc2UgewoKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfSwKICAKICBjcmVhdGVkKCkgewogICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuJHJvdXRlLnF1ZXJ5CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zCiAgICB0aGlzLmdldENvdXBEZXRhaWwoKQogIH0sCiAgYWN0aXZhdGVkKCkgewoKICB9LAogIGRlc3Ryb3llZCgpIHsKICB9Cn0K"},{"version":3,"sources":["activeCoupon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"activeCoupon.vue","sourceRoot":"src/views/active","sourcesContent":["<!--\r\n * @Description: 特卖活动\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-20 15:48:24\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-08 11:32:20\r\n--> \r\n<template>\r\n  <div>\r\n    <van-skeleton title :row=\"14\" :loading=\"!ready\">\r\n      <template v-if=\"ready\">\r\n        <common-swiper :imgUrls=\"mediaList\" ></common-swiper>\r\n        <div class=\"act-container\" >\r\n          <!-- 现金红包 && 使用规则 -->\r\n          <active-cash id=\"activeCash\" :info=\"info\" :options=\"options\" actType=\"cardDetail\" />\r\n          <!-- 商品详情 -->\r\n          <active-coupon :info=\"info\"></active-coupon>\r\n          <!-- 自我游-房态详情 -->\r\n          <active-room :url=\"info.houseUrl\"></active-room>\r\n          <!-- 使用须知 -->\r\n          <active-notice :info=\"info\"></active-notice>\r\n          <!-- 品牌及门店 -->\r\n          <template v-if=\"info.supplierCode != 'PARTY_ZWY' && info.cardType != 'CARD_DIRECT_RECHARGE'\">\r\n            <active-brand :info=\"info\" :suitShops=\"suitShops\" :options=\"options\" :fixedDetail=\"fixedDetail\"></active-brand>\r\n          </template>\r\n          <!-- 商家/图文详情 -->\r\n          <active-graphic :detail=\"graphicDetail\" :title=\"info.describe ? '图文详情' : '商家详情'\"></active-graphic>\r\n        </div>\r\n      </template>\r\n    </van-skeleton>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import activeBrand from '@components/active/activeBrand'\r\n  import activeNotice from '@components/active/activeNotice'\r\n  import activeGraphic from '@components/active/activeGraphic'\r\n  import activeRoom from '@components/active/activeRoom'\r\n  import activeCoupon from '@components/active/activeCoupon'\r\n  import activeCash from '@components/active/activeCash'\r\n\r\n  export default {\r\n    name: 'specialSale',\r\n    computed: {},\r\n    components:{\r\n      activeCoupon,\r\n      activeCash,\r\n      activeGraphic,\r\n      activeBrand,\r\n      activeRoom,\r\n      activeNotice,\r\n    },\r\n    data() {\r\n      return {\r\n        vipUser: false,\r\n        suitShops: [],\r\n        mediaList: [],\r\n        graphicDetail: '', // 详情html信息\r\n        timer: null,\r\n        recommendList: [], // 其他礼包推荐/推荐权益\r\n        btnDisabled: false,\r\n        cashMask: false,\r\n        ready: false,\r\n        fixedDetail:{}, // 门店品牌人均信息\r\n        channelType: '',\r\n        options: this.$route.query || {},\r\n        info: {}\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"wxUser\", \"locationCity\", \"vipCardInfo\", \"updateFlag\"])\r\n    },\r\n    methods: {\r\n      // 获取活动卡券详情\r\n      getCoupDetail() {\r\n        return this.$api.act_card_detail({\r\n          cardId: this.options.cardId,\r\n          detailId: this.options.detailId,\r\n          actSn: this.options.actSn\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.info = { ...this.info, ...res.info }\r\n            this.mediaList = res.info.mediaList\r\n            this.ready = true\r\n            if(res.info.shopShow) {\r\n              this.getSuitShops() \r\n            }\r\n            // 自我游卡券时商家详情显示为图文详情\r\n            if (this.info.describe) {\r\n              this.graphicDetail = this.info.describe\r\n            }\r\n            this.getFixedDetail(res.info.shopSn) // 获取商家详情\r\n          } else {\r\n            // this.back_to(res)\r\n          }\r\n        })\r\n      },\r\n\r\n\r\n      // 获取商家固定信息\r\n      getFixedDetail(shopSn) {\r\n        this.$api.shop_fixed_detail({\r\n          shopSn,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.fixedDetail = res.info.shop\r\n            if(!this.info.describe) {\r\n              this.graphicDetail = res.info.shop.detail\r\n            }\r\n          }\r\n        })\r\n      },\r\n\r\n      getSuitShops() {\r\n        return this.$api.suitShop({\r\n          cardId: this.options.cardId,\r\n          detailId: this.options.detailId,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude\r\n        }).then(res => {\r\n          if (res.state && res.info) {\r\n            let suitShops = res.info.suitShops || []\r\n            this.suitShops = suitShops\r\n            this.recentShop = suitShops[0] || {}\r\n          } else {\r\n\r\n          }\r\n        })\r\n      }\r\n    },\r\n    \r\n    created() {\r\n      const options = this.$route.query\r\n      this.options = options\r\n      this.getCoupDetail()\r\n    },\r\n    activated() {\r\n\r\n    },\r\n    destroyed() {\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n  .footer1 {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    height: 142px;\r\n    text-align: center;\r\n    bottom: 0;\r\n  }\r\n  .footer1 img {\r\n    position: relative;\r\n    z-index: -1;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .footer1 .footer-text {\r\n    top: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .footer1 form {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n  }\r\n  .footer1 button {\r\n    font-size: 34px;\r\n    color: #fff;\r\n    line-height: 127px;\r\n  }\r\n  /* 日历显示 */\r\n  .calendar {\r\n    padding: 30px 0 40px 24px;\r\n    background-color: #fff;\r\n    margin-bottom: 18px;\r\n  }\r\n  .calendar .calendar-til .right .iconicon_more {\r\n    margin-right: 10px;\r\n  } \r\n  .calendar .calendar-list {\r\n    margin-top: 25px;\r\n  }\r\n  .calendar .calendar-list .calendar-scroll {\r\n    width: 100%;\r\n    white-space: nowrap;\r\n  }\r\n  .calendar .calendar-list .list-item {\r\n    display: inline-block;\r\n    padding-top: 20px;\r\n    margin-left: 16px;\r\n    width: 160px;\r\n    height: 110px;\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(245,243,240,0.80);\r\n    border-radius: 10px;\r\n  }\r\n  .calendar .calendar-list .list-item:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .calendar .calendar-list .list-item .month {\r\n    margin-bottom: 16px;\r\n  }\r\n  /* 现金红包 */\r\n  .travel-card-name {\r\n    line-height: 40px;\r\n  }\r\n\r\n</style>"]}]}