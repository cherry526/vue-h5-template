{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\order\\orderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\order\\orderList.vue","mtime":1596769853618},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBJbnRlcnZhbCwgZ3JvdXBJbnRlcnZhbDsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB1aXRscyBmcm9tICdAdXRpbHMvdXRpbHMnCmltcG9ydCBvcmRlclBheSBmcm9tICdAdXRpbHMvcGF5Jwpjb25zdCBjb3VudERvd24zID0gcmVxdWlyZSgnQC9maWx0ZXJzL2NvbW1vbi5qcycpLmNvdW50RG93bjMKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdvcmRlckxpc3QnLAogIG1peGluczogW10sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoWyJsb2NhdGlvbkluZm8iLCAid3hVc2VyIiwgInZpcENhcmRJbmZvIiwgIm5lZWRBdXRoIl0pCiAgfSwKICBjb21wb25lbnRzOnt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWI6IFsn5YWo6YOoJywgJ+W+heaUr+S7mCcsICflt7LmlK/ku5gnLCAn6YCA5qy+J10sCiAgICAgIHRhYkluZGV4OiAwLAogICAgICBwYWdlOiAxLAogICAgICBsaXN0OiBbXSwKICAgICAgaGFzTW9yZTogdHJ1ZSwKICAgICAgdmlwVHlwZTogWycnLCAn5L2T6aqM5Y2hJywgJ+aciOWNoScsICflraPljaEnLCAn5bm05Y2hJ10sCiAgICAgIGF2ZXJhZ2VTYXZpbmdzOiAnJywKICAgICAgb3JkZXJTaG93OiBmYWxzZSwgLy8g5LiL5Y2V5oiQ5Yqf5by556qXCiAgICAgIGN1cnJlbnRUcmFkZUlkOiAwLCAKICAgICAgZG93blRpbWU6IHt9LAogICAgICBmaWx0ZXJEYXRhOiB7fSwKICAgICAgcmVmcmVzaExpc3Q6IGZhbHNlLAogICAgICAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoJ2luZGV4JywgWydnZXRVcGRhdGVQYWdlJ10pLAogICAgY2hhbmdlVGFiICgpIHsKICAgICAgY29uc29sZS5sb2coJ2NoYW5nZVRhYuinpuWPkScsIHRoaXMudGFiSW5kZXgpCiAgICAgIHRoaXMuZmlsdGVyRGF0YSA9IHsKICAgICAgICBvcmRlclR5cGU6IHRoaXMudGFiSW5kZXgsCiAgICAgICAgbGF0OiB0aGlzLmxvY2F0aW9uSW5mby5sYXRpdHVkZSwKICAgICAgICBsbmc6IHRoaXMubG9jYXRpb25JbmZvLmxvbmdpdHVkZSwKICAgICAgICBwZXJTaXplOiAxMAogICAgICB9CiAgICAgIHRoaXMucmVmcmVzaExpc3QgPSB0cnVlCiAgICB9LAogICAgY2hhbmdlTGlzdCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5saXN0LCAnbGlzdCcpCiAgICAgIHRoaXMuY291bnREb3duKCkKICAgIH0sCiAgICAvLyDot7PovazorqLljZXor6bmg4UKICAgIGRldGFpbCAoaXRlbSkgewogICAgICBsZXQgeyB0cmFkZUlkLCB0cmFkZU5vLCBzaG9wTmFtZSwgZGl2T3JkZXJUeXBlLCBncm91cElkIH0gPSBpdGVtCgogICAgICBncm91cElkID0gIWdyb3VwSWQgPyAnJyA6IGdyb3VwSWQgICAgCiAgICAgIGlmKGl0ZW0uYnVzaW5lc3NDb2RlID09ICdRSUFOWkhVX0tGQycpewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIGlmIChkaXZPcmRlclR5cGUgPT0gMikgewogICAgICAgIC8vIHd4Lm5hdmlnYXRlVG8oewogICAgICAgIC8vICAgdXJsOiBgL3BhZ2VzL2NlbnRlci9vcmRlcl9kZXRhaWxzL2J1eV9wYXkvYnV5X3BheT9pZD0ke3RyYWRlTm99YCwKICAgICAgICAvLyB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnb3JkZXJEZXRhaWwnLAogICAgICAgICAgcXVlcnk6IHsgCiAgICAgICAgICAgIGlkOiB0cmFkZUlkLCAKICAgICAgICAgICAgc2hvcE5hbWUsIAogICAgICAgICAgICB0eXBlOiBkaXZPcmRlclR5cGUsIAogICAgICAgICAgICBncm91cElkCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQoKICAgIH0sCgogICAgLy8g5Y+W5raI6K6i5Y2VCiAgICBjYW5jZWxPcmRlciAoaXRlbSwga2V5KSB7CiAgICAgIGxldCB0cmFkZUlkID0gaXRlbS50cmFkZUlkCiAgICAgIGxldCBsaXN0ID0gdGhpcy5saXN0CiAgICAgIHRoaXMuJGRpYWxvZy5jb25maXJtKHsKICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgbWVzc2FnZTon5piv5ZCm56Gu6K6k5Y+W5raI5q2k6K6i5Y2VJywKICAgICAgfSkudGhlbigoKT0+ewogICAgICAgICAgdGhpcy4kYXBpLmNhcmRPcmRlckNhbmNsZSh7CiAgICAgICAgICAgIHRyYWRlSWQ6IHRyYWRlSWQKICAgICAgICAgIH0pLnRoZW4ocmVzPT57CiAgICAgICAgICAgIGlmKHJlcy5zdGF0ZSl7CiAgICAgICAgICAgICAgLyoqIAogICAgICAgICAgICAgICogaW5kZXggMCDlvZN0YWLlnKjlhajpg6jml7bmlLnlj5jmlbDmja7nirbmgIEKICAgICAgICAgICAgICAqICAgICAgIDEg5b2TdGFi5Zyo5b6F5LuY5qy+5pe255u05o6l5Yig6Zmk5pWw5o2uCiAgICAgICAgICAgICAgKiAqLyAKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXksICdrZXknKQogICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGtleSwgMSkKICAgICAgICAgICAgICB0aGlzLmxpc3QgPSBsaXN0CiAgICAgICAgICAgICAgdGhpcy4kVG9hc3QoIuWPlua2iOaIkOWKnyIpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIHRoaXMuJGRpYWxvZy5hbGVydCh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Y+W5raI5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJywKICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5oiR55+l6YGT5LqGJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgLy8gb24gY2FuY2VsCiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDmlK/ku5gKICAgIHBheSAoaXRlbSwga2V5KSB7CiAgICAgIC8vIHd4LnNob3dMb2FkaW5nKHsKICAgICAgLy8gICB0aXRsZTogJ+W8gOWni+aUr+S7mC4uLicsCiAgICAgIC8vIH0pCiAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICBsZXQgdHJhZGVJZCA9IGl0ZW0udHJhZGVJZAogICAgICBsZXQgYWN0UGF5ID0gb3JkZXJQYXkuYWN0UGF5KHRyYWRlSWQpCiAgICAgIGlmIChhY3RQYXkpIHsKICAgICAgICBhY3RQYXkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8g5pSv5LuY5oiQ5YqfCiAgICAgICAgICB0aGlzLm9yZGVyUXVlcnkodHJhZGVJZCwga2V5KQogICAgICAgIH0pLmNhdGNoKChyZXMpPT4gewogICAgICAgICAgaWYgKHJlcy5jYW5jZWxQYXkpIHsKICAgICAgICAgICAgLy8g5pSv5LuY5aSx6LSlCiAgICAgICAgICAgIHRoaXMuJFRvYXN0KCflj5bmtojmlK/ku5gnKQogICAgICAgICAgfSBlbHNlIGlmIChyZXMuY29kZSA9PSAiNTA4IiB8fCByZXMuY29kZSA9PSAiNTA5IiB8fCByZXMuY29kZSA9PSAiMTQxMiIpIHsKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICB0aXRsZTogYOaPkOekumAsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgIH0pLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gdGhhdC5kYXRhLmxpc3QKICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGtleSwgMSkKICAgICAgICAgICAgICAgIHRoYXQubGlzdCA9IGxpc3QKICAgICAgICAgICAgfSkKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmNvZGUgPT0gMTUyMCkgewogICAgICAgICAgICAvLyDkuIvljZXku7fmoLzkuI7nrKzkuInmlrnku7fmoLzkuI3kuIDoh7QKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICB0aXRsZTogYOaPkOekumAsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+iuouWNleS/oeaBr+W3suiwg+aVtO+8jOivt+mHjeaWsOS4i+WNlScsCiAgICAgICAgICAgIH0pLnRoZW4oKCk9PnsKICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gdGhhdC5kYXRhLmxpc3QKICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGtleSwgMSkKICAgICAgICAgICAgICAgIHRoYXQubGlzdCA9IGxpc3QKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICAgIC8vIOagoemqjOiuouWNlQogICAgb3JkZXJRdWVyeSh0cmFkZUlkLCBrZXkpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzCiAgICAgIGxldCBvcmRlclF1ZXJ5ID0gb3JkZXJQYXkub3JkZXJRdWVyeSh0cmFkZUlkKQogICAgICBpZiAob3JkZXJRdWVyeSkgewogICAgICAgIG9yZGVyUXVlcnkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYocmVzLnN0YXRlKSB7CiAgICAgICAgICAgIC8vIOaUr+S7mOaIkOWKnwogICAgICAgICAgICBsZXQgbGlzdCA9IHRoYXQuZGF0YS5saXN0CiAgICAgICAgICAgIGxpc3Rba2V5XS5wYXlzdGF0ZSA9IDIKICAgICAgICAgICAgdGhhdC5saXN0ID0gbGlzdAogICAgICAgICAgICB0aGlzLiRUb2FzdCgn5pSv5LuY5oiQ5YqfIScpCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGxpc3Rba2V5XSwgJ2xpc3Rba2V5XScpCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfQogICAgfSwKCiAgICAvLyDlpITnkIborqLljZXlgJLorqHml7YKICAgIGNvdW50RG93biAoKSB7IAogICAgICBpZihJbnRlcnZhbCl7CiAgICAgICAgY2xlYXJJbnRlcnZhbChJbnRlcnZhbCkKICAgICAgfQogICAgICBpZihncm91cEludGVydmFsKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbChncm91cEludGVydmFsKQogICAgICB9CiAgICAgIHRoaXMucmVmcmVzaCA9IGZhbHNlCiAgICAgIEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCk9PnsKICAgICAgICBsZXQgbGlzdCA9IHRoaXMubGlzdAogICAgICAgIGZvcihsZXQgaT0wOyBpPCBsaXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgIGlmKGxpc3RbaV0ucGF5c3RhdGUgPT0gMSAmJiBsaXN0W2ldLmNhbmNlbFN0YXRlID09IDEpewogICAgICAgICAgICBpZihsaXN0W2ldICYmIGxpc3RbaV0ucmVtYWluVGltZSl7CiAgICAgICAgICAgICAgbGlzdFtpXS5yZW1haW5UaW1lIC09IDEwMDAKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBsaXN0W2ldLnJlbWFpblRpbWUgPSBsaXN0W2ldLmV4cGlyZWRUaW1lIC0gbmV3IERhdGUoKS5nZXRUaW1lKCkKICAgICAgICAgICAgfQogICAgICAgICAgICBpZihsaXN0W2ldLnJlbWFpblRpbWUgPD0gMCl7IC8vIOWAkuiuoeaXtue7k+adn+WIoOmZpOW+heS7mOasvgogICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksIDEpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHRoaXMubGlzdCA9IGxpc3QKICAgICAgfSwgMTAwMCkKICAgICAgLy8g5ou85Zui5YCS6K6h5pe2CiAgICAgIGdyb3VwSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+ewogICAgICAgIGxldCBsaXN0ID0gdGhpcy5saXN0CiAgICAgICAgZm9yKGxldCBpPTA7IGk8IGxpc3QubGVuZ3RoOyBpKyspewogICAgICAgICAgaWYobGlzdFtpXS5wYXlzdGF0ZSA9PSAyICYmIGxpc3RbaV0uZ3JvdXBTdGF0ZSA9PSAxICYmIGxpc3RbaV0uYWN0VHlwZSA9PSAnQUNUX0FTU0VNQkxFJykgewogICAgICAgICAgICBsaXN0W2ldLmdyb3VwUmVtYWluVGltZSAtPSAxMDAKICAgICAgICAgICAgbGV0IGxhc3RUaW1lID0gY291bnREb3duMyhsaXN0W2ldLmdyb3VwUmVtYWluVGltZSwgdHJ1ZSkKICAgICAgICAgICAgbGlzdFtpXS5kb3duVGltZSA9IGxhc3RUaW1lCiAgICAgICAgICAgIGlmKGxpc3RbaV0uZ3JvdXBSZW1haW5UaW1lIDw9IDApIHsgLy8g5YCS6K6h5pe257uT5p2fCiAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCA9IHRydWUKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLnJlZnJlc2ggPSB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5saXN0ID0gbGlzdAogICAgICB9LCAxMDApCiAgICB9LAoKICAgIGZvcm1TdWJtaXQoZSkgewogICAgICBpZighdGhpcy5uZWVkQXV0aCkgewogICAgICAgIHRoaXMudG9Kb2luKCkKICAgICAgfQogICAgfSwKICAgIHRvSm9pbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6J2pvaW5WaXAnCiAgICAgIH0pCiAgICB9LAoKICB9LAogIC8vIOinpuWPkeWIl+ihqOWIt+aWsOaVsOaNrgogIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMuZ2V0VXBkYXRlUGFnZSgnb3JkZXJMaXN0JykudGhlbihyZXMgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXMsICctLS0tLS0tLS0tLS0tcmVzJykKICAgICAgdGhpcy5jaGFuZ2VUYWIoKQogICAgfSkKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmF2ZXJhZ2VTYXZpbmdzID0gdGhpcy52aXBDYXJkSW5mbyA/IHRoaXMudmlwQ2FyZEluZm8uYXZlcmFnZVNhdmluZ3MgOiAnJwogICAgdGhpcy5maWx0ZXJEYXRhID0gewogICAgICBvcmRlclR5cGU6IHRoaXMudGFiSW5kZXgsCiAgICAgIGxhdDogdGhpcy5sb2NhdGlvbkluZm8ubGF0aXR1ZGUsCiAgICAgIGxuZzogdGhpcy5sb2NhdGlvbkluZm8ubG9uZ2l0dWRlLAogICAgICBwZXJTaXplOiAxMAogICAgfQogICAgdGhpcy5jYW5DbGljayA9IHRydWUKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIGNsZWFySW50ZXJ2YWwoSW50ZXJ2YWwpCiAgICBjbGVhckludGVydmFsKGdyb3VwSW50ZXJ2YWwpCiAgfQp9Cg=="},{"version":3,"sources":["orderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderList.vue","sourceRoot":"src/views/order","sourcesContent":["<!--\r\n * @Description: 订单列表\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-21 14:21:01\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-07 11:10:53\r\n--> \r\n<template>\r\n  <div class=\"order-page\">\r\n    <normal-tab :tab=\"tab\" v-model=\"tabIndex\" @change=\"changeTab\"></normal-tab>\r\n    <common-list\r\n      class=\"order-list\"\r\n      apiName='orderList'\r\n      listName=\"orderList\"\r\n      :list.sync=\"list\"\r\n      :filterData='filterData'\r\n      :refresh.sync=\"refreshList\"\r\n      :dropDown=\"true\"\r\n      :auto=\"false\"\r\n      @change=\"changeList\"\r\n    >\r\n      <template v-slot=\"{ list }\">\r\n        <template v-if=\"list.length\">\r\n          <div v-for=\"(item, index) in list \" :key=\"index\">\r\n            <div class=\"order-item\" @click=\"detail(item, index)\" >\r\n              <div class=\"item-header flex-c-b bold\">\r\n                <div class=\"flex-cc ft28 c1A\">\r\n                  <!-- 卡券 -->\r\n                  <template v-if=\" item.divOrderType == 1\">\r\n                    <img src=\"https://oss.kdwaimai.com/jkb/15870287080001587028708212_833026.png\" v-if=\" item.actType == 'ACT_ASSEMBLE'\" class=\"icon\">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/order-bag.png\" v-else-if=\" item.actType == 'ACT_CASH_VOUCHER' \" class=\"icon\">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_order_gift.png\" v-else-if=\" item.actType == 'ACT_GIFT_PACKAGE'  \" class=\"icon\">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_order_fuboo.png\" v-else-if=\"item.actType == 'ACT_FORTUNE_PACKAGE'\" class=\"icon\">\r\n                    <img src=\"https://oss.kdwaimai.com/jkb/15845872250001584587225123_013506.png\" v-else-if=\" item.cardType === 'CARD_DIRECT_RECHARGE' \" class=\"icon\">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.5.12/icon_active.png\" v-else-if=\" item.actType === 'ACT_SHARE_FISSION' \" class=\"icon\">\r\n                    <template  v-else-if=\" item.partyCode == 'PARTY_QIANZHU' \">\r\n                      <img v-if=\" item.businessCode == 'QIANZHU_MOVIE' \" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/order-moive.png\" class=\"icon\">\r\n                      <img v-else-if=\" item.businessCode == 'QIANZHU_KFC' \" src=\"https://oss.kdwaimai.com/jkb/15894207270001589420727011_977189.png\" class=\"icon\">\r\n                      <!-- 预留 -->\r\n                      <template v-else></template> \r\n                    </template>\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_order_card.png\" v-else class=\"icon\">\r\n                    <span class=\"t-elps max500\" v-if=\" item.actType == 'ACT_ASSEMBLE'\"> 拼团·{{item.groupId ? item.needPeople + '人团' : '单独购买'}}</span>\r\n                    <span class=\"t-elps max500\" v-else-if=\" item.cardType === 'CARD_DIRECT_RECHARGE'\">{{ item.shopName }}</span>\r\n                    <span class=\"t-elps max500\"  v-else-if=\" item.actType == 'ACT_FORTUNE_PACKAGE'\">福包</span>\r\n                    <span class=\"t-elps max500\" v-else-if=\" item.actType == 'ACT_SHARE_FISSION'\">助力活动</span>\r\n                    <template  v-else-if=\" item.partyCode == 'PARTY_QIANZHU'\">\r\n                      <span class=\"t-elps max500 \" v-if=\" item.businessCode == 'QIANZHU_MOVIE'\">{{item.cinemaName}}</span>\r\n                      <span class=\"t-elps\" v-if=\" item.businessCode == 'QIANZHU_KFC'\">肯德基</span>\r\n                      <!-- 预留 -->\r\n                      <template v-else></template> \r\n                    </template>\r\n                    <span class=\"t-elps\" v-else-if=\" item.actType == 'ACT_GIFT_PACKAGE'\">礼包</span>\r\n                    <span class=\"t-elps\" v-else-if=\" item.actType == 'ACT_CASH_VOUCHER'\">红包</span>\r\n                    <span class=\"t-elps max500\" v-else>{{ item.shopName }} {{ item.suitShop ? '(' + item.suitShop + ')' : ''}}</span>\r\n                  </template>\r\n                  <!-- 买单 -->\r\n                  <template v-else-if=\" item.divOrderType == 2 \">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_order_check.png\" class=\"icon\">\r\n                    <span class=\"t-elps\">买单</span>\r\n                  </template>\r\n                  <!-- 会员 -->\r\n                  <template v-else>\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_my_member_icon.png\" class=\"icon\">\r\n                    <span class=\"t-elps\">潮级VIP</span>\r\n                  </template>\r\n                </div>\r\n\r\n                \r\n                <template v-if=\"item.divOrderType == 1\">\r\n                  <span class=\"header-state\" v-if=\" item.refundState == 1 \">退款中</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.refundState == 2 \">已退款</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.refundState == 3 \">退款失败</span>          \r\n                  <span class=\"header-state\" style=\"color: #F51307;\" v-else-if=\" item.paystate == 1 \">待支付</span>\r\n                  <template v-else-if=\" item.paystate == 2 \">\r\n                    <!-- 拼团 -->\r\n                    <template v-if=\" item.actType == 'ACT_ASSEMBLE' \">\r\n                      <div class=\"flex-cc\" v-if=\" item.groupState == 1 \">\r\n                        <span class=\"header-state mr8\">距结束</span>\r\n                        <div class=\"flex-cc ml12\">\r\n                          <span class=\"date_num\">{{item.downTime.hour}}</span>\r\n                          <span class=\"date_dot\">:</span>\r\n                          <span class=\"date_num\">{{item.downTime.minute}}</span>\r\n                          <span class=\"date_dot\">:</span>\r\n                          <span class=\"date_num\">{{item.downTime.second}}</span>\r\n                          <span class=\"date_dot\">:</span>\r\n                          <span class=\"date_num date_ms\">{{item.downTime.ms}}</span>\r\n                        </div>\r\n                      </div>\r\n                      <span class=\"header-state\" v-else-if=\" item.groupState == 2 \">拼团成功</span>\r\n                      <span class=\"header-state\" v-else-if=\" item.groupState == 3 \">拼团失败</span>\r\n                    </template>\r\n                    <!-- 肯德基 -->\r\n                    <!-- <template v-else-if=\"item.partyCode == 'PARTY_QIANZHU' && item.businessCode == 'QIANZHU_KFC' && item.qzKfcInfo\">\r\n                      <span class=\"header-state\" style=\"color: #F51307;\" v-if=\" item.qzKfcInfo.status == 5 \">排队中</span>\r\n                      <span class=\"header-state\" v-else-if=\"item.qzKfcInfo.status == 10\">已出取餐码</span>\r\n                    </template> -->\r\n                    <span class=\"header-state\" v-else-if=\"item.paystate == 2\">已支付</span>\r\n                  </template>\r\n                  <span class=\"header-state\" v-else-if=\"item.paystate == 3\">支付失败</span>\r\n                </template>\r\n                <template v-else-if=\"item.divOrderType == 2\">\r\n                  <span class=\"header-state\" v-if=\" item.refundState == 2\">退款中</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.refundState == 3\">已退款</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.paystate == 1\">待支付</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.paystate == 2\">已支付</span>\r\n                  <span class=\"header-state\" v-else-if=\" item.paystate == 3\">支付失败</span>\r\n                </template>\r\n                <template v-else>\r\n                  <span class=\"header-state tar\">{{ item.refundState == 1 ? '已支付' : '已退款' }}</span>\r\n                </template>\r\n              </div>\r\n              <div class=\"info flex\">\r\n                <!-- 订单图片 -->\r\n                <template v-if=\" item.divOrderType == 1\">\r\n                  <div class=\"order-img\" v-if=\" item.actType == 'ACT_ASSEMBLE'\">\r\n                    <img class=\"wh order-img-r\" :style=\"{ background: 'url(' + item.actPic + ') no-repeat center'}\">\r\n                  </div>\r\n                  <template v-else-if=\" item.actType == 'ACT_FORTUNE_PACKAGE'\">\r\n                    <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.3.8/fortune_act_pic.png\" class=\"order-img\">\r\n                  </template>\r\n                  <!-- 第三方 -->\r\n                  <template v-else-if=\"item.partyCode == 'PARTY_QIANZHU'\">\r\n                    <div class=\"order-img\"  v-if=\"item.businessCode == 'QIANZHU_MOVIE' \">\r\n                      <img class=\"wh order-img-r\" :style=\"{ background: 'url(' + item.actPic + ') no-repeat center' }\">\r\n                    </div>\r\n                    <img v-else src=\"https://oss.kdwaimai.com/jkb/15894238770001589423877541_003988.png\" class=\"order-img\">\r\n                  </template>\r\n                  <template v-else>\r\n                    <img :src=\"item.actPic\" class=\"order-img\">\r\n                  </template>\r\n                </template>\r\n                <template v-else-if=\" item.divOrderType == 2\">\r\n                  <img :src=\"item.shopPic\" class=\"order-img\">\r\n                </template>\r\n                <template v-else>\r\n                  <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/card_list.png\" class=\"order-img\">\r\n                </template>\r\n                <div class=\"flex-1\">\r\n                  <div class=\"flex\">\r\n                    <div class=\"flex-1\">\r\n                      <template v-if=\"item.divOrderType == 1\">\r\n                        <div class=\"info-name text-two\" v-if=\" item.cardType == 'CARD_DIRECT_RECHARGE' \">{{ item.cardName}}</div>\r\n                        <div class=\"info-name text-two\" v-else-if=\" item.actType == 'ACT_GIFT_PACKAGE' || item.actType == 'ACT_FORTUNE_PACKAGE' || item.actType == 'ACT_CASH_VOUCHER'\">{{ item.actName}}</div>\r\n                        <template v-else-if=\"item.partyCode == 'PARTY_QIANZHU'\">\r\n                          <div class=\"info-name text-two\" v-if=\" item.businessCode == 'QIANZHU_MOVIE' \">{{item.filmName}}</div>\r\n                          <div class=\"kfc-name flex-v \" v-else>\r\n                            <span class=\"third-shop\">门店</span>\r\n                            <div class=\"text-one flex-1 bold\">{{item.qzKfcInfo.storeName}}</div>\r\n                          </div>\r\n                        </template>\r\n                        <div class=\"info-name text-two\" v-else>{{ item.actName}}</div>\r\n                      </template>\r\n                      <template v-else-if=\"item.divOrderType == 2\">\r\n                        <div class=\"info-name text-two\">{{ item.shopName || ''}}</div>\r\n                      </template>\r\n                      <template v-else>\r\n                        <div class=\"info-name text-two\">{{ item.cardName}}{{item.autoRenewal ? '' : '(有效期' + item.vaildDay  + '天)' }}</div>\r\n                      </template>\r\n                      <template v-if=\"item.partyCode == 'PARTY_QIANZHU'\">\r\n                        <div v-if=\" item.businessCode == 'QIANZHU_MOVIE' \" class=\"ft28 c1A mb18\">{{ item.showTime }}</div>\r\n                        <div v-else class=\"kfc-address text-two\">{{item.qzKfcInfo.storeAddress}}</div>\r\n                      </template>\r\n                      <div class=\"ft24 c9E\">下单时间: {{ item.orderTime | formatTime('YYYY/MM/DD HH:mm:ss') }}</div>\r\n                      <template v-if=\"item.partyCode != 'PARTY_QIANZHU' && item.businessCode != 'QIANZHU_KFC'\">\r\n                        <div class=\"ft24 c9E\" style=\"margin-top: 12px;\" v-if=\"item.divOrderType == 3 && !item.totalMoney\">免费领取</div>\r\n                        <div class=\"mt12\" v-if=\" item.actType == 'ACT_ASSEMBLE' && item.groupState == 1 \">\r\n                          <span class=\"spelled-label\">还差{{ item.needJoinPer }}人成团</span>\r\n                        </div>\r\n                      </template>\r\n                      <!-- <template v-else>\r\n                        <div v-if=\"item.qzKfcInfo && item.qzKfcInfo.status == 10\" ><span class=\"kfc-tip mt12\">已出取餐码，请凭取餐码到前台取餐</span></div>\r\n                      </template> -->\r\n                    </div>\r\n                    <template v-if=\"item.partyCode != 'PARTY_QIANZHU' && item.businessCode != 'QIANZHU_KFC'\">\r\n                      <div class=\"tar info-number\" v-if=\"item.divOrderType == 1\">\r\n                        <div class=\"ft20\" style=\"margin: 9px 0;\">¥<span class=\"ft28 c1A\">{{ item.tradeFunds | fixedNum }}</span></div>\r\n                        <div class=\"ft22 c9E\" >x{{ item.buyCnt }}</div>\r\n                      </div>\r\n                    </template>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"order-vip\" v-if=\"item.orderType == 4 || item.orderType == 5\">\r\n                <div class=\"flex-b\">\r\n                  <div class=\"flex-v flex-1\">\r\n                    <div class=\"order-vip-box\">\r\n                      <img class=\"order-vip-icon\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_vip.png\">\r\n                    </div>\r\n                    <span class=\"ft28 c1A flex-1\">{{item.vipCardName}}</span>\r\n                  </div>\r\n                  <span class=\"ft24 c1A\">¥{{ item.vipCardPrice | fixedNum }}</span>\r\n                </div>\r\n              </div>\r\n              <div v-if=\"item.partyCode == 'PARTY_QIANZHU' && item.businessCode == 'QIANZHU_KFC'\" class=\"w\" style=\"height: 21px;\"></div>\r\n              <div class=\"tar ft24 c1A lh1 flex-end-end mg30\"  >\r\n                <template  v-if=\"item.divOrderType == 1\">\r\n                  <span v-if=\"item.partyCode == 'PARTY_QIANZHU' && item.businessCode == 'QIANZHU_KFC'\">您本次订餐{{item.qzKfcInfo.quantity}}份餐品</span>\r\n                  <span v-else>共{{ item.buyCnt }}件商品</span>\r\n                </template>\r\n                <span class=\"fr ml9\">合计：<span class=\"bold\">¥</span><span class=\"ft32 bold\">{{ item.totalMoney | NumSplit(2, 1) }}</span><span>.{{ item.totalMoney | NumSplit(2, 2) }}</span></span>\r\n              </div>\r\n\r\n              <template v-if=\" item.groupState == 1 && item.actType == 'ACT_ASSEMBLE'\">\r\n                <button class=\"item-footer flex-ec\" :data-item=\"item\">\r\n                  <div class=\"spelled-btn flex-cc\">邀请好友</div>\r\n                </button>\r\n              </template>\r\n              <!-- <template v-if=\"item.partyCode == 'PARTY_QIANZHU' && item.businessCode == 'QIANZHU_KFC' && item.qzKfcInfo.status == 10 && item.refundState != 2\">\r\n                <div class=\"item-footer flex-ec\">\r\n                  <div class=\"kfc-btn\">查看取餐码</div>\r\n                </div>\r\n              </template> -->\r\n              <div class=\"item-footer flex-ec\" v-else-if=\" item.partyCode == 'PARTY_QIANZHU' && !item.status && (item.payState == 1 || item.paystate == 1)\">\r\n                <span @click.stop=\"cancelOrder(item, index)\" :data-id=\"item.tradeId\"  :data-key=\"index\" class=\"order-btn order-no flex-cc mr18\">取消订单</span>\r\n                <span @click.stop=\"pay(item, index)\" class=\"order-btn order-yes flex-cc\">付款{{item.remainTime | countDown2(1)}}</span>\r\n              </div>\r\n              <div class=\"item-footer flex-ec\" v-else-if=\" item.partyCode != 'PARTY_QIANZHU' && (item.payState == 1 || item.paystate == 1 ) \">\r\n                <div  class=\"order-btn order-no flex-cc mr18\"  @click.stop=\"cancelOrder(item, index)\">取消订单</div>\r\n                <div class=\"order-btn order-yes flex-cc\" @click.stop=\"pay(item, index)\" :data-id=\"item.tradeId \" :data-key=\"index\">付款 {{ item.remainTime | formatTime('mm:ss')}}</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n      </template>\r\n    </common-list>\r\n\r\n    <!-- <template v-if=\"list.length == 0 && loading\">\r\n      <div class=\"vip-empty tac\" v-if=\" item.divOrderType == 3 \">\r\n        <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/em_feedback_icon.png\">\r\n        <div class=\"ft36 c11 bold\">开通会员，预计每月可省{{ averageSavings/100 }}元</div>\r\n        <button @click=\"formSubmit\" type=\"submit\">立即开通</button>\r\n      </div>\r\n      <div class=\"empty tac\" v-else>\r\n        <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/empty_state.png\">\r\n        <div class=\"ft32 c8C no-tips\">暂无记录</div>\r\n      </div>\r\n    </template> -->\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  var Interval, groupInterval;\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import uitls from '@utils/utils'\r\n  import orderPay from '@utils/pay'\r\n  const countDown3 = require('@/filters/common.js').countDown3\r\n  export default {\r\n    name: 'orderList',\r\n    mixins: [],\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"wxUser\", \"vipCardInfo\", \"needAuth\"])\r\n    },\r\n    components:{},\r\n    data() {\r\n      return {\r\n        tab: ['全部', '待支付', '已支付', '退款'],\r\n        tabIndex: 0,\r\n        page: 1,\r\n        list: [],\r\n        hasMore: true,\r\n        vipType: ['', '体验卡', '月卡', '季卡', '年卡'],\r\n        averageSavings: '',\r\n        orderShow: false, // 下单成功弹窗\r\n        currentTradeId: 0, \r\n        downTime: {},\r\n        filterData: {},\r\n        refreshList: false,\r\n        \r\n      }\r\n    },\r\n    methods: {\r\n      ...mapActions('index', ['getUpdatePage']),\r\n      changeTab () {\r\n        console.log('changeTab触发', this.tabIndex)\r\n        this.filterData = {\r\n          orderType: this.tabIndex,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude,\r\n          perSize: 10\r\n        }\r\n        this.refreshList = true\r\n      },\r\n      changeList() {\r\n        console.log(this.list, 'list')\r\n        this.countDown()\r\n      },\r\n      // 跳转订单详情\r\n      detail (item) {\r\n        let { tradeId, tradeNo, shopName, divOrderType, groupId } = item\r\n\r\n        groupId = !groupId ? '' : groupId    \r\n        if(item.businessCode == 'QIANZHU_KFC'){\r\n          return false\r\n        }\r\n        if (divOrderType == 2) {\r\n          // wx.navigateTo({\r\n          //   url: `/pages/center/order_details/buy_pay/buy_pay?id=${tradeNo}`,\r\n          // });\r\n        } else {\r\n          this.$router.push({\r\n            name: 'orderDetail',\r\n            query: { \r\n              id: tradeId, \r\n              shopName, \r\n              type: divOrderType, \r\n              groupId\r\n            }\r\n          })\r\n        }\r\n\r\n      },\r\n\r\n      // 取消订单\r\n      cancelOrder (item, key) {\r\n        let tradeId = item.tradeId\r\n        let list = this.list\r\n        this.$dialog.confirm({\r\n          title: '提示',\r\n          message:'是否确认取消此订单',\r\n        }).then(()=>{\r\n            this.$api.cardOrderCancle({\r\n              tradeId: tradeId\r\n            }).then(res=>{\r\n              if(res.state){\r\n                /** \r\n                * index 0 当tab在全部时改变数据状态\r\n                *       1 当tab在待付款时直接删除数据\r\n                * */ \r\n                console.log(key, 'key')\r\n                list.splice(key, 1)\r\n                this.list = list\r\n                this.$Toast(\"取消成功\")\r\n              }else{\r\n                this.$dialog.alert({\r\n                  message: '取消失败，请稍后重试',\r\n                  confirmButtonText: '我知道了'\r\n                })\r\n              }\r\n            })\r\n        }).catch(() => {\r\n              // on cancel\r\n        });\r\n      },\r\n\r\n      // 支付\r\n      pay (item, key) {\r\n        // wx.showLoading({\r\n        //   title: '开始支付...',\r\n        // })\r\n        let that = this\r\n        let tradeId = item.tradeId\r\n        let actPay = orderPay.actPay(tradeId)\r\n        if (actPay) {\r\n          actPay.then(res => {\r\n            // 支付成功\r\n            this.orderQuery(tradeId, key)\r\n          }).catch((res)=> {\r\n            if (res.cancelPay) {\r\n              // 支付失败\r\n              this.$Toast('取消支付')\r\n            } else if (res.code == \"508\" || res.code == \"509\" || res.code == \"1412\") {\r\n              this.$dialog.alert({\r\n                title: `提示`,\r\n                message: res.message,\r\n              }).then(()=>{\r\n                  let list = that.data.list\r\n                  list.splice(key, 1)\r\n                  that.list = list\r\n              })\r\n            } else if (res.code == 1520) {\r\n              // 下单价格与第三方价格不一致\r\n              this.$dialog.alert({\r\n                title: `提示`,\r\n                message: '订单信息已调整，请重新下单',\r\n              }).then(()=>{\r\n                  let list = that.data.list\r\n                  list.splice(key, 1)\r\n                  that.list = list\r\n              })\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      // 校验订单\r\n      orderQuery(tradeId, key) {\r\n        let that = this\r\n        let orderQuery = orderPay.orderQuery(tradeId)\r\n        if (orderQuery) {\r\n          orderQuery.then(res => {\r\n            if(res.state) {\r\n              // 支付成功\r\n              let list = that.data.list\r\n              list[key].paystate = 2\r\n              that.list = list\r\n              this.$Toast('支付成功!')\r\n              console.log(list[key], 'list[key]')\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      // 处理订单倒计时\r\n      countDown () { \r\n        if(Interval){\r\n          clearInterval(Interval)\r\n        }\r\n        if(groupInterval) {\r\n          clearInterval(groupInterval)\r\n        }\r\n        this.refresh = false\r\n        Interval = setInterval(()=>{\r\n          let list = this.list\r\n          for(let i=0; i< list.length; i++){\r\n            if(list[i].paystate == 1 && list[i].cancelState == 1){\r\n              if(list[i] && list[i].remainTime){\r\n                list[i].remainTime -= 1000\r\n              } else {\r\n                list[i].remainTime = list[i].expiredTime - new Date().getTime()\r\n              }\r\n              if(list[i].remainTime <= 0){ // 倒计时结束删除待付款\r\n                list.splice(i, 1)\r\n              } else {\r\n                this.refresh = true\r\n              }\r\n            }\r\n          }\r\n          this.list = list\r\n        }, 1000)\r\n        // 拼团倒计时\r\n        groupInterval = setInterval(()=>{\r\n          let list = this.list\r\n          for(let i=0; i< list.length; i++){\r\n            if(list[i].paystate == 2 && list[i].groupState == 1 && list[i].actType == 'ACT_ASSEMBLE') {\r\n              list[i].groupRemainTime -= 100\r\n              let lastTime = countDown3(list[i].groupRemainTime, true)\r\n              list[i].downTime = lastTime\r\n              if(list[i].groupRemainTime <= 0) { // 倒计时结束\r\n                this.refreshList = true\r\n              } else {\r\n                this.refresh = true\r\n              }\r\n            }\r\n          }\r\n          this.list = list\r\n        }, 100)\r\n      },\r\n\r\n      formSubmit(e) {\r\n        if(!this.needAuth) {\r\n          this.toJoin()\r\n        }\r\n      },\r\n      toJoin() {\r\n        this.$router.push({\r\n          name:'joinVip'\r\n        })\r\n      },\r\n\r\n    },\r\n    // 触发列表刷新数据\r\n    activated() {\r\n      this.getUpdatePage('orderList').then(res => {\r\n        console.log(res, '-------------res')\r\n        this.changeTab()\r\n      })\r\n    },\r\n    created() {\r\n      this.averageSavings = this.vipCardInfo ? this.vipCardInfo.averageSavings : ''\r\n      this.filterData = {\r\n        orderType: this.tabIndex,\r\n        lat: this.locationInfo.latitude,\r\n        lng: this.locationInfo.longitude,\r\n        perSize: 10\r\n      }\r\n      this.canClick = true\r\n    },\r\n    destroyed() {\r\n      clearInterval(Interval)\r\n      clearInterval(groupInterval)\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n.max500 {\r\n  max-width: 500px;\r\n}\r\n.mr8 {\r\n  margin-right: 8px;\r\n}\r\n.ml9 {\r\n  margin-left: 9px;\r\n}\r\n.ml12 {\r\n  margin-left: 12px;\r\n}\r\n.mb18 {\r\n  margin-bottom: 18px;\r\n}\r\n.mr18 {\r\n  margin-right: 18px;\r\n}\r\n.mt12 {\r\n  margin-top: 12px;\r\n}\r\n.mg30 {\r\n  margin: 30px 0;\r\n}\r\n.order-img-r {\r\n  background-size: cover;\r\n  border-radius: 12px\r\n}\r\n\r\n.order-page {\r\n  padding-top: 96px;\r\n}\r\n\r\n.order-list {\r\n  width: 100%;\r\n  padding: 0 24px;\r\n  box-sizing: border-box;\r\n}\r\n.order-item {\r\n  background: #FFFFFF;\r\n  border: 1px solid #F5F3F0;\r\n  border-radius: 12px;\r\n  margin-top: 18px;\r\n  padding: 0 24px;\r\n  box-sizing: border-box;\r\n}\r\n.item-header {\r\n  height: 84px;\r\n}\r\n.icon {\r\n  width: 36px;\r\n  height: 36px;\r\n  margin-right: 12px;\r\n}\r\n.header-state {\r\n  font-size: 26px;\r\n  color: #666564;\r\n  font-weight: normal;\r\n}\r\n.order-img {\r\n  width: 160px;\r\n  height: 160px;\r\n  border-radius: 12px;\r\n  border: 1px solid #fff;\r\n  box-sizing: border-box;\r\n  margin-right: 18px;\r\n}\r\n.info-name {\r\n  width: 100%;\r\n  font-size: 28px;\r\n  color: #1A1919;\r\n  line-height: 42px;\r\n  margin-bottom: 16px;\r\n}\r\n.info-number {\r\n  width: 100px;\r\n}\r\n.order-vip-box {\r\n  width: 160px;\r\n  margin-right: 18px;\r\n}\r\n.order-vip-icon {\r\n  width: 51px;\r\n  height: 31px;\r\n  float: right;\r\n}\r\n.order-vip {\r\n  margin: 24px 0 48px 0;\r\n}\r\n.item-footer {\r\n  margin-top: 38px;\r\n}\r\n.order-btn {\r\n  width: 160px;\r\n  height: 60px;\r\n  border-radius: 30px;\r\n  font-size: 26px;\r\n  margin: 6px 0 24px 0;\r\n}\r\n.order-no {\r\n  background: #FFFFFF;\r\n  border: 1px solid #B3B1AF;\r\n  box-sizing: border-box;\r\n  color: #1A1919;\r\n  margin-right: 18px;\r\n}\r\n.order-yes {\r\n  background-image: linear-gradient(135deg, #F7420D 0%, #F50C05 100%);\r\n  color: #FFFFFF;\r\n}\r\n.empty image{\r\n  width: 460px;\r\n  height: 335px;\r\n  margin-top: 48px;\r\n}\r\n.no-tips {\r\n  padding-bottom: 30px;\r\n}\r\n\r\n/* 拼团 */\r\n.date_num {\r\n  min-width: 36px;\r\n  height: 32px;\r\n  line-height: 32px;\r\n  font-size: 22px;\r\n  color: #FFFFFF;\r\n  background: #2F1504;\r\n  border-radius: 3px;\r\n  padding: 0 5px;\r\n  box-sizing: border-box;\r\n}\r\n.date_ms {\r\n  background: #F51307;\r\n  min-width: 22px;\r\n}\r\n.date_dot {\r\n  margin: 0 6px;\r\n  color: #2F1504;\r\n}\r\n.spelled-label {\r\n  height: 24px;\r\n  line-height: 24px;\r\n  padding: 0 6px;\r\n  box-sizing: border-box;\r\n  background: #FFEDEA;\r\n  border-radius: 12px;\r\n  font-size: 20px;\r\n  color: #FF374B;\r\n}\r\n.spelled-btn {\r\n  width: 160px !important;\r\n  height: 60px;\r\n  color: white;\r\n  background-image: linear-gradient(90deg, #FFE6B7 0%, #FFE6B7 0%, #FFCF94 100%);\r\n  border-radius: 30px;\r\n  font-size: 26px;\r\n  color: #8C4B00;\r\n  margin-bottom: 24px;\r\n}\r\n\r\n/* 肯德基 */\r\n.kfc-name {\r\n  width: 477px;\r\n  font-size: 28px;\r\n  color: #1A1919;\r\n  margin-bottom: 12px;\r\n  \r\n}\r\n\r\n.third-shop {\r\n  width: 52px;\r\n  height: 30px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #F51307;\r\n  border-radius: 3px;\r\n  margin-right: 10px;\r\n  font-size: 20px;\r\n  color: #F51307;\r\n  text-align: center;\r\n  line-height: 30px;\r\n  display: inline-block;\r\n}\r\n.kfc-address {\r\n  width: 100%;\r\n  font-size: 24px;\r\n  color: #666564;\r\n  line-height: 32px;\r\n  margin-bottom: 12px;\r\n}\r\n.kfc-tip {\r\n  width: 332px;\r\n  height: 24px;\r\n  background: #FDF4E8;\r\n  border-radius: 12px;\r\n  font-size: 20px;\r\n  color: #F29600;\r\n  line-height: 24px;\r\n  text-align: center;\r\n}\r\n.kfc-btn {\r\n  width: 178px;\r\n  height: 60px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #B3B1AF;\r\n  border-radius: 30px;\r\n  font-size: 26px;\r\n  color: #1A1919;\r\n  line-height: 60px;\r\n  text-align: center;\r\n  margin-bottom: 24px;\r\n}\r\n</style>"]}]}