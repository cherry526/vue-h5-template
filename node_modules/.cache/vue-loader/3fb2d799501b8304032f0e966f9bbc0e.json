{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\order\\orderDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\order\\orderDetail.vue","mtime":1597285201330},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBJbnRlcnZhbDsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBvcmRlclBheSBmcm9tICdAdXRpbHMvcGF5JwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ29yZGVyRGV0YWlsJywKICBtaXhpbnM6IFtdLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsibG9jYXRpb25JbmZvIiwgImxvY2F0aW9uQ2l0eSJdKQogIH0sCiAgY29tcG9uZW50czp7fSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGlja2V0SW5kZXg6IDAsIAogICAgICB0aWNrZXRMaXN0OiBbe3VybDogJycgfSwge3VybDogJyd9XSwKICAgICAgdmlwVHlwZTogWycnLCAn5L2T6aqM5Y2hJywgJ+aciOWNoScsICflraPljaEnLCAn5bm05Y2hJ10sCiAgICAgIHFpYW56aHVMaW5rOiBmYWxzZSwgLy8g5piv5ZCm5piv5Y2D54yq6Lez6L2s5YWl5Y+jCiAgICAgIG9yZGVyU2hvdzogZmFsc2UsIC8vIOS4i+WNleaIkOWKn+W8ueeqlwogICAgICBpbmZvOiB7CiAgICAgICAgYWN0SW5mbzoge30KICAgICAgfSwgLy8g6K6i5Y2V6K+m5oOFCiAgICAgIG9yZGVyVHlwZTogMSwgLy8g6K6i5Y2V57G75Z6LCiAgICAgIHRyYWRlSWQ6IDAsCiAgICAgIGdyb3VwSW5mbzoge30sCiAgICAgIGdyb3VwSWQ6IDAsCiAgICAgIHRyYWN2ZWxVc2VyTGlzdFNob3c6IGZhbHNlLAogICAgICB0cmFjdmVsVXNlckxpc3Q6IFtdLAogICAgICB0cmFjdmVsVXNlckxpc3ROYW1lOiAnJywKICAgICAgcmVjaGFyZ2VMaXN0OiBbJ+aJi+acuuWPtycsICdRUeWPtycsICfliqDmsrnljaHlj7cnLCAn6KeG6aKR5Y2h5Y+3J10sCiAgICAgIGlzQWxsOmZhbHNlLAogICAgICBzaG93RXF1aXR5OiA1LAogICAgICBlcXVpdHlpbmZvOnt9LAogICAgICByZWFkeTogZmFsc2UsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBNdXRhdGlvbnMoJ2luZGV4JywgWydTRVRfVVBEQVRFUEFHRSddKSwKICAgIC8vIOeCueWHu+WuouacjQogICAgbGlua1NlcnZpY2UoKSB7CiAgICAgIHRoaXMuc2VydmljZVNob3cgPSB0cnVlCiAgICB9LAogICAgLy8KICAgIHNlcnZpY2VDb3B5KHZhbCkgewogICAgICB0aGlzLiRUb2FzdCgn5bey5aSN5Yi25b6u5L+h77yM6K+35Zyo5b6u5L+h5Lit57KY6LS05pCc57SiJykKICAgIH0sCiAgICAvLyDojrflj5bmi7zlm6LorqLljZXkv6Hmga8KICAgIGdldEdyb3VwSW5mbygpIHsKICAgICAgdGhpcy4kYXBpLmdyb3VwX29yZGVyX2luZm8oewogICAgICAgIGdyb3VwSWQ6IHRoaXMuZ3JvdXBJZAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYocmVzLnN0YXRlKSB7CiAgICAgICAgICB0aGlzLmdyb3VwSW5mbyA9IHsKICAgICAgICAgICAgICAuLi5yZXMuaW5mbywgCiAgICAgICAgICAgICAgYWN0VHlwZTogJ0FDVF9BU1NFTUJMRScgCiAgICAgICAgICAgIH0gCiAgICAgICAgICBpZihyZXMuaW5mby5ncm91cFN0YXRlICE9IDMpIHsKICAgICAgICAgICAgdGhpcy5jb3VudERvd24oMSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLy8g5ou85Zui5p+l55yL5Y2h5Yi4CiAgICBsb29rQ291cG9uKCkgewogICAgICAvLyB3eC5uYXZpZ2F0ZVRvKHsKICAgICAgLy8gICB1cmw6Jy9wYWdlcy9jZW50ZXIvY2FyZC9jYXJkJwogICAgICAvLyB9KQogICAgfSwKICAgIGxvb2tJZENhcmQoaW5kZXgpIHsKICAgICAgbGV0IGl0ZW0gPSB0aGlzLnRyYWN2ZWxVc2VyTGlzdFtpbmRleF0KICAgICAgaXRlbS5zaG93ID0gIXRoaXMudHJhY3ZlbFVzZXJMaXN0W2luZGV4XS5zaG93CiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMudHJhY3ZlbFVzZXJMaXN0W2luZGV4XSwgJy0tLS0tLS0tLS0tMScpCiAgICAgIHRoaXMuJHNldCh0aGlzLnRyYWN2ZWxVc2VyTGlzdCwgaW5kZXgsIGl0ZW0pCiAgICB9LAogICAgdHJhY3ZlbE5hbWVDaGFuZ2UoKSB7CiAgICAgIHRoaXMudHJhY3ZlbFVzZXJMaXN0U2hvdyA9ICF0aGlzLnRyYWN2ZWxVc2VyTGlzdFNob3cKICAgIH0sCiAgICAvLyDljIXlkKvmnYPnm4rmn6XnnIvlhajpg6gKICAgIGhhbmRsZUxvb2tCb3RoKCl7CiAgICAgIHRoaXMuaXNBbGwgPSAhdGhpcy5pc0FsbAogICAgICB0aGlzLnNob3dFcXVpdHkgPSB0aGlzLnNob3dFcXVpdHkgPT0gNT90aGlzLmVxdWl0eWluZm8uZXF1aXR5TGlzdC5sZW5ndGggOiA1CiAgICB9LAogICAgLy8g6I635Y+W5p2D55uK5YiX6KGoCiAgICBlcXVpdHlfbGlzdCgpewogICAgICB0aGlzLiRhcGkuY29udGFpbl9lcXVpdHlfbGlzdCh7dHJhZGVJZDp0aGlzLnRyYWRlSWR9KS50aGVuKHJlcz0+ewogICAgICAgIHRoaXMuZXF1aXR5aW5mbyA9IHJlcy5pbmZvCiAgICAgIH0pCiAgICB9LAogICAgLy8g6Lez6L2s6Lev5b6ECiAgICBoYW5kbGVOYXZUbyhpdGVtKXsKICAgICAgY29uc29sZS5sb2coaXRlbSk7CiAgICAgIGlmIChpdGVtLnR5cGUgPT0gMikgey8vCiAgICAgICAgaWYgKGl0ZW0uanVtcFR5cGUgPT0gMikgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnY291cG9uTGlzdCcsCiAgICAgICAgICAgIHF1ZXJ5OiB7dGFiSW5kZXg6IDF9CiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSBpZiAoaXRlbS5qdW1wVHlwZSA9PSAxKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtLDc4NykKICAgICAgICAgIC8vIOi3s+i9rOiHs+WNoeWIuOivpuaDhemhtQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnY291cG9uRGV0YWlsJywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICBjYXJkU3RhcnRUaW1lOiBpdGVtLmNhcmRTdGFydFRpbWUsCiAgICAgICAgICAgICAgY2FyZEVuZFRpbWU6IGl0ZW0uY2FyZEVuZFRpbWUsCiAgICAgICAgICAgICAgY2FyZElkOiBpdGVtLmNhcmRJZCwKICAgICAgICAgICAgICBkZXRhaWxJZDogaXRlbS5kZXRhaWxJZCwKICAgICAgICAgICAgICB0eXBlOiAxCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAKICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT0gMSkgewogICAgICAgIC8vIOi3s+i9rOWFheWAvOS8muWRmOmhtQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdqb2luVmlwJwogICAgICAgIH0pCiAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09IDQpIHsKICAgICAgICAvLyDot7PovaznuqLljIXor6bmg4XpobUKICAgICAgICBpZihpdGVtLmp1bXBUeXBlICE9IDEpIHJldHVybiBmYWxzZQogICAgICAgIGxldCBjaXR5SWQgPSB0aGlzLmxvY2F0aW9uQ2l0eS5jaXR5SWQ7CiAgICAgICAgaWYgKGNpdHlJZCAhPSBpdGVtLmNpdHlJZCAmJiBpdGVtLmNpdHlJZCAhPSAwKSB7CiAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgIG1lc3NhZ2U6IGDor6XnuqLljIXku4XpmZAke2l0ZW0uY2l0eU5hbWV95L2/55So77yM5aaC6ZyA5L2/55So6K+35Yiw6aaW6aG15YiH5o2i5Z+O5biCYCwKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmiJHnn6XpgZPkuoYnCiAgICAgICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgIH0pOwogICAgICAgICAgcmV0dXJuCiAgICAgICAgfQogICAgICAgIGlmIChpdGVtLmRldGFpbFR5cGUgPT0gJ1ZPVUNIRVJfQ0FURUdPUlknIHx8ICBpdGVtLmRldGFpbFR5cGUgPT0gJ1ZPVUNIRVJfQUNUSVZJVFknKSB7ICAvLyDlk4HnsbvnuqLljIXjgIHmtLvliqjnuqLljIUKICAgICAgICAgIC8vIOi3s+i9rOWPr+S9v+eUqOa0u+WKqAogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnYXBwbHlBY3RpdmUnLAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgIHZvdWNoZXJJZDogaXRlbS5jYXJkSWQKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uZGV0YWlsVHlwZSA9PSAnVk9VQ0hFUl9TSE9QJykgeyAvLyDllYblrrbnuqLljIUKICAgICAgICAgIC8vIOi3s+i9rOWPr+eUqOWVhuWutgogICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgLy8gICBuYW1lOiAnYXBwbHlTaG9wJywKICAgICAgICAgIC8vICAgcXVlcnk6IHsKICAgICAgICAgIC8vICAgICB2b3VjaGVySWQ6IGl0ZW0uY2FyZElkCiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vIH0pCiAgICAgICAgfSBlbHNlIGlmIChpdGVtLmRldGFpbFR5cGUgPT0gJ1ZPVUNIRVJfTUVNQkVSJykgewogICAgICAgICAgLy8g5Lya5ZGY5Y2h57qi5YyFCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdqb2luVmlwJwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09IDUpIHsKICAgICAgICBpZiAoaXRlbS5qdW1wVHlwZSA9PSAxKSB7CiAgICAgICAgICAvLyDot7PovazmtojotLnliLjor6bmg4XpobUKICAgICAgICAgICAgLy8gd3gubmF2aWdhdGVUbyh7CiAgICAgICAgICAgIC8vICAgdXJsOiBgL3BhZ2VzL2NlbnRlci9jb25zdW1lcl9jb3Vwb24vYXBwbHlfYWN0L2FwcGx5X2FjdD9jb3Vwb25JZD0ke2l0ZW0uY2FyZElkfSZsbmc9JHt0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGV9JmxhdD0ke3RoaXMubG9jYXRpb25JbmZvLmxhdGl0dWRlfSZjb3Vwb25Nb25leT0ke2l0ZW0ubW9uZXl9YCwKICAgICAgICAgICAgLy8gfSkKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgLy8g6I635Y+W6K6i5Y2V6K+m5oOFCiAgICBkZXRhaWwgKGZsYWcpIHsKICAgICAgdGhpcy5jYW5DbGljayA9IHRydWUKICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlCiAgICAgIC8vIOaLvOWbogogICAgICBpZih0aGlzLmdyb3VwSWQpIHsKICAgICAgICB0aGlzLmdldEdyb3VwSW5mbygpCiAgICAgIH0KICAgICAgbGV0IHR5cGVPYmogPSB7MTogJ2NhcmRPcmRlckRldGFpbCcsIDM6ICd2aXBfb3JkZXJfZGV0YWlsJ30KICAgICAgbGV0IGFwaU5hbWUgPSB0eXBlT2JqW3RoaXMub3JkZXJUeXBlXQogICAgICAvLyDljaHliLjorqLljZXor6bmg4UKICAgICAgdGhpcy4kYXBpW2FwaU5hbWVdKHsKICAgICAgICBsYXQ6IHRoaXMubG9jYXRpb25JbmZvLmxhdGl0dWRlLAogICAgICAgIGxuZzogdGhpcy5sb2NhdGlvbkluZm8ubG9uZ2l0dWRlLAogICAgICAgIHRyYWRlSWQ6IHRoaXMudHJhZGVJZAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0ZSkgewogICAgICAgICAgaWYgKHRoaXMub3JkZXJUeXBlID09IDEpIHsKICAgICAgICAgICAgdGhpcy5lcXVpdHlfbGlzdCgpCiAgICAgICAgICAgIGlmIChyZXMuaW5mby5vcmRlckluZm8ucGF5c3RhdGUgPT0gMSkgewogICAgICAgICAgICAgIHRoaXMuY291bnREb3duKCkgLy8g5byA5ZCv5YCS6K6h5pe2CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5pbmZvLCAnLS0tLS0tLS0tLS0tLS1pbmZvJykKICAgICAgICAgICAgaWYgKHJlcy5pbmZvLnRyYWN2ZWxVc2VyTGlzdCAmJiByZXMuaW5mby50cmFjdmVsVXNlckxpc3QubGVuZ3RoKSB7IC8vIOeUqOaIt+S/oeaBr+WkhOeQhgogICAgICAgICAgICAgIGxldCB0cmFjdmVsVXNlckxpc3QgPSByZXMuaW5mby50cmFjdmVsVXNlckxpc3QKICAgICAgICAgICAgICB0cmFjdmVsVXNlckxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgICAgIGlmKGl0ZW0uaWRDYXJkKSB7CiAgICAgICAgICAgICAgICAgIGl0ZW0uaWRDYXJkRmFsc2UgPSBpdGVtLmlkQ2FyZC5yZXBsYWNlKGl0ZW0uaWRDYXJkLnNsaWNlKDYsIDE2KSwiKioqKioqKioqKiIpOwogICAgICAgICAgICAgICAgICBpdGVtLnNob3cgPSBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgaWYodHJhY3ZlbFVzZXJMaXN0Lmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgIGxldCB0cmFjdmVsVXNlckxpc3ROYW1lID0gdHJhY3ZlbFVzZXJMaXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0udXNlck5hbWUKICAgICAgICAgICAgICAgIH0pLmpvaW4oIjsiKQogICAgICAgICAgICAgICAgdGhpcy50cmFjdmVsVXNlckxpc3RTaG93ID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy50cmFjdmVsVXNlckxpc3ROYW1lID0gdHJhY3ZlbFVzZXJMaXN0TmFtZQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLnRyYWN2ZWxVc2VyTGlzdCA9IHRyYWN2ZWxVc2VyTGlzdAogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMudHJhY3ZlbFVzZXJMaXN0LCd0cmFjdmVsVXNlckxpc3QnKQogICAgICAgICAgICB9IAogICAgICAgICAgICB0aGlzLmluZm8gPSByZXMuaW5mbwogICAgICAgICAgICAKICAgICAgICAgICAgLy8g5ou85Zui5YiG5LqrCiAgICAgICAgICAgIGlmIChyZXMuaW5mby5hY3RJbmZvLmFjdFR5cGUgPT0gJ0FDVF9BU1NFTUJMRScpIHsKICAgICAgICAgICAgICB0aGlzLmFjdFNuID0gdGhpcy5pbmZvLmFjdEluZm8uYWN0U24KICAgICAgICAgICAgICB0aGlzLmVudW1LZXkgPSAnQUNUX0FTU0VNQkxFJwogICAgICAgICAgICAgIHRoaXMuc2hvd1NoYXJlID0gdHJ1ZQogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvLyDnu4Too4XlvIDpgJrkvJrlkZjljaHkv6Hmga8KICAgICAgICAgICAgdGhpcy5pbmZvID0gewogICAgICAgICAgICAgIC4uLnJlcy5pbmZvLAogICAgICAgICAgICAgIG9yZGVySW5mbzogcmVzLmluZm8sCiAgICAgICAgICAgICAgcmVmdW5kSW5mbzogcmVzLmluZm8sCiAgICAgICAgICAgICAgdmlwT3JkZXI6IHJlcy5pbmZvLm9yZGVySW5mbywKICAgICAgICAgICAgICBhY3RJbmZvOiB7CiAgICAgICAgICAgICAgICBhY3RUeXBlOiAnJwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMucmVhZHkgPSB0cnVlCiAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmluZm8sdGhpcy5vcmRlclR5cGUsICctLS0tLS0tLS0tLS0tLS0tLS1pbmZvJykKICAgICAgICB9IGVsc2UgewogICAgICAgICB0aGlzLiRUb2FzdChyZXMubWVzc2FnZSkKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoKCk9PnsKICAgICAgfSkKICAgIH0sCgogICAgLy8g55Sz6K+36YCA5qy+CiAgICBhcHBseSAoKSB7CiAgICAgIHRoaXMuJHNhdmUuc2V0KCdzZXNzaW9uJywgJ3JlZnVuZCcsIHRoaXMuaW5mbykKICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICdyZWZ1bmQnLCBxdWVyeToge3RyYWRlSWQ6IHRoaXMudHJhZGVJZH19KQogICAgICAvLyB3eC5uYXZpZ2F0ZVRvKHsKICAgICAgLy8gICB1cmw6IGAvcGFnZXMvY2VudGVyL3JlZnVuZC9yZWZ1bmQ/dHJhZGVJZD0ke3RoaXMudHJhZGVJZH1gCiAgICAgIC8vIH0pCiAgICB9LAogICAgLy8g5ou85Zui5Y+W5raI6K6i5Y2VCiAgICBjYW5jZWxHcm91cCgpIHsKICAgICAgdGhpcy4kZGlhbG9nLmNvbmZpcm0oewogICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICBtZXNzYWdlOiAn5piv5ZCm56Gu5a6a5Y+W5raI6K+l6K6i5Y2V77yfJywKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+aYrycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzFBMTkxOScsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WQpicsCiAgICAgICAgY2FuY2VsQnV0dG9uQ29sb3I6ICcjQjU2QzAwJwogICAgICB9KQogICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kYXBpLmdyb3VwX2NhbmNlbCh7CiAgICAgICAgICB0cmFkZUlkOiB0aGlzLnRyYWRlSWQsCiAgICAgICAgICBncm91cElkOiB0aGlzLmdyb3VwSWQKICAgICAgICB9KS50aGVuKHJlczEgPT4gewogICAgICAgICAgaWYocmVzMS5zdGF0ZSkgewogICAgICAgICAgICB0aGlzLmRldGFpbCh0cnVlKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kVG9hc3QocmVzMS5tZXNzYWdlKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pCiAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8gb24gY2FuY2VsCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOiuouWNlQogICAgY2FuY2VsT3JkZXIgKCkgewogICAgICB0aGlzLiRkaWFsb2cuY29uZmlybSh7CiAgICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICAgIG1lc3NhZ2U6ICfmmK/lkKbnoa7orqTlj5bmtojmraTorqLljZUnLAogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn5pivJywKICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjMUExOTE5JywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5ZCmJywKICAgICAgICBjYW5jZWxCdXR0b25Db2xvcjogJyNCNTZDMDAnCiAgICAgIH0pCiAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLiRhcGkuY2FyZE9yZGVyQ2FuY2xlKHsKICAgICAgICAgIHRyYWRlSWQ6IHRoaXMudHJhZGVJZAogICAgICAgIH0pLnRoZW4ocmVzPT57CiAgICAgICAgICBpZihyZXMuc3RhdGUpewogICAgICAgICAgICB0aGlzLiRUb2FzdCgi5Y+W5raI5oiQ5YqfIikKICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICAgICAgICB0aGlzLlNFVF9VUERBVEVQQUdFKHsnb3JkZXJMaXN0JzogdHJ1ZX0pCiAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICB0aXRsZTogJ+agh+mimCcsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WPlua2iOWksei0pe+8jOivt+eojeWQjumHjeivlScsCiAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmiJHnn6XpgZPkuoYnCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0pCiAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgLy8gb24gY2FuY2VsCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW+heS7mOasvuWAkuiuoeaXtgogICAgY291bnREb3duICh0eXBlKSB7CiAgICAgIGlmKEludGVydmFsKXsKICAgICAgICBjbGVhckludGVydmFsKEludGVydmFsKQogICAgICB9CiAgICAgIGlmKHR5cGUgPT0gMSkgeyAvLyDmi7zlm6LlgJLorqHml7YKICAgICAgICAvLyBJbnRlcnZhbCA9IHNldEludGVydmFsKCgpPT57ICAgICAKICAgICAgICAvLyAgIGxldCBncm91cEluZm8gPSB0aGlzLmdyb3VwSW5mbwogICAgICAgIC8vICAgaWYoZ3JvdXBJbmZvLmdyb3VwU3RhdGUgPT0gMSkgewogICAgICAgIC8vICAgICBpZiAoZ3JvdXBJbmZvLnJlbWFpblRpbWUgPD0gMCl7IC8vIOWAkuiuoeaXtue7k+adn+WIoOmZpOW+heS7mOasvgogICAgICAgIC8vICAgICAgIGNsZWFySW50ZXJ2YWwoSW50ZXJ2YWwpCiAgICAgICAgLy8gICAgICAgdGhpcy5nZXRHcm91cEluZm8oKQogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICAgIGdyb3VwSW5mby5yZW1haW5UaW1lIC09IDEwMAogICAgICAgIC8vICAgICBncm91cEluZm8uZG93blRpbWUgPSBjb3VudERvd24zKGdyb3VwSW5mby5yZW1haW5UaW1lLCB0cnVlKQogICAgICAgIC8vICAgICB0aGlzLmdyb3VwSW5mbyA9IGdyb3VwSW5mbwogICAgICAgIC8vICAgfQogICAgICAgIC8vIH0sIDEwMCkKICAgICAgfSBlbHNlIHsgLy8g6K6i5Y2V5Luj5LuY5qy+5YCS6K6h5pe2CiAgICAgICAgSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKT0+eyAgICAgCiAgICAgICAgICBsZXQgcmVtYWluVGltZSA9IHRoaXMuaW5mby5vcmRlckluZm8ucmVtYWluVGltZQogICAgICAgICAgaWYgKHJlbWFpblRpbWUgPD0gMCl7IC8vIOWAkuiuoeaXtue7k+adnwogICAgICAgICAgICBjbGVhckludGVydmFsKEludGVydmFsKQogICAgICAgICAgfQogICAgICAgICAgcmVtYWluVGltZSAtPSAxMDAwCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5pbmZvLm9yZGVySW5mbywgJ3JlbWFpblRpbWUnLCByZW1haW5UaW1lKQogICAgICAgIH0sIDEwMDApCiAgICAgIH0KICAgIH0sCgogICAgLy8g5pSv5LuYCiAgICBwYXkgKCkgewogICAgICBsZXQgaW5mbyA9IHRoaXMuaW5mbwogICAgICBpZiAoaW5mby5vcmRlckluZm8ucmVtYWluVGltZSAmJiBpbmZvLm9yZGVySW5mby5yZW1haW5UaW1lIDw9IDApIHsKICAgICAgICB0aGlzLiRUb2FzdCgn6K6i5Y2V5bey6L+H5pyfJykKICAgICAgICByZXR1cm4KICAgICAgfQoKICAgICAgbGV0IHRoYXQgPSB0aGlzCiAgICAgIGxldCBhY3RQYXkgPSBvcmRlclBheS5hY3RQYXkodGhpcy50cmFkZUlkKQogICAgICBpZiAoYWN0UGF5KSB7CiAgICAgICAgYWN0UGF5LnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMub3JkZXJRdWVyeSgpCiAgICAgICAgfSkuY2F0Y2goKHJlcyk9PiB7CiAgICAgICAgICBpZiAocmVzLmNhbmNlbFBheSkgewogICAgICAgICAgICAvLyDmlK/ku5jlpLHotKUKICAgICAgICAgICAgdGhpcy4kVG9hc3QoJ+WPlua2iOaUr+S7mCcpCiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09ICI1MDgiIHx8IHJlcy5jb2RlID09ICI1MDkiIHx8IHJlcy5jb2RlID09ICIxNDEyIikgewogICAgICAgICAgICB0aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgLy8gb24gY2xvc2UKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgICAgICAgdGhpcy5TRVRfVVBEQVRFUEFHRSh7J29yZGVyTGlzdCc6IHRydWV9KQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmNvZGUgPT0gMTUyMCkgewogICAgICAgICAgICAvLyDkuIvljZXku7fmoLzkuI7nrKzkuInmlrnku7fmoLzkuI3kuIDoh7QKICAgICAgICAgICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+iuouWNleS/oeaBr+W3suiwg+aVtO+8jOivt+mHjeaWsOS4i+WNlScsCiAgICAgICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgIC8vIG9uIGNsb3NlCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICAgICAgICAgIHRoaXMuU0VUX1VQREFURVBBR0UoeydvcmRlckxpc3QnOiB0cnVlfSkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICAKICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICAgIC8vIOagoemqjOiuouWNlQogICAgb3JkZXJRdWVyeSgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzCiAgICAgIGxldCBvcmRlclF1ZXJ5ID0gb3JkZXJQYXkub3JkZXJRdWVyeSh0aGlzLnRyYWRlSWQpCiAgICAgIGlmIChvcmRlclF1ZXJ5KSB7CiAgICAgICAgb3JkZXJRdWVyeS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICAgIC8vIOaUr+S7mOaIkOWKnwogICAgICAgICAgICB0aGF0LmRldGFpbCh0cnVlKSAvLyDph43mlrDliqDovb3pobXpnaIKICAgICAgICAgICAgdGhpcy5oYXNVcGRhdGVDZW50ZXIgPSB0cnVlIC8vIOWIt+aWsGNlbnRlcumhtemdogogICAgICAgICAgICBsZXQgcGFnZSA9IGdldEN1cnJlbnRQYWdlcygpCiAgICAgICAgICAgIHBhZ2UgPSBwYWdlW3BhZ2UubGVuZ3RoIC0yXS8vIOiOt+WPluS4iuS4gOmhtemdogogICAgICAgICAgICBwYWdlLnNldERhdGEoewogICAgICAgICAgICAgIHJlZnJlc2g6IHRydWUKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICAgIC8vIOafpeeci+WNoeWIuAogICAgZ29DYXJkICgpIHsKICAgICAgbGV0IGluZm8gPSB0aGlzLmluZm8KICAgICAgaWYgKGluZm8uYWN0SW5mby5hY3RUeXBlID09ICdBQ1RfQ0FTSF9WT1VDSEVSJykgewogICAgICAgIC8vIOe6ouWMhea0u+WKqOi3s+i9rOe6ouWMheWIl+ihqAogICAgICAgIC8vIHd4Lm5hdmlnYXRlVG8oewogICAgICAgIC8vICAgdXJsOiAnL3BhZ2VzL2NlbnRlci9jYXNoX3JlZF9saXN0L2Nhc2hfcmVkX2xpc3QnCiAgICAgICAgLy8gfSkKICAgICAgfSBlbHNlIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX0dJRlRfUEFDS0FHRScpIHsKICAgICAgICAvLyDnpLzljIXot7PovazljaHliLjliJfooagKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnY291cG9uTGlzdCcKICAgICAgICB9KQogICAgICB9IGVsc2UgaWYgKGluZm8uY2FyZEluZm8uc3VwcGxpZXJDb2RlID09ICdQQVJUWV9aV1knKXsKICAgICAgICAvLyDoh6rmiJHmuLjljaHliLjor6bmg4UKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAndHJhdmVsQ2FyZERldGFpbHMnLAogICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICB0cmFkZUlkOiBpbmZvLm9yZGVySW5mby50cmFkZUlkCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDnibnljZbot7PovazljaHliLjor6bmg4UKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnY291cG9uRGV0YWlsJywKICAgICAgICAgIHF1ZXJ5OnsKICAgICAgICAgICAgdHJhZGVJZDogaW5mby5vcmRlckluZm8udHJhZGVJZAogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgIH0sCgogICAgLy8g6Lez6L2s6K+m5oOFCiAgICBnb0RldGFpbCAoKSB7CiAgICAgIGxldCBpbmZvID0gdGhpcy5pbmZvCiAgICAgIGlmIChpbmZvLm9yZGVySW5mby5jaGFubmVsVHlwZSA9PSAnQ0hBTk5FTF9DT05TVU1FUl9DT1VQT04nIHx8IGluZm8ub3JkZXJJbmZvLmNoYW5uZWxUeXBlID09ICdDSEFOTkVMX0ZPUlRVTkVfQ09VUE9OJykgcmV0dXJuCiAgICAgIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX0dJRlRfUEFDS0FHRScpIHsgLy8g56S85YyF6K+m5oOFCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ2dpZnRCYWcnLAogICAgICAgICAgcXVlcnk6ewogICAgICAgICAgICBhY3RTbjogaW5mby5hY3RJbmZvLmFjdFNuLAogICAgICAgICAgICBjaGFubmVsVHlwZTogJ0NIQU5ORUxfT1JERVJfREVUQUlMX1BBR0UnCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSBlbHNlIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX1NQRUNJQUxfT0ZGRVInKSB7CiAgICAgICAgLy8g54m55Y2W6K+m5oOFCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ3NwZWNpYWxTYWxlJywKICAgICAgICAgIHF1ZXJ5OnsKICAgICAgICAgICAgYWN0U246IGluZm8uYWN0SW5mby5hY3RTbiwKICAgICAgICAgICAgY2hhbm5lbFR5cGU6ICdDSEFOTkVMX09SREVSX0RFVEFJTF9QQUdFJwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH0KICAgICAgLy8gIGVsc2UgaWYgKGluZm8uYWN0SW5mby5hY3RUeXBlID09ICdBQ1RfRElSRUNUX1JFQ0hBUkdFJykgewogICAgICAvLyAgIHd4Lm5hdmlnYXRlVG8oewogICAgICAvLyAgICAgdXJsOiBgL3BhZ2VzL2FjdGl2aXR5L3JlY2hhcmdlX2RldGFpbC9yZWNoYXJnZV9kZXRhaWw/YWN0U249JHtpbmZvLmFjdEluZm8uYWN0U259JmNoYW5uZWxUeXBlPUNIQU5ORUxfT1JERVJfREVUQUlMX1BBR0VgCiAgICAgIC8vICAgfSkKICAgICAgLy8gfSBlbHNlIGlmKGluZm8uYWN0SW5mby5hY3RUeXBlID09J0FDVF9BU1NFTUJMRScpIHsKICAgICAgLy8gICB3eC5uYXZpZ2F0ZVRvKHsKICAgICAgLy8gICAgIHVybDogYC9zdWJQYWNrX21hcmtldC9wYWdlcy9zcGVsbF9ncm91cC9zcGVsbF9ncm91cD9jaGFubmVsVHlwZT1DSEFOTkVMX09SREVSX0RFVEFJTF9QQUdFJmFjdFNuPSR7aW5mby5hY3RJbmZvLmFjdFNufSZncm91cElkPTAmcXJDb2RlPWAKICAgICAgLy8gICB9KSAgIAogICAgICAvLyB9IGVsc2UgaWYoaW5mby5hY3RJbmZvLmFjdFR5cGUgPT0gJ0FDVF9DQVNIX1ZPVUNIRVInKSB7CiAgICAgIC8vICAgd3gubmF2aWdhdGVUbyh7CiAgICAgIC8vICAgICB1cmw6IGAvcGFnZXMvYWN0aXZpdHkvYWN0X3JlZF9wYWNrZXQvYWN0X3JlZF9wYWNrZXQ/YWN0U249JHtpbmZvLmFjdEluZm8uYWN0U259JnFyQ29kZT0mY2hhbm5lbFR5cGU9Q0hBTk5FTF9PUkRFUl9ERVRBSUxfUEFHRWAsCiAgICAgIC8vICAgfSkKICAgICAgLy8gfSBlbHNlIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX1NIQVJFX0ZJU1NJT04nKSB7CiAgICAgIC8vICAgd3gubmF2aWdhdGVUbyh7CiAgICAgIC8vICAgICB1cmw6IGAvc3ViUGFja19tYXJrZXQvcGFnZXMvc2hhcmVfZmlzc2lvbi9zaGFyZV9maXNzaW9uP2FjdFNuPSR7aW5mby5hY3RJbmZvLmFjdFNufSZjaGFubmVsVHlwZT1DSEFOTkVMX09SREVSX0RFVEFJTF9QQUdFJnFyQ29kZT1gLAogICAgICAvLyAgIH0pCiAgICAgIC8vIH0KICAgIH0sCgogICAgZ29TdWNjZXNzICgpIHsgLy8g5rWL6K+V5YWl5Y+jCiAgICAgIGxldCBpbmZvID0gdGhpcy5pbmZvCiAgICAgIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX0NBU0hfVk9VQ0hFUicpIHsKICAgICAgICAvLyDnuqLljIXmtLvliqjot7PovaznuqLljIXliJfooagKICAgICAgICAvLyB3eC5uYXZpZ2F0ZVRvKHsKICAgICAgICAvLyAgIHVybDogYC9wYWdlcy9hY3Rpdml0eS9hY3RfcmVkX3BhY2tldC9zdWNjZXNzL3N1Y2Nlc3M/dHJhZGVJZD0ke2luZm8ub3JkZXJJbmZvLnRyYWRlSWR9JnZpcF9jaGVjaz0wYAogICAgICAgIC8vIH0pCgogICAgICB9IGVsc2UgaWYgKGluZm8uYWN0SW5mby5hY3RUeXBlID09ICdBQ1RfR0lGVF9QQUNLQUdFJykgeyAvLyDnpLzljIXor6bmg4UKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnZ2lmdEJhZ1N1Y2Nlc3MnLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgdHJhZGVJZDogaW5mby5vcmRlckluZm8udHJhZGVJZCwKICAgICAgICAgICAgdmlwX2NoZWNrOiAwCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSBlbHNlIGlmIChpbmZvLmFjdEluZm8uYWN0VHlwZSA9PSAnQUNUX1NQRUNJQUxfT0ZGRVInKSB7CiAgICAgICAgLy8g54m55Y2W6K+m5oOFCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgbmFtZTogJ3NwZWNpYWxTYWxlU3VjY2VzcycsCiAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICB0cmFkZUlkOiBpbmZvLm9yZGVySW5mby50cmFkZUlkLAogICAgICAgICAgICB2aXBfY2hlY2s6IDAKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCBvcHRpb25zID0gdGhpcy4kcm91dGUucXVlcnkKICAgIGNvbnNvbGUubG9nKG9wdGlvbnMsICdvcHRpb25zJykKICAgIHRoaXMub3JkZXJUeXBlID0gb3B0aW9ucy50eXBlID8gTnVtYmVyKG9wdGlvbnMudHlwZSkgOiAxCiAgICB0aGlzLnFyQ29kZSA9IHRoaXMucXJDb2RlCiAgICB0aGlzLnRyYWRlSWQgPSBvcHRpb25zLmlkIHx8ICcnCiAgICB0aGlzLmdyb3VwSWQgPSBvcHRpb25zLmdyb3VwSWQgfHwgJycKICAgIHRoaXMuc2hvcE5hbWUgPSBvcHRpb25zLnNob3BOYW1lIHx8ICcnCiAgICB0aGlzLmNoYW5uZWxUeXBlID0gb3B0aW9ucy5jaGFubmVsVHlwZSB8fCAnJwogICAgdGhpcy5xaWFuemh1TGluayA9ICEhb3B0aW9ucy5wYXkKICAgIHRoaXMuZGV0YWlsKCkKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIGNsZWFySW50ZXJ2YWwoSW50ZXJ2YWwpCiAgfQp9Cg=="},{"version":3,"sources":["orderDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAubA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderDetail.vue","sourceRoot":"src/views/order","sourcesContent":["<!--\r\n * @Description: 订单详情\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-21 14:21:36\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-12 13:52:48\r\n--> \r\n<template>\r\n  <div>\r\n    <div class=\"order-page\" v-if=\"ready\">\r\n      <div class=\"header\">\r\n        <div class=\"title tac\">\r\n          <!-- 拼团 -->\r\n          <template v-if=\"groupId && info.actInfo.actType === 'ACT_ASSEMBLE' && info.orderInfo.paystate == 2 \">\r\n            <template v-if=\"groupInfo.groupState == 2\">\r\n              <div class=\"ft48 c8C4 bold\">拼团成功</div>\r\n              <span class=\"text c8C4\">卡券已发放至你的账户</span>\r\n            </template>\r\n            <template v-else-if=\"groupInfo.groupState == 1\">\r\n              <div class=\"ft48 c8C4 bold\">参团成功</div>\r\n              <span class=\"text c8C4\">\r\n                还差\r\n                <span class=\"cF51\">{{groupInfo.needPeople-groupInfo.groupUserList.length}}人</span>\r\n                ，赶紧邀请好友来拼团吧\r\n              </span>\r\n            </template>\r\n            <template v-else>\r\n              <div class=\"ft48 c8C4 bold\">拼团失败</div>\r\n              <span class=\"text c8C4\">\r\n                {{groupInfo.finishedTime | formatTime('YYYY/MM/DD HH:mm:ss')}} 拼团失败\r\n              </span>\r\n            </template>\r\n          </template>\r\n          <template v-else-if=\" info.orderInfo.paystate == 1 || (info.vipOrder && info.vipOrder.paystate == 1) \">\r\n            <div class=\"ft48 c8C4 bold\">订单待支付</div>\r\n            <div class=\"text c8C4\">\r\n              请在下单后\r\n              <span style=\"color: #D90634; line-height: 1\">\r\n                {{ info.orderInfo.remainTime | formatTime('mm:ss') }}\r\n              </span>\r\n              内支付，超时将自动取消订单\r\n            </div>\r\n          </template>\r\n          <template v-else-if=\" info.refundInfo.refundState == 1\">\r\n            <div class=\"ft48 c8C4 bold\">申请退款中</div>\r\n            <span class=\"text c8C4\">正在为您进行退款，请等待…</span>\r\n          </template>\r\n          <template v-else-if=\" info.refundInfo.refundState == 2 \">\r\n            <div class=\"ft48 c8C4 bold\">订单已退款</div>\r\n            <span class=\"text c8C4\" v-if=\"info.refundInfo.divRefundType == 2\">退款金额已退回，请注意查收</span>\r\n            <span class=\"text c8C4\" v-else>退款金额已退至原支付账户</span>\r\n          </template>\r\n          <template v-else-if=\" info.orderInfo.paystate == 2 || info.vipOrder.paystate == 2 \">\r\n            <div class=\"ft48 c8C4 bold\">订单已支付</div>\r\n            <span class=\"text c8C4\">感谢您的信任，期待再次光临</span>\r\n          </template>\r\n        </div>\r\n        <template v-if=\"groupId && info.actInfo.actType === 'ACT_ASSEMBLE'\">\r\n          <div class=\"mt32\" @click=\"goDetail\">\r\n            <!-- <spelled-header order=\"{{ true }}\" info=\"{{ groupInfo }}\"></spelled-header> -->\r\n          </div>\r\n        </template>\r\n        <div class=\"card\" v-else>\r\n          <div class=\"flex-v flex-1 content\" @click=\"goDetail\">\r\n            <img v-if=\" orderType == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/photo_vip.png\" class=\"atc-img\">\r\n            <img v-else-if=\"info.actInfo && info.actInfo.actType == 'ACT_FORTUNE_PACKAGE' \" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/photo_fuboo.png\" class=\"atc-img\">\r\n            <img v-else :src=\"info.actInfo.actPic\"  class=\"atc-img img-cov\">\r\n            <div class=\"flex-1 minh160\">\r\n              <template v-if=\" orderType == 3\">\r\n                <div class=\"ft30 c1A bold act-name text-two\">{{ info.cardName }}</div>\r\n                <div class=\"ft28 c1A mgvaildDay\" v-if=\" !info.autoRenewal\">有效期{{ info.vaildDay }}天</div>\r\n              </template>\r\n              <!-- 礼包、福包显示活动名称 -->\r\n              <template v-else-if=\" info.actInfo.actType == 'ACT_GIFT_PACKAGE' || info.actInfo.actType == 'ACT_FORTUNE_PACKAGE' || info.actInfo.actType == 'ACT_CASH_VOUCHER' || info.actInfo.actType == 'ACT_DIRECT_RECHARGE'\">\r\n                <div class=\"ft30 c1A bold act-name text-two\">{{ info.actInfo.actName || '活动名称' }}</div>\r\n              </template>\r\n              <!-- 红包活动 -->\r\n              <template v-if=\"info.actInfo.actType == 'ACT_CASH_VOUCHER'\">\r\n                <div class=\"w flex-b\">\r\n                  <div class=\"ft30 c1A bold act-name text-two\" style=\"width: 80%;\">\r\n                    {{ info.actInfo.actName || '活动名称' }}\r\n                  </div>\r\n                  <span class=\"iconfont iconicon_more c9E ft22 l42\"></span>\r\n                </div>\r\n              </template>\r\n              <!-- 特卖显示店铺名称+卡券名称 -->\r\n              <template  v-else-if=\" info.actInfo.actType == 'ACT_SPECIAL_OFFER'\">\r\n                <div class=\"ft30 c1A bold act-name text-two\">{{ info.actInfo.actName || '活动名称' }}</div>\r\n              </template>\r\n              <!-- 拼团单独购买 -->\r\n              <template v-else-if=\" info.actInfo.actType === 'ACT_ASSEMBLE' && !groupId \">\r\n                <div class=\"w flex-b\">\r\n                  <div class=\"ft30 c1A bold act-name text-two\" style=\"width: 80%;\">\r\n                    {{ info.actInfo.actName || '拼团活动' }}\r\n                  </div>\r\n                  <span class=\"iconfont iconicon_more c9E ft22 l42\"></span>\r\n                </div>\r\n              </template>\r\n              <!-- 直充 -->\r\n              <template v-if=\"orderType == 1 && info.cardInfo.cardType === 'CARD_DIRECT_RECHARGE'\">\r\n                <div class=\"ft28 c1A mgzhi\">\r\n                  {{ info.cardInfo.cardName || '直充卡券名称' }}\r\n                </div>\r\n              </template>\r\n              <!-- 分享裂变 -->\r\n              <template v-if=\"info.actInfo.actType === 'ACT_SHARE_FISSION'\">\r\n                <div class=\"ft28 c1A mgzhi\">\r\n                  {{ info.actInfo.actName || '分享裂变活动' }}\r\n                </div>\r\n              </template>\r\n              <div class=\"flex-b flex-v price \" v-if=\" orderType == 1 \">\r\n                <span class=\"ft28 c9E\">x{{ info.orderInfo.buyCnt }}</span>\r\n                <div class=\"ft28 c66 \">¥{{info.orderInfo.price | fixedNum }}</div>\r\n              </div>\r\n              <div class=\"ft28 c66 price\" v-else>¥{{info.price | fixedNum }}</div>\r\n            </div>\r\n          </div>\r\n          <!-- 退款文案说明 -->\r\n          <template  v-if=\"orderType != 3 \">\r\n            <refund-label :info=\"info\" styleType=\"1\" />\r\n          </template>\r\n        </div>\r\n      </div>\r\n      <!-- 拼团 -->\r\n      <div class=\"w pd24\">\r\n        <div class=\"w order-panel\" v-if=\"info.actInfo.actType === 'ACT_ASSEMBLE' && info.orderInfo.paystate == 2 && groupId\">\r\n          <template v-if=\" groupInfo.groupState != 3 \">\r\n            <div class=\"w flex-cc spell-res\">\r\n              <span class=\"title-line\"></span>\r\n              <span class=\"title-text\" v-if=\" groupInfo.groupState == 2 \">已成团</span>\r\n              <span class=\"title-text\" v-else>距结束</span>\r\n              <span class=\"title-line\"></span>\r\n            </div>\r\n            <div class=\"w flex-cc mb30\"  v-if=\" groupInfo.groupState == 1 \">\r\n              <span class=\"ft28\">剩余</span>\r\n              <div class=\"flex-cc ml12\">\r\n                <span class=\"date_num\">{{groupInfo.downTime.hour}}</span>\r\n                <span class=\"date_dot\">:</span>\r\n                <span class=\"date_num\">{{groupInfo.downTime.minute}}</span>\r\n                <span class=\"date_dot\">:</span>\r\n                <span class=\"date_num\">{{groupInfo.downTime.second}}</span>\r\n                <span class=\"date_dot\">:</span>\r\n                <span class=\"date_num date_ms\">{{groupInfo.downTime.ms}}</span>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          <!-- 拼团失败 -->\r\n          <div class=\"w flex-cc spell-res ft32 c1A\" v-else>少侠，你忘记呼唤好友啦～</div>\r\n          <div style=\"margin-bottom: 40px;\">\r\n            <!-- <spelled-user list=\"{{ groupInfo.groupUserList }}\" total=\"{{ groupInfo.needPeople }}\"></spelled-user> -->\r\n          </div>\r\n          <div class=\"w flex-cc\" style=\"margin: 0px 0 50px 0;\">\r\n            <div class=\"spell-btn\" v-if=\" groupInfo.groupState == 1 \">\r\n              <!-- <share-btn actSn=\"{{info.actInfo.actSn}}\" enumKey=\"ACT_ASSEMBLE\" configInfo=\"{{shareConfig}}\" shareStyle=\"100\"> -->\r\n                <span class=\"spell-btn flex-cc bold\">邀请好友参团</span>\r\n              <!-- </share-btn> -->\r\n            </div>\r\n            <div class=\"spell-btn\" v-else-if=\" groupInfo.groupState == 2 \">\r\n              <!-- <div class=\"spell-btn flex-cc bold\" @click=\"lookCoupon\">查看卡券</div> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"w pd24\">\r\n        <template v-if=\" orderType == 1 \">\r\n          <!-- 订单金额 -->\r\n          <div class=\"order-panel shifu-panel\" style=\"padding: 0;\">\r\n            <div class=\"price ft30 c1A\">\r\n              <div class=\"item flex-c-b\" v-if=\" info.orderInfo.orderType == 5\">\r\n                <div class=\"\">{{ info.vipCardInfo.vipCardName }}</div>\r\n                <span class=\"\">¥{{ info.vipCardInfo.vipCardPrice | fixedNum }}</span>\r\n              </div>\r\n              <div class=\"item flex-c-b\" v-if=\" info.orderInfo.couponMoney > 0\">\r\n                <div class=\" flex-v\">\r\n                  消费券\r\n                </div>\r\n                <span class=\"cF51\">-¥{{ info.orderInfo.couponMoney | fixedNum }}</span>\r\n              </div>\r\n              <div class=\"item flex-c-b\" v-if=\" info.orderInfo.cashRedActualMoney > 0 \">\r\n                <div class=\" flex-v\">\r\n                  红包\r\n                  <span class=\"deduction\" v-if=\" info.orderInfo.cashRedActualMoney < info.orderInfo.cashRedMoney\">\r\n                    实际抵扣金额{{info.orderInfo.cashRedActualMoney | fixedNum}}元\r\n                  </span>\r\n                </div>\r\n                <span class=\"cF51\">-¥{{ info.orderInfo.cashRedMoney | fixedNum}}</span>\r\n              </div>\r\n              <div class=\"item flex-c-b\" v-if=\" info.orderInfo.redPackFunds > 0 \">\r\n                <div class=\"\">钱包</div>\r\n                <span class=\"cF51\">-¥{{info.orderInfo.redPackFunds | fixedNum }}</span>\r\n              </div>\r\n              <template v-if=\" info.refundAllow > 1 && info.orderInfo.paystate == 2 && (!info.refundInfo.refundState || !info.refundInfo.refundState == 3)\">\r\n                <div class=\"w mt18\" v-if=\"info.orderInfo.orderType == 5 || info.orderInfo.cashRedActualMoney > 0 || info.orderInfo.redPackFunds > 0 || info.orderInfo.couponMoney > 0\"></div>\r\n                <!-- 礼包显示 -->\r\n                <div class=\"use-state flex-v\" v-if=\" info.actInfo.actType == 'ACT_GIFT_PACKAGE' \">\r\n                  <span class=\"iconicon_warn iconfont\"></span>\r\n                  <div>\r\n                    卡券已使用{{ info.cardInfo.cardUsedNum }}张，{{ info.actInfo.refundAllow == 1 ? '无法退款' : '仅可退'+ info.cardInfo.ableRefundNum+'个礼包' }}\r\n                  </div>\r\n                </div>\r\n                <!-- 特卖显示 -->\r\n                <div class=\"use-state flex-v\" v-else-if=\" info.actInfo.actType == 'ACT_SPECIAL_OFFER' \">\r\n                  <span class=\"iconicon_warn iconfont\"></span>\r\n                  <div>\r\n                    卡券已使用{{ info.cardInfo.cardUsedNum }}张，{{ info.actInfo.refundAllow == 1 ? '无法退款' : '仅可退'+info.cardInfo.ableRefundNum+'个卡券' }}\r\n                  </div>\r\n                </div>\r\n                <!-- 红包活动显示 -->\r\n                <div class=\"use-state flex-v\" v-else-if=\" info.actInfo.actType == 'ACT_CASH_VOUCHER'\">\r\n                  <span class=\"iconicon_warn iconfont\"></span>\r\n                  <div>\r\n                    卡券已使用{{ info.cardInfo.cardUsedNum }}张，{{ info.actInfo.refundAllow == 1 ? '无法退款' : '仅可退'+ info.cardInfo.ableRefundNum+'个礼包' }}\r\n                  </div>\r\n                </div>\r\n              </template>\r\n              <template v-else>\r\n                <div class=\"use-line\" v-if=\"info.orderInfo.orderType == 5 || info.orderInfo.cashRedActualMoney > 0 || info.orderInfo.redPackFunds > 0\"></div>\r\n              </template>\r\n              <div class=\"use-money ft24 lh1\">\r\n                实付:\r\n                <span class=\"bold\">¥</span>\r\n                <span class=\"ft32 bold lh1\">{{info.orderInfo.actuaFunds | fixedNum }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 退款详情 -->\r\n          <div class=\"order-panel\" v-if=\" info.refundInfo.refundState == 1 || info.refundInfo.refundState == 2\">\r\n            <div class=\"title ft32 bold flex-v\">退款信息</div>\r\n            <div class=\"item flex-b\">\r\n              <div class=\"c9E\">退款数量</div>\r\n              <!-- 拼团失败时 -->\r\n              <div v-if=\" info.actInfo.actType === 'ACT_ASSEMBLE' && groupInfo.groupState == 3\">\r\n                {{ info.orderInfo.buyCnt }}\r\n              </div>\r\n              <div v-else>{{ info.refundInfo.refundNum }}个权益</div>\r\n            </div>\r\n            <div class=\"item flex-b\">\r\n              <div class=\"c9E\">退款金额</div>\r\n              <div>\r\n                ¥{{ info.refundInfo.refundFee | fixedNum }}\r\n                <span class=\"c9E\" v-if=\" info.orderInfo.orderType == 5 \">(会员卡不可退款)</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"item flex-b \">\r\n              <div class=\"c9E\">申请时间</div>\r\n              <div>{{ info.refundInfo.refundApplyTime | formatTime('YYYY/MM/DD HH:mm:ss')}}</div>\r\n            </div>\r\n            <div class=\"item flex-b \" v-if=\" info.refundInfo.refundState == 2 && info.refundInfo.divRefundType == 1\">\r\n              <div class=\"c9E\">退款时间</div>\r\n              <div>{{ info.refundInfo.successRefundTime | formatTime('YYYY/MM/DD HH:mm:ss') }}</div>\r\n            </div>\r\n            <div class=\"item flex-b\">\r\n              <div class=\"c9E\">退款状态</div>\r\n              <div class=\"cD9\" v-if=\" info.refundInfo.refundState == 1 \">退款中</div>\r\n              <div class=\"cD9\" v-else-if=\" info.refundInfo.refundState == 2 \">已退款</div>\r\n            </div>\r\n            <div class=\"item flex-b\" v-if=\" info.refundInfo.divRefundType == 2 && info.refundInfo.refundWay \">\r\n              <div class=\"c9E wrap-item\">退款方式</div>\r\n              <div class=\"why\">{{ info.refundInfo.refundWay }}</div>\r\n            </div>\r\n            <template v-if=\" info.refundInfo.divRefundType == 1 \">\r\n              <div class=\"item flex-b\">\r\n                <div class=\"c9E wrap-item\">退款原因</div>\r\n                <div class=\"why\">{{ info.refundInfo.refundReason }}</div>\r\n              </div>\r\n              <div class=\"item flex-b\" v-if=\" info.refundInfo.refundImageArr && info.refundInfo.refundImageArr.length > 0 \">\r\n                <div class=\"c9E\">退款凭证</div>\r\n              </div>\r\n              <div class=\"item img\" v-if=\" info.refundInfo.refundImageArr && info.refundInfo.refundImageArr.length > 0 \">\r\n                <div scroll-x=\"true\">\r\n                  <img v-for=\"(item, index) in info.refundInfo.refundImageArr\" :key=\"index\" :src=\"item.refundImage\" >\r\n                </div>\r\n              </div>\r\n            </template>\r\n            <div class=\"mgb30 w\"></div>\r\n          </div>\r\n          <!-- 自我游信息 -->\r\n          <template v-if=\" info.showUserInfo\">\r\n            <div class=\"order-panel\">\r\n              <div class=\"title ft32 bold flex-v\">用户信息</div>\r\n              <div class=\"item flex-b\" @click=\"goSuccess\">\r\n                <div class=\"c9E w160\">用户名</div>\r\n                <div class=\"flex-1 mt-4\">\r\n                  <template v-if=\" tracvelUserListShow \">\r\n                    <div class=\"order-name\">{{tracvelUserListName}}</div>\r\n                    <div class=\"order-user-more\" @click=\"tracvelNameChange\">\r\n                      查看更多信息\r\n                      <span class=\"iconfont iconicon_home_menu\"></span>\r\n                    </div>\r\n                  </template>\r\n                  <blcok v-else>\r\n                    <div v-for=\"(item, index) in tracvelUserList\" :key=\"index\" class=\"order-user-item\">\r\n                      <div class=\"order-name\">{{item.userName}}</div>\r\n                      <div v-if=\" item.idCard \">\r\n                        身份证：{{ item.show ? item.idCard : item.idCardFalse}}\r\n                        <span @click=\"lookIdCard(index)\"  class=\"iconfont\" :class=\"item.show ? 'iconicon_display' : 'iconicon_hide'\"></span>\r\n                      </div>\r\n                      <div v-if=\" item.phone \">手机号码: {{item.phone}}</div>\r\n                      <div v-if=\" item.email \">邮箱: {{item.email}}</div>\r\n                      <div v-if=\" item.address \">地址: {{item.address}}</div>\r\n                    </div>\r\n                  </blcok>\r\n                </div>\r\n              </div>\r\n              <div class=\"item flex-b\" v-if=\"tracvelUserList.length && tracvelUserList[0].remark\">\r\n                <div class=\"c9E wrap-item\">备注</div>\r\n                <div class=\"why \">{{ tracvelUserList[0].remark }}</div>\r\n              </div>\r\n              <div class=\"mgb30 w\"></div>\r\n            </div>\r\n            <div class=\"order-panel\" v-if=\"tracvelUserList.length && tracvelUserList[0].emergencyContact\">\r\n              <div class=\"title ft32 bold flex-v\">紧急联系人</div>\r\n              <div class=\"item flex-b\" @click=\"goSuccess\">\r\n                <div class=\"c9E\">姓名</div>\r\n                <div>{{ tracvelUserList[0].emergencyContact}}</div>\r\n              </div>\r\n              <div class=\"item flex-b mgb30\">\r\n                <div class=\"c9E\">手机号码</div>\r\n                <div>{{ tracvelUserList[0].emergencyPhone}}</div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"order-panel\" style=\"padding: 0;\">\r\n            <div class=\"price ft30 c1A\">\r\n              <div class=\"item flex-c-b\" v-if=\" info.cashRedActualMoney > 0 \">\r\n                <div class=\" flex-v\">红包</div>\r\n                <span class=\"cF51\">-¥{{ info.cashRedActualMoney | fixedNum }}</span>\r\n              </div>\r\n              <div class=\"item flex-c-b\" v-if=\" info.redPackFunds > 0\">\r\n                <div class=\"\">钱包</div>\r\n                <span class=\"cF51\">-¥{{ info.redPackFunds | fixedNum }}</span>\r\n              </div>\r\n              <div class=\"use-line\" v-if=\"info.cashRedActualMoney && info.redPackFunds\"></div>\r\n              <div class=\"use-money ft24 lh1\">\r\n                实付:\r\n                <span class=\"bold\">¥</span>\r\n                <span class=\"ft32 bold lh1\">{{ info.actuaFunds | fixedNum }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </template>\r\n        <!-- 直充进度 -->\r\n        <div class=\"order-panel\" v-if=\"orderType == 1 && info.cardInfo.cardType === 'CARD_DIRECT_RECHARGE' &&  info.orderInfo.paystate == 2\">\r\n          <div class=\"title ft32 bold flex-v\">\r\n            <span>充值进度</span>\r\n          </div>\r\n          <div class=\"item flex-b mgb30\">\r\n            <div class=\"cD9\" v-if=\" info.orderInfo.arrivalState == 2\">充值成功。</div>\r\n            <div class=\"cD9\" v-else-if=\" info.orderInfo.arrivalState == 1 \">正在为您充值，请耐心等候。</div>\r\n            <div class=\"cD9\" v-else-if=\" info.orderInfo.arrivalState == 3 \">\r\n              充值失败，订单金额已原路退回支付账号。\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!-- 订单信息 -->\r\n        <div class=\"order-panel\">\r\n          <div class=\"title ft32 bold flex-c-b\">\r\n            <span>订单信息</span>\r\n            <template v-if=\"orderType == 1 && info.actInfo.actType != 'ACT_ASSEMBLE' \">\r\n              <div class=\"go-card\" @click=\"goCard\" v-if=\" info.orderInfo.paystate == 2 && !info.refundInfo.refundState && info.actInfo.actType != 'ACT_FORTUNE_PACKAGE' && info.cardInfo.cardType != 'CARD_DIRECT_RECHARGE' \">\r\n                {{ info.actInfo.actType == 'ACT_CASH_VOUCHER' ? '查看红包' : (info.actInfo.actType == 'ACT_SHARE_FISSION' ? '' : '查看卡券')}}\r\n              </div>\r\n            </template>\r\n            <div v-else></div>\r\n          </div>\r\n          <div class=\"item flex-b\" v-if=\"orderType == 1 && info.cardInfo.cardType === 'CARD_DIRECT_RECHARGE' \">\r\n            <div class=\"c9E\">充值账号</div>\r\n            <div>{{ info.orderInfo.extra }}({{ rechargeList[info.orderInfo.rechargeType -1] }})</div>\r\n          </div>\r\n          <div class=\"item flex-b\" @click=\"goSuccess\">\r\n            <div class=\"c9E\">订单编号</div>\r\n            <div>{{ info.orderInfo.tradeId }}</div>\r\n          </div>\r\n          <div class=\"item flex-b\">\r\n            <div class=\"c9E\">支付方式</div>\r\n            <div>微信支付</div>\r\n          </div>\r\n          <div class=\"item flex-b  mgb30\">\r\n            <div class=\"c9E\">下单时间</div>\r\n            <div>{{ info.orderInfo.orderTime | formatTime('YYYY/MM/DD HH:mm:ss') }}</div>\r\n          </div>\r\n        </div>\r\n        <!-- 包含权益 -->\r\n        <div class=\"contain_equity order-panel ft32\" v-if=\"orderType == 1 && equityinfo.equityCnt\">\r\n          <div class=\"title bold\">包含权益（{{equityinfo.equityCnt}}）</div>\r\n          <div v-for=\"(item, index) in equityinfo.equityList\" :key=\"index\">\r\n            <div class=\"equity_item flex\" v-if=\"index <= showEquity-1\" @click=\"handleNavTo(item)\">\r\n              <div class=\"left\">\r\n                <img class=\"\" src=\"@/assets/imgs/Group_15.png\" v-if=\"item.type == 1\">\r\n                <img class=\"\" src=\"@/assets/imgs/img_7red.png\" v-else-if=\"item.type == 4\">\r\n                <img class=\"\" src=\"@/assets/imgs/img_7ticket.png\" v-else-if=\"item.type == 5\">\r\n                <img class=\"\" :src=\"item.cardLogo\" v-else>\r\n              </div>\r\n              <div class=\"right flex-1\">\r\n                <div class=\"ft24 name\">{{item.shopName}}</div>\r\n                <div class=\"ft28 bold card\">{{item.cardName}}</div>\r\n                <div class=\"flex-c-b ft24\">\r\n                  <div v-if=\"item.type != 1\">数量：{{item.cardNum}}</div>\r\n                  <div v-else>有效天数：{{item.vaildDay}}天</div>\r\n                  <div v-if=\"item.type == 1\" :class=\"item.state == 2?'cD0':'cRed'\" >{{item.stateDesc}}</div>\r\n                  <div v-if=\"item.type == 2 || item.type == 4 || item.type == 5\" :class=\"item.state == 3?'cRed':'c66'\" >{{item.stateDesc}}</div>\r\n                  <div v-if=\"item.type == 3\" :class=\"item.state == 1?'cD0':(item.state == 2 ? 'c66':'cRed')\" >{{item.stateDesc}}</div>\r\n                </div>\r\n                <div class=\"use-line\" v-if=\"equityinfo.equityList.length <= 5 || equityinfo.equityList.length>5&&index != showEquity-1\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"look_both\" v-if=\"equityinfo.equityList.length > 5\">\r\n            <div class=\"btn ft24 flex-cc\" @click=\"handleLookBoth\">\r\n              <div class=\"ml6\">{{isAll?'收起':'查看全部'}}</div>\r\n              <img :src=\"isAll ? '@/assets/imgs/img_up.png': '@/assets/imgs/img_down.png'\">\r\n            </div>\r\n          </div>  \r\n        </div>\r\n        <service>\r\n          <div class=\"service order-panel flex-c-b\">\r\n            <span class=\"ft30 c11\">对此订单有疑问？请联系客服</span>\r\n            <img src=\"https://oss.kdwaimai.com/jkb/1578567579442_563187.png\">\r\n          </div>\r\n        </service>\r\n      </div>\r\n      <div v-if=\" info.orderInfo.paystate == 1\" class=\"footer flex-c\">\r\n        <div @click=\"cancelOrder\" class=\"bold\">取消订单</div>\r\n        <div @click=\"pay\">立即支付</div>\r\n      </div>\r\n      <div class=\"tui-text text-ul flex-cc\" v-if=\" info.orderInfo.paystate == 2 && info.actInfo.refundAllow == 2\" @click=\"apply\">\r\n        申请退款\r\n      </div>\r\n      <!-- 拼团取消订单 -->\r\n      <div class=\"flex-cc w\" v-if=\" info.actInfo.actType === 'ACT_ASSEMBLE' && groupInfo.cancelAllow\">\r\n        <span class=\"cancel-group\" @click=\"cancelGroup\">取消订单</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  var Interval;\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import orderPay from '@utils/pay'\r\n  export default {\r\n    name: 'orderDetail',\r\n    mixins: [],\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"locationCity\"])\r\n    },\r\n    components:{},\r\n    data() {\r\n      return {\r\n        ticketIndex: 0, \r\n        ticketList: [{url: '' }, {url: ''}],\r\n        vipType: ['', '体验卡', '月卡', '季卡', '年卡'],\r\n        qianzhuLink: false, // 是否是千猪跳转入口\r\n        orderShow: false, // 下单成功弹窗\r\n        info: {\r\n          actInfo: {}\r\n        }, // 订单详情\r\n        orderType: 1, // 订单类型\r\n        tradeId: 0,\r\n        groupInfo: {},\r\n        groupId: 0,\r\n        tracvelUserListShow: false,\r\n        tracvelUserList: [],\r\n        tracvelUserListName: '',\r\n        rechargeList: ['手机号', 'QQ号', '加油卡号', '视频卡号'],\r\n        isAll:false,\r\n        showEquity: 5,\r\n        equityinfo:{},\r\n        ready: false,\r\n      }\r\n    },\r\n    methods: {\r\n      ...mapMutations('index', ['SET_UPDATEPAGE']),\r\n      // 点击客服\r\n      linkService() {\r\n        this.serviceShow = true\r\n      },\r\n      //\r\n      serviceCopy(val) {\r\n        this.$Toast('已复制微信，请在微信中粘贴搜索')\r\n      },\r\n      // 获取拼团订单信息\r\n      getGroupInfo() {\r\n        this.$api.group_order_info({\r\n          groupId: this.groupId\r\n        }).then(res => {\r\n          if(res.state) {\r\n            this.groupInfo = {\r\n                ...res.info, \r\n                actType: 'ACT_ASSEMBLE' \r\n              } \r\n            if(res.info.groupState != 3) {\r\n              this.countDown(1)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      // 拼团查看卡券\r\n      lookCoupon() {\r\n        // wx.navigateTo({\r\n        //   url:'/pages/center/card/card'\r\n        // })\r\n      },\r\n      lookIdCard(index) {\r\n        let item = this.tracvelUserList[index]\r\n        item.show = !this.tracvelUserList[index].show\r\n        // console.log(this.tracvelUserList[index], '-----------1')\r\n        this.$set(this.tracvelUserList, index, item)\r\n      },\r\n      tracvelNameChange() {\r\n        this.tracvelUserListShow = !this.tracvelUserListShow\r\n      },\r\n      // 包含权益查看全部\r\n      handleLookBoth(){\r\n        this.isAll = !this.isAll\r\n        this.showEquity = this.showEquity == 5?this.equityinfo.equityList.length : 5\r\n      },\r\n      // 获取权益列表\r\n      equity_list(){\r\n        this.$api.contain_equity_list({tradeId:this.tradeId}).then(res=>{\r\n          this.equityinfo = res.info\r\n        })\r\n      },\r\n      // 跳转路径\r\n      handleNavTo(item){\r\n        console.log(item);\r\n        if (item.type == 2) {//\r\n          if (item.jumpType == 2) {\r\n            this.$router.push({\r\n              name: 'couponList',\r\n              query: {tabIndex: 1}\r\n            })\r\n          } else if (item.jumpType == 1) {\r\n            console.log(item,787)\r\n            // 跳转至卡券详情页\r\n            this.$router.push({\r\n              name: 'couponDetail',\r\n              query: {\r\n                cardStartTime: item.cardStartTime,\r\n                cardEndTime: item.cardEndTime,\r\n                cardId: item.cardId,\r\n                detailId: item.detailId,\r\n                type: 1\r\n              }\r\n            })\r\n          }\r\n        \r\n        } else if (item.type == 1) {\r\n          // 跳转充值会员页\r\n          this.$router.push({\r\n            name: 'joinVip'\r\n          })\r\n        } else if (item.type == 4) {\r\n          // 跳转红包详情页\r\n          if(item.jumpType != 1) return false\r\n          let cityId = this.locationCity.cityId;\r\n          if (cityId != item.cityId && item.cityId != 0) {\r\n            this.$dialog.alert({\r\n              title: '提示',\r\n              message: `该红包仅限${item.cityName}使用，如需使用请到首页切换城市`,\r\n              confirmButtonText: '我知道了'\r\n            }).then(() => {\r\n              // on close\r\n            });\r\n            return\r\n          }\r\n          if (item.detailType == 'VOUCHER_CATEGORY' ||  item.detailType == 'VOUCHER_ACTIVITY') {  // 品类红包、活动红包\r\n            // 跳转可使用活动\r\n            this.$router.push({\r\n              name: 'applyActive',\r\n              query: {\r\n                voucherId: item.cardId\r\n              }\r\n            })\r\n          } else if (item.detailType == 'VOUCHER_SHOP') { // 商家红包\r\n            // 跳转可用商家\r\n            // this.$router.push({\r\n            //   name: 'applyShop',\r\n            //   query: {\r\n            //     voucherId: item.cardId\r\n            //   }\r\n            // })\r\n          } else if (item.detailType == 'VOUCHER_MEMBER') {\r\n            // 会员卡红包\r\n            this.$router.push({\r\n              name: 'joinVip'\r\n            })\r\n          }\r\n        } else if (item.type == 5) {\r\n          if (item.jumpType == 1) {\r\n            // 跳转消费券详情页\r\n              // wx.navigateTo({\r\n              //   url: `/pages/center/consumer_coupon/apply_act/apply_act?couponId=${item.cardId}&lng=${this.locationInfo.longitude}&lat=${this.locationInfo.latitude}&couponMoney=${item.money}`,\r\n              // })\r\n          }\r\n        }\r\n      },\r\n\r\n      // 获取订单详情\r\n      detail (flag) {\r\n        this.canClick = true\r\n        this.ready = false\r\n        // 拼团\r\n        if(this.groupId) {\r\n          this.getGroupInfo()\r\n        }\r\n        let typeObj = {1: 'cardOrderDetail', 3: 'vip_order_detail'}\r\n        let apiName = typeObj[this.orderType]\r\n        // 卡券订单详情\r\n        this.$api[apiName]({\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude,\r\n          tradeId: this.tradeId\r\n        }).then(res => {\r\n          if (res.state) {\r\n            if (this.orderType == 1) {\r\n              this.equity_list()\r\n              if (res.info.orderInfo.paystate == 1) {\r\n                this.countDown() // 开启倒计时\r\n              }\r\n              // console.log(this.info, '--------------info')\r\n              if (res.info.tracvelUserList && res.info.tracvelUserList.length) { // 用户信息处理\r\n                let tracvelUserList = res.info.tracvelUserList\r\n                tracvelUserList.forEach(item => {\r\n                  if(item.idCard) {\r\n                    item.idCardFalse = item.idCard.replace(item.idCard.slice(6, 16),\"**********\");\r\n                    item.show = false\r\n                  }\r\n                })\r\n                if(tracvelUserList.length > 1) {\r\n                  let tracvelUserListName = tracvelUserList.map(item => {\r\n                    return item.userName\r\n                  }).join(\";\")\r\n                  this.tracvelUserListShow = true\r\n                  this.tracvelUserListName = tracvelUserListName\r\n                }\r\n                this.tracvelUserList = tracvelUserList\r\n                console.log(this.tracvelUserList,'tracvelUserList')\r\n              } \r\n              this.info = res.info\r\n              \r\n              // 拼团分享\r\n              if (res.info.actInfo.actType == 'ACT_ASSEMBLE') {\r\n                this.actSn = this.info.actInfo.actSn\r\n                this.enumKey = 'ACT_ASSEMBLE'\r\n                this.showShare = true\r\n              }\r\n            } else {\r\n              // 组装开通会员卡信息\r\n              this.info = {\r\n                ...res.info,\r\n                orderInfo: res.info,\r\n                refundInfo: res.info,\r\n                vipOrder: res.info.orderInfo,\r\n                actInfo: {\r\n                  actType: ''\r\n                }\r\n              }\r\n            }\r\n\r\n            this.ready = true\r\n            console.log(this.info,this.orderType, '------------------info')\r\n          } else {\r\n           this.$Toast(res.message)\r\n          }\r\n        }).finally(()=>{\r\n        })\r\n      },\r\n\r\n      // 申请退款\r\n      apply () {\r\n        this.$save.set('session', 'refund', this.info)\r\n        this.$router.push({name: 'refund', query: {tradeId: this.tradeId}})\r\n        // wx.navigateTo({\r\n        //   url: `/pages/center/refund/refund?tradeId=${this.tradeId}`\r\n        // })\r\n      },\r\n      // 拼团取消订单\r\n      cancelGroup() {\r\n        this.$dialog.confirm({\r\n          title: '提示',\r\n          message: '是否确定取消该订单？',\r\n          confirmButtonText: '是',\r\n          confirmButtonColor: '#1A1919',\r\n          cancelButtonText: '否',\r\n          cancelButtonColor: '#B56C00'\r\n        })\r\n        .then(() => {\r\n          this.$api.group_cancel({\r\n            tradeId: this.tradeId,\r\n            groupId: this.groupId\r\n          }).then(res1 => {\r\n            if(res1.state) {\r\n              this.detail(true)\r\n            } else {\r\n              this.$Toast(res1.message)\r\n            }\r\n          })\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        });\r\n      },\r\n      // 取消订单\r\n      cancelOrder () {\r\n        this.$dialog.confirm({\r\n          title: '提示',\r\n          message: '是否确认取消此订单',\r\n          confirmButtonText: '是',\r\n          confirmButtonColor: '#1A1919',\r\n          cancelButtonText: '否',\r\n          cancelButtonColor: '#B56C00'\r\n        })\r\n        .then(() => {\r\n          this.$api.cardOrderCancle({\r\n            tradeId: this.tradeId\r\n          }).then(res=>{\r\n            if(res.state){\r\n              this.$Toast(\"取消成功\")\r\n              this.$router.go(-1)\r\n              this.SET_UPDATEPAGE({'orderList': true})\r\n            }else{\r\n              this.$dialog.alert({\r\n                title: '标题',\r\n                message: '取消失败，请稍后重试',\r\n                confirmButtonText: '我知道了'\r\n              }).then(() => {\r\n                // on close\r\n              });\r\n            }\r\n          })\r\n        })\r\n        .catch(() => {\r\n          // on cancel\r\n        });\r\n      },\r\n      // 待付款倒计时\r\n      countDown (type) {\r\n        if(Interval){\r\n          clearInterval(Interval)\r\n        }\r\n        if(type == 1) { // 拼团倒计时\r\n          // Interval = setInterval(()=>{     \r\n          //   let groupInfo = this.groupInfo\r\n          //   if(groupInfo.groupState == 1) {\r\n          //     if (groupInfo.remainTime <= 0){ // 倒计时结束删除待付款\r\n          //       clearInterval(Interval)\r\n          //       this.getGroupInfo()\r\n          //     }\r\n          //     groupInfo.remainTime -= 100\r\n          //     groupInfo.downTime = countDown3(groupInfo.remainTime, true)\r\n          //     this.groupInfo = groupInfo\r\n          //   }\r\n          // }, 100)\r\n        } else { // 订单代付款倒计时\r\n          Interval = setInterval(()=>{     \r\n            let remainTime = this.info.orderInfo.remainTime\r\n            if (remainTime <= 0){ // 倒计时结束\r\n              clearInterval(Interval)\r\n            }\r\n            remainTime -= 1000\r\n            this.$set(this.info.orderInfo, 'remainTime', remainTime)\r\n          }, 1000)\r\n        }\r\n      },\r\n\r\n      // 支付\r\n      pay () {\r\n        let info = this.info\r\n        if (info.orderInfo.remainTime && info.orderInfo.remainTime <= 0) {\r\n          this.$Toast('订单已过期')\r\n          return\r\n        }\r\n\r\n        let that = this\r\n        let actPay = orderPay.actPay(this.tradeId)\r\n        if (actPay) {\r\n          actPay.then(res => {\r\n            this.orderQuery()\r\n          }).catch((res)=> {\r\n            if (res.cancelPay) {\r\n              // 支付失败\r\n              this.$Toast('取消支付')\r\n            } else if (res.code == \"508\" || res.code == \"509\" || res.code == \"1412\") {\r\n              this.$dialog.alert({\r\n                title: '提示',\r\n                message: res.message,\r\n              }).then(() => {\r\n                // on close\r\n                this.$router.go(-1)\r\n                this.SET_UPDATEPAGE({'orderList': true})\r\n              });\r\n            } else if (res.code == 1520) {\r\n              // 下单价格与第三方价格不一致\r\n              this.$dialog.alert({\r\n                title: '提示',\r\n                message: '订单信息已调整，请重新下单',\r\n              }).then(() => {\r\n                // on close\r\n                this.$router.go(-1)\r\n                this.SET_UPDATEPAGE({'orderList': true})\r\n              });\r\n            }\r\n            \r\n          })\r\n        }\r\n      },\r\n\r\n      // 校验订单\r\n      orderQuery() {\r\n        let that = this\r\n        let orderQuery = orderPay.orderQuery(this.tradeId)\r\n        if (orderQuery) {\r\n          orderQuery.then(res => {\r\n            if (res.state) {\r\n              // 支付成功\r\n              that.detail(true) // 重新加载页面\r\n              this.hasUpdateCenter = true // 刷新center页面\r\n              let page = getCurrentPages()\r\n              page = page[page.length -2]// 获取上一页面\r\n              page.setData({\r\n                refresh: true\r\n              })\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      // 查看卡券\r\n      goCard () {\r\n        let info = this.info\r\n        if (info.actInfo.actType == 'ACT_CASH_VOUCHER') {\r\n          // 红包活动跳转红包列表\r\n          // wx.navigateTo({\r\n          //   url: '/pages/center/cash_red_list/cash_red_list'\r\n          // })\r\n        } else if (info.actInfo.actType == 'ACT_GIFT_PACKAGE') {\r\n          // 礼包跳转卡券列表\r\n          this.$router.push({\r\n            name: 'couponList'\r\n          })\r\n        } else if (info.cardInfo.supplierCode == 'PARTY_ZWY'){\r\n          // 自我游卡券详情\r\n          this.$router.push({\r\n            name: 'travelCardDetails',\r\n            query:{\r\n              tradeId: info.orderInfo.tradeId\r\n            }\r\n          })\r\n        } else {\r\n          // 特卖跳转卡券详情\r\n          this.$router.push({\r\n            name: 'couponDetail',\r\n            query:{\r\n              tradeId: info.orderInfo.tradeId\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      // 跳转详情\r\n      goDetail () {\r\n        let info = this.info\r\n        if (info.orderInfo.channelType == 'CHANNEL_CONSUMER_COUPON' || info.orderInfo.channelType == 'CHANNEL_FORTUNE_COUPON') return\r\n        if (info.actInfo.actType == 'ACT_GIFT_PACKAGE') { // 礼包详情\r\n          this.$router.push({\r\n            name: 'giftBag',\r\n            query:{\r\n              actSn: info.actInfo.actSn,\r\n              channelType: 'CHANNEL_ORDER_DETAIL_PAGE'\r\n            }\r\n          })\r\n        } else if (info.actInfo.actType == 'ACT_SPECIAL_OFFER') {\r\n          // 特卖详情\r\n          this.$router.push({\r\n            name: 'specialSale',\r\n            query:{\r\n              actSn: info.actInfo.actSn,\r\n              channelType: 'CHANNEL_ORDER_DETAIL_PAGE'\r\n            }\r\n          })\r\n        }\r\n        //  else if (info.actInfo.actType == 'ACT_DIRECT_RECHARGE') {\r\n        //   wx.navigateTo({\r\n        //     url: `/pages/activity/recharge_detail/recharge_detail?actSn=${info.actInfo.actSn}&channelType=CHANNEL_ORDER_DETAIL_PAGE`\r\n        //   })\r\n        // } else if(info.actInfo.actType =='ACT_ASSEMBLE') {\r\n        //   wx.navigateTo({\r\n        //     url: `/subPack_market/pages/spell_group/spell_group?channelType=CHANNEL_ORDER_DETAIL_PAGE&actSn=${info.actInfo.actSn}&groupId=0&qrCode=`\r\n        //   })   \r\n        // } else if(info.actInfo.actType == 'ACT_CASH_VOUCHER') {\r\n        //   wx.navigateTo({\r\n        //     url: `/pages/activity/act_red_packet/act_red_packet?actSn=${info.actInfo.actSn}&qrCode=&channelType=CHANNEL_ORDER_DETAIL_PAGE`,\r\n        //   })\r\n        // } else if (info.actInfo.actType == 'ACT_SHARE_FISSION') {\r\n        //   wx.navigateTo({\r\n        //     url: `/subPack_market/pages/share_fission/share_fission?actSn=${info.actInfo.actSn}&channelType=CHANNEL_ORDER_DETAIL_PAGE&qrCode=`,\r\n        //   })\r\n        // }\r\n      },\r\n\r\n      goSuccess () { // 测试入口\r\n        let info = this.info\r\n        if (info.actInfo.actType == 'ACT_CASH_VOUCHER') {\r\n          // 红包活动跳转红包列表\r\n          // wx.navigateTo({\r\n          //   url: `/pages/activity/act_red_packet/success/success?tradeId=${info.orderInfo.tradeId}&vip_check=0`\r\n          // })\r\n\r\n        } else if (info.actInfo.actType == 'ACT_GIFT_PACKAGE') { // 礼包详情\r\n          this.$router.push({\r\n            name: 'giftBagSuccess',\r\n            query: {\r\n              tradeId: info.orderInfo.tradeId,\r\n              vip_check: 0\r\n            }\r\n          })\r\n        } else if (info.actInfo.actType == 'ACT_SPECIAL_OFFER') {\r\n          // 特卖详情\r\n          this.$router.push({\r\n            name: 'specialSaleSuccess',\r\n            query: {\r\n              tradeId: info.orderInfo.tradeId,\r\n              vip_check: 0\r\n            }\r\n          })\r\n        }\r\n      },\r\n    },\r\n    created() {\r\n      let options = this.$route.query\r\n      console.log(options, 'options')\r\n      this.orderType = options.type ? Number(options.type) : 1\r\n      this.qrCode = this.qrCode\r\n      this.tradeId = options.id || ''\r\n      this.groupId = options.groupId || ''\r\n      this.shopName = options.shopName || ''\r\n      this.channelType = options.channelType || ''\r\n      this.qianzhuLink = !!options.pay\r\n      this.detail()\r\n    },\r\n    destroyed() {\r\n      clearInterval(Interval)\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n.minh160 {\r\n  min-height: 160px;\r\n}\r\n.mt32 {\r\n  margin-top: 32px;\r\n}\r\n.mgvaildDay {\r\n  margin: 8px 0 32px 0;\r\n}\r\n.l42 {\r\n  line-height: 42px;\r\n}\r\n.mgzhi {\r\n  margin: 8px 0 6px 0;\r\n}\r\n.pd24 {\r\n  padding: 0 24px;\r\n}\r\n.mt18 {\r\n  margin-top: 18px;\r\n}\r\n.w160 {\r\n  width: 160px;\r\n}\r\n.mt-4 {\r\n  margin-top: -4px;\r\n}\r\n.ml12 {\r\n  margin-left: 12px;\r\n}\r\n\r\n\r\n.header {\r\n  position: relative;\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/img_order_bg.png') no-repeat;\r\n  background-size: 100% 268px;\r\n  padding-top: 10px;\r\n}\r\n.placeholder {\r\n  background: #F42D2D;\r\n}\r\n.header .title .text{\r\n  display: inline-template;\r\n  padding-top: 24px;\r\n  font-size: 28px;\r\n  line-height: 28px;\r\n}\r\n.header .card {\r\n  width: 690px;\r\n  margin: 32px auto;\r\n  padding: 30px 24px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #F5F3F0;\r\n  border-radius: 12px;\r\n  margin-bottom: 0;\r\n}\r\n.header .card .content {\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  border-top-left-radius: 14px;\r\n  border-top-right-radius: 14px;\r\n}\r\n.header .card .atc-img {\r\n  width: 160px;\r\n  height: 160px;\r\n  border-radius: 6px;\r\n  margin-right: 18px;\r\n}\r\n.header .card .price {\r\n  margin-top: 24px;\r\n}\r\n\r\n.header .card .act-name {\r\n  line-height: 42px;\r\n}\r\n.use-state {\r\n  padding: 0 24px;\r\n  width:100%;\r\n  height: 54px;\r\n  background: #FEF2F3;\r\n  box-sizing: border-box;\r\n  /* margin-top: 18px; */\r\n  font-size: 24px;\r\n  color: #F51307;\r\n}\r\n.use-state .iconicon_warn{\r\n  margin-right: 12px;\r\n}\r\n.use-money {\r\n  margin: 18px 30px 30px 0;\r\n  vertical-align: bottom;\r\n  float: right;\r\n}\r\n.use-line {\r\n  width: 100%;\r\n  height: 2px;\r\n  opacity: 0.8;\r\n  background: #F5F3F0;\r\n  margin-top: 18px;\r\n}\r\n.mgb30 {\r\n  margin-bottom: 30px;\r\n}\r\n.bor-t {\r\n  border-top: 2px solid #F6F6F6;\r\n}\r\n.item .preferential {\r\n  margin-top: 15px;\r\n  padding: 0 20px 0 15px;\r\n  height: 56px;\r\n  background: #F4F5F7;\r\n  border-radius: 6px;\r\n}\r\n\r\n.order-panel .title{\r\n  color: #1A1919;\r\n  margin-top: 30px;\r\n  padding-bottom: 24px;\r\n  border-bottom: 1px solid #F6F6F6;\r\n}\r\n.order-panel .item {\r\n  padding-top: 30px;\r\n  font-size: 28px;\r\n}\r\n.wrap-item {\r\n  width: 160px; \r\n  line-height:42px;\r\n}\r\n.price .item {\r\n  padding:30px 24px 0 24px;\r\n}\r\n\r\n.why {\r\n  line-height: 42px;\r\n  text-align: right;\r\n}\r\n.order-panel .item.img div {\r\n  white-space: nowrap;\r\n}\r\n.order-panel .item.img img {\r\n  width: 140px;\r\n  height: 140px;\r\n  margin-right: 20px;\r\n  border-radius: 14px;\r\n  border: 1px solid #f2f2f2;\r\n}\r\n\r\n.service, button{\r\n  height: 100px;\r\n  background-color: #fff;\r\n}\r\n\r\nbutton {\r\n  padding: 0 30px;\r\n}\r\n\r\n.order-panel button {\r\n  padding: 0;\r\n}\r\n.service img {\r\n  width: 41px;\r\n  height: 41px;\r\n}\r\n\r\n.btn {\r\n  margin-top: 20px;\r\n  height: 94px;\r\n  line-height: 94px;\r\n  background: #FFFFFF;\r\n}\r\n.tui-text {\r\n  font-size: 30px;\r\n  color: #CD7B00;\r\n  line-height: 36px;\r\n  margin-top: 48px;\r\n}\r\n\r\n.footer {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  box-shadow: 0 0 4px 0 #E7E8EA;\r\n}\r\n.footer div {\r\n  width: 330px;\r\n  height:96px;\r\n  line-height:96px;\r\n  margin: 20px 15px;\r\n  font-size: 34px;\r\n  color: #1A1919;\r\n  text-align: center;\r\n  background: #FFFFFF;\r\n  border: 1px solid #B3B1AF;\r\n  border-radius: 48px;\r\n}\r\n.footer div:nth-child(2) {\r\n  color: #FFFFFF;\r\n  border: none;\r\n  background-image: linear-gradient(135deg, #F7420D 0%, #F50C05 100%);\r\n}\r\n.go-card {\r\n  font-size: 30px;\r\n  color: #CD7B00;\r\n  line-height: 30px;\r\n  font-weight: normal;\r\n}\r\n\r\n.order-page {\r\n  width: 100%;\r\n  background-color: #F6F6F6;\r\n  min-height: 100vh;\r\n  padding-bottom: 150px;\r\n}\r\n\r\n.order-panel {\r\n  background: #FFFFFF;\r\n  border: 1px solid #F5F3F0;\r\n  border-radius: 12px;\r\n  margin-top: 18px;\r\n  background: #fff;\r\n  padding: 0 24px;\r\n  color: #1A1919;\r\n  overflow: hidden;\r\n}\r\n\r\n.deduction {\r\n  margin-left: 15px;\r\n  display: inline-template;\r\n  border: 1px solid #D90634;\r\n  border-radius: 6px;\r\n  font-size: 22px;\r\n  color: #D90634;\r\n  padding: 2px 4px;\r\n}\r\n.mgl18 {\r\n margin-left: 18px;\r\n}\r\n\r\n/* 自我游用户信息 */\r\n.order-user-item {\r\n  margin-bottom: 14px;\r\n}\r\n.order-user-item:last-of-type {\r\n  margin-bottom: 0;\r\n}\r\n.order-user-item div{\r\n  font-size: 28px;\r\n  color: #1A1919;\r\n  line-height: 36px !important;\r\n}\r\n.order-user-more{\r\n  font-size: 26px;\r\n  color: #CD7B00;\r\n  line-height: 26px;\r\n  margin-top: 17px;\r\n  font-weight: 700;\r\n}\r\n.order-user-item .iconfont {\r\n  padding: 10px 12px;\r\n  color: #9E9D9B;\r\n  font-weight: bold;\r\n}\r\n\r\n\r\n/* 拼团 */\r\n.title-text {\r\n  margin: 0 24px;\r\n  font-size: 46px;\r\n  font-weight: bold;\r\n}\r\n.title-line {\r\n  width: 140px;\r\n  height: 2px;\r\n  background: #F6F6F6;\r\n}\r\n.spell-res {\r\n  margin: 40px 0 30px 0;\r\n}\r\n.date_num {\r\n  min-width: 36px;\r\n  height: 44px;\r\n  line-height: 44px;\r\n  font-size: 22px;\r\n  color: #FFFFFF;\r\n  background: #2F1504;\r\n  border-radius: 5px;\r\n  padding: 0 5px;\r\n  box-sizing: border-box;\r\n}\r\n.date_ms {\r\n  background: #F51307;\r\n  min-width: 22px;\r\n}\r\n.date_dot {\r\n  margin: 0 6px;\r\n  color: #2F1504;\r\n}\r\n.spell-btn {\r\n  background-image: linear-gradient(-14deg, #FBCA8F 0%, #FFE5B7 100%);\r\n  box-shadow: inset 0 -1px 3px 0 rgba(251,202,143,0.65);\r\n  border-radius: 48px;\r\n  width: 550px;\r\n  height: 96px;\r\n  font-size: 34px;\r\n  color: #8C4B00;\r\n}\r\n\r\n/* 拼团 */\r\n.cancel-group {\r\n  font-size: 30px;\r\n  color: #CD7B00;\r\n  line-height: 36px;\r\n  text-decoration: underline;\r\n  margin: 48px 0;\r\n}\r\n\r\n/* 包含权益 */\r\n.equity_item {\r\n  padding-top: 24px;\r\n}\r\n.equity_item .left img{\r\n background-color: pink;\r\n width: 120px;\r\n height: 120px;\r\n border-radius: 12px;\r\n overflow: hidden;\r\n}\r\n\r\n.equity_item .left {\r\n  margin-right: 18px;\r\n}\r\n\r\n.equity_item .right .name{\r\n  color: #666564;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.equity_item .right .card{\r\n  color: #1A1919;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.equity_item .right .flex-c-b{\r\n  color: #9E9D9B;\r\n}\r\n\r\n.equity_item .right .cD0 {\r\n  color: #D07D00;\r\n}\r\n\r\n.equity_item .right .use-line {\r\n  margin-top: 28px;\r\n}\r\n\r\n.contain_equity .look_both {\r\n  padding: 50px 0 30px;\r\n  background-color: #fff;\r\n}\r\n.contain_equity .look_both .btn{\r\n  width: 177px;\r\n  height: 42px;\r\n  border: 1px solid #B3B1AF;\r\n  border-radius: 42px;\r\n  box-sizing: border-box;\r\n  color: #1A1919;\r\n  margin: 0 auto;\r\n}\r\n\r\n.contain_equity .look_both img {\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-left: 3px;\r\n}\r\n\r\n.ml6 {\r\n  margin-left: 6px;\r\n}\r\n\r\n.lh54 {\r\n  line-height: 54px;\r\n}\r\n\r\n.c66 {\r\n  color: #666564;\r\n}\r\n\r\n.cRed {\r\n  color: #F51307;\r\n}\r\n</style>"]}]}