{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\common\\swipers\\commonSwiper.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\common\\swipers\\commonSwiper.vue","mtime":1596624611110},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi8vIC9kZWVwLyDnqb/pgI8NCiAuY29tbW9uLXN3aXBlciB7DQogICAgLmNvbW1vbi1zd2lwZXItaXRlbSB7DQogICAgICBoZWlnaHQ6IDQ2MHB4ICFpbXBvcnRhbnQ7DQogICAgfQ0KIH0NCg=="},{"version":3,"sources":["commonSwiper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6IA;AACA;AACA;AACA;AACA;AACA","file":"commonSwiper.vue","sourceRoot":"src/components/common/swipers","sourcesContent":["<!--\r\n * @Description: 公共轮播图\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-15 14:53:29\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-07-29 14:00:44\r\n--> \r\n<template>\r\n  <div class=\"common-swiper\">\r\n    <van-swipe class=\"swiper-box common-swiper-item\" :height=\"height\" :autoplay=\"flag ? 3000 : 0\"  :loop=\"loop\" indicator-color=\"white\" @change=\"onChange\">\r\n      <van-swipe-item v-for=\"(item,index) in imgUrls\" :key=\"index\" class=\"common-swiper-item\">\r\n        <!-- && index === current -->\r\n        <div class='video-item' v-if=\"item.type === 'video'\">\r\n         <img :src=\"item[urlName]\" @click=\"play(item, index)\" class=\"video-bgc wh\" v-if=\"!videoAutoplay && item[urlName]\">\r\n         <video\r\n            :id=\"'myVideo' + index\"\r\n            :src=\"item.video\"\r\n            style=\"width: 100%; height: 100%; object-fit: fill;\"\r\n            preload=\"auto\"\r\n            playsinline=\"true\"\r\n            webkit-playsinline=\"true\"\r\n            x5-playsinline=\"true\"\r\n            x-webkit-airplay=\"true\"\r\n            x5-video-player-fullscreen=\"true\"\r\n            x5-video-orientation=\"portraint\"\r\n            controls\r\n            muted\r\n            autobuffer\r\n            :autoplay=\"videoAutoplay\"\r\n            :loop=\"loop\"\r\n          > </video>\r\n        </div>\r\n        <img v-else class='video-play-btn wh' @click=\"imgClick(item)\" :src=\"item[urlName] || item\" alt=\"\" v-lazy=\"item[urlName] || item\">\r\n      </van-swipe-item>\r\n      <template #indicator>\r\n        <div class=\"center-dots-box center-dot\" :style=\"centerBot ? 'bottom:' + centerBot + 'px' : ''\" v-if=\"imgUrls.length > 1\">\r\n          <div class=\"center-dots\" :class=\"current == index ? 'center-dots-active' : ''\" v-for=\"(item, index) in imgUrls\" :key='index'></div>\r\n        </div>\r\n      </template>\r\n    </van-swipe>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default {\r\n    name: 'commonSwiper',\r\n    components: {},\r\n    props: {\r\n      imgUrls: { // 图片数组\r\n        type: Array,\r\n        default: function() {\r\n          return []\r\n        }\r\n      },\r\n      center: { // 是否居中\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      centerBot:{ // 居中提示的距离底部定位\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      urlName: {  // 指定属性名\r\n        type: String,\r\n        default: 'img'\r\n      },\r\n      loop: {   // 是否循环\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      // 注意事项 宽高是vant内置的 vantui的根配置是37.5 本项目的是75 \r\n      width: {\r\n        type: Number,\r\n        default: 375\r\n      },\r\n      height: {\r\n        type: Number,\r\n        default: 230\r\n      }\r\n      // width: {\r\n      //   type: String,\r\n      //   default: '10rem'\r\n      // },\r\n      // height: {\r\n      //   type: String,\r\n      //   default: '6.13rem'\r\n      // }\r\n    },\r\n    data() {\r\n      return {\r\n        current: 0,\r\n        flag: true,\r\n        videoAutoplay: true,\r\n        isWifi: true\r\n      }\r\n    },\r\n    methods: {\r\n      onChange(index) {\r\n        this.current = index\r\n        let item = this.imgUrls[index]\r\n        // if(item.type === 'video' && this.isWifi) {\r\n        //   this.flag = false\r\n        //   this.videoAutoplay = true\r\n        // } else {\r\n          // 处理视频全部暂停\r\n          this.imgUrls.map((item,index) => {\r\n            if (item.type === 'video') {\r\n              let player = document.getElementById(\"myVideo\" + index)\r\n              player.pause()\r\n            }\r\n          })\r\n          // console.log(item, 'item')\r\n          // 当前视频播放\r\n          if (item.type === 'video') {\r\n            this.flag = false\r\n            const player = document.getElementById(\"myVideo\" + index);\r\n            // console.log(player, 'player')\r\n            player.play()\r\n            player.onended = () => { // 当前视频播放结束\r\n              console.log('触发视频播放结束')\r\n              this.flag = true\r\n            }\r\n            // if (player.play) {\r\n            //   player.pause()\r\n            // } else {\r\n              \r\n              \r\n            // }\r\n          }\r\n        // }\r\n      },\r\n      // 点击图片\r\n      imgClick(item) {\r\n        console.log(item, '点击图片')\r\n      }\r\n    },\r\n    created() {\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n// /deep/ 穿透\r\n .common-swiper {\r\n    .common-swiper-item {\r\n      height: 460px !important;\r\n    }\r\n }\r\n</style>\r\n<style scoped lang='scss'>\r\n  .swiper-box{\r\n    // position: relative;\r\n  }\r\n  .slide-image{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .bottom{\r\n    bottom: 20px;\r\n  }\r\n  .video-item{\r\n    position: relative;\r\n    width: 100%;\r\n    height: 460px;\r\n  }\r\n  .video-item .video-play-btn {\r\n    position: absolute;\r\n    width: 100px;\r\n    height: 100px;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    z-index: 2;\r\n  }\r\n  .video-item .video-bgc {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    z-index: 1;\r\n    margin: auto;\r\n  }\r\n  .video-play-icon {\r\n    font-size: 60px;\r\n    color: #C7C5C3;\r\n    position: absolute;\r\n    width: 60px;\r\n    height: 60px;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    z-index: 2;\r\n  }\r\n  /* 居中提示 */\r\n  .center-dots-box {\r\n    position: absolute;\r\n    bottom: 54px;\r\n    left: 50%;\r\n    transform: translate(-50%, 0);\r\n    display: flex;\r\n  }\r\n  .center-dots {\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 50%;\r\n    opacity: 0.6;\r\n    background: #FFFFFF;\r\n    margin-right: 12px;\r\n  }\r\n  .center-dots-active {\r\n    width: 32px;\r\n    height: 8px;\r\n    border-radius: 4px;\r\n    background: #FFFFFF;\r\n    opacity: 1\r\n  }\r\n</style>\r\n"]}]}