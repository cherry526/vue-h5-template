{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\activeCoupon.vue?vue&type=style&index=0&id=6bd1d28b&scoped=true&lang=scss&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\activeCoupon.vue","mtime":1597889072564},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmZvb3RlcjEgewogIHdpZHRoOiAxMDAlOwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgaGVpZ2h0OiAxNDJweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgYm90dG9tOiAwOwp9Ci5mb290ZXIxIGltZyB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHotaW5kZXg6IC0xOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQouZm9vdGVyMSAuZm9vdGVyLXRleHQgewogIHRvcDogMDsKICBwYWRkaW5nOiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKfQouZm9vdGVyMSBmb3JtIHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgdG9wOiAwOwogIGhlaWdodDogMTAwJTsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIHdpZHRoOiAxMDAlOwp9Ci5mb290ZXIxIGJ1dHRvbiB7CiAgZm9udC1zaXplOiAzNHB4OwogIGNvbG9yOiAjZmZmOwogIGxpbmUtaGVpZ2h0OiAxMjdweDsKfQovKiDml6XljobmmL7npLogKi8KLmNhbGVuZGFyIHsKICBwYWRkaW5nOiAzMHB4IDAgNDBweCAyNHB4OwogIGJhY2tncm91bmQtY29sb3I6ICNmZmY7CiAgbWFyZ2luLWJvdHRvbTogMThweDsKfQouY2FsZW5kYXIgLmNhbGVuZGFyLXRpbCAucmlnaHQgLmljb25pY29uX21vcmUgewogIG1hcmdpbi1yaWdodDogMTBweDsKfSAKLmNhbGVuZGFyIC5jYWxlbmRhci1saXN0IHsKICBtYXJnaW4tdG9wOiAyNXB4Owp9Ci5jYWxlbmRhciAuY2FsZW5kYXItbGlzdCAuY2FsZW5kYXItc2Nyb2xsIHsKICB3aWR0aDogMTAwJTsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwp9Ci5jYWxlbmRhciAuY2FsZW5kYXItbGlzdCAubGlzdC1pdGVtIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgcGFkZGluZy10b3A6IDIwcHg7CiAgbWFyZ2luLWxlZnQ6IDE2cHg7CiAgd2lkdGg6IDE2MHB4OwogIGhlaWdodDogMTEwcHg7CiAgYmFja2dyb3VuZDogI0ZGRkZGRjsKICBib3JkZXI6IDFweCBzb2xpZCByZ2JhKDI0NSwyNDMsMjQwLDAuODApOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KLmNhbGVuZGFyIC5jYWxlbmRhci1saXN0IC5saXN0LWl0ZW06Zmlyc3QtY2hpbGQgewogIG1hcmdpbi1sZWZ0OiAwOwp9Ci5jYWxlbmRhciAuY2FsZW5kYXItbGlzdCAubGlzdC1pdGVtIC5tb250aCB7CiAgbWFyZ2luLWJvdHRvbTogMTZweDsKfQovKiDnjrDph5HnuqLljIUgKi8KLnRyYXZlbC1jYXJkLW5hbWUgewogIGxpbmUtaGVpZ2h0OiA0MHB4Owp9Cgo="},{"version":3,"sources":["activeCoupon.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"activeCoupon.vue","sourceRoot":"src/views/active","sourcesContent":["<!--\r\n * @Description: 特卖活动\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-20 15:48:24\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-08 11:32:20\r\n--> \r\n<template>\r\n  <div>\r\n    <van-skeleton title :row=\"14\" :loading=\"!ready\">\r\n      <template v-if=\"ready\">\r\n        <common-swiper :imgUrls=\"mediaList\" ></common-swiper>\r\n        <div class=\"act-container\" >\r\n          <!-- 现金红包 && 使用规则 -->\r\n          <active-cash id=\"activeCash\" :info=\"info\" :options=\"options\" actType=\"cardDetail\" />\r\n          <!-- 商品详情 -->\r\n          <active-coupon :info=\"info\"></active-coupon>\r\n          <!-- 自我游-房态详情 -->\r\n          <active-room :url=\"info.houseUrl\"></active-room>\r\n          <!-- 使用须知 -->\r\n          <active-notice :info=\"info\"></active-notice>\r\n          <!-- 品牌及门店 -->\r\n          <template v-if=\"info.supplierCode != 'PARTY_ZWY' && info.cardType != 'CARD_DIRECT_RECHARGE'\">\r\n            <active-brand :info=\"info\" :suitShops=\"suitShops\" :options=\"options\" :fixedDetail=\"fixedDetail\"></active-brand>\r\n          </template>\r\n          <!-- 商家/图文详情 -->\r\n          <active-graphic :detail=\"graphicDetail\" :title=\"info.describe ? '图文详情' : '商家详情'\"></active-graphic>\r\n        </div>\r\n      </template>\r\n    </van-skeleton>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import activeBrand from '@components/active/activeBrand'\r\n  import activeNotice from '@components/active/activeNotice'\r\n  import activeGraphic from '@components/active/activeGraphic'\r\n  import activeRoom from '@components/active/activeRoom'\r\n  import activeCoupon from '@components/active/activeCoupon'\r\n  import activeCash from '@components/active/activeCash'\r\n\r\n  export default {\r\n    name: 'specialSale',\r\n    computed: {},\r\n    components:{\r\n      activeCoupon,\r\n      activeCash,\r\n      activeGraphic,\r\n      activeBrand,\r\n      activeRoom,\r\n      activeNotice,\r\n    },\r\n    data() {\r\n      return {\r\n        vipUser: false,\r\n        suitShops: [],\r\n        mediaList: [],\r\n        graphicDetail: '', // 详情html信息\r\n        timer: null,\r\n        recommendList: [], // 其他礼包推荐/推荐权益\r\n        btnDisabled: false,\r\n        cashMask: false,\r\n        ready: false,\r\n        fixedDetail:{}, // 门店品牌人均信息\r\n        channelType: '',\r\n        options: this.$route.query || {},\r\n        info: {}\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"wxUser\", \"locationCity\", \"vipCardInfo\", \"updateFlag\"])\r\n    },\r\n    methods: {\r\n      // 获取活动卡券详情\r\n      getCoupDetail() {\r\n        return this.$api.act_card_detail({\r\n          cardId: this.options.cardId,\r\n          detailId: this.options.detailId,\r\n          actSn: this.options.actSn\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.info = { ...this.info, ...res.info }\r\n            this.mediaList = res.info.mediaList\r\n            this.ready = true\r\n            if(res.info.shopShow) {\r\n              this.getSuitShops() \r\n            }\r\n            // 自我游卡券时商家详情显示为图文详情\r\n            if (this.info.describe) {\r\n              this.graphicDetail = this.info.describe\r\n            }\r\n            this.getFixedDetail(res.info.shopSn) // 获取商家详情\r\n          } else {\r\n            // this.back_to(res)\r\n          }\r\n        })\r\n      },\r\n\r\n\r\n      // 获取商家固定信息\r\n      getFixedDetail(shopSn) {\r\n        this.$api.shop_fixed_detail({\r\n          shopSn,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.fixedDetail = res.info.shop\r\n            if(!this.info.describe) {\r\n              this.graphicDetail = res.info.shop.detail\r\n            }\r\n          }\r\n        })\r\n      },\r\n\r\n      getSuitShops() {\r\n        return this.$api.suitShop({\r\n          cardId: this.options.cardId,\r\n          detailId: this.options.detailId,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude\r\n        }).then(res => {\r\n          if (res.state && res.info) {\r\n            let suitShops = res.info.suitShops || []\r\n            this.suitShops = suitShops\r\n            this.recentShop = suitShops[0] || {}\r\n          } else {\r\n\r\n          }\r\n        })\r\n      }\r\n    },\r\n    \r\n    created() {\r\n      const options = this.$route.query\r\n      this.options = options\r\n      this.getCoupDetail()\r\n    },\r\n    activated() {\r\n\r\n    },\r\n    destroyed() {\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n  .footer1 {\r\n    width: 100%;\r\n    box-sizing: border-box;\r\n    height: 142px;\r\n    text-align: center;\r\n    bottom: 0;\r\n  }\r\n  .footer1 img {\r\n    position: relative;\r\n    z-index: -1;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .footer1 .footer-text {\r\n    top: 0;\r\n    padding: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .footer1 form {\r\n    position: absolute;\r\n    top: 0;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n  }\r\n  .footer1 button {\r\n    font-size: 34px;\r\n    color: #fff;\r\n    line-height: 127px;\r\n  }\r\n  /* 日历显示 */\r\n  .calendar {\r\n    padding: 30px 0 40px 24px;\r\n    background-color: #fff;\r\n    margin-bottom: 18px;\r\n  }\r\n  .calendar .calendar-til .right .iconicon_more {\r\n    margin-right: 10px;\r\n  } \r\n  .calendar .calendar-list {\r\n    margin-top: 25px;\r\n  }\r\n  .calendar .calendar-list .calendar-scroll {\r\n    width: 100%;\r\n    white-space: nowrap;\r\n  }\r\n  .calendar .calendar-list .list-item {\r\n    display: inline-block;\r\n    padding-top: 20px;\r\n    margin-left: 16px;\r\n    width: 160px;\r\n    height: 110px;\r\n    background: #FFFFFF;\r\n    border: 1px solid rgba(245,243,240,0.80);\r\n    border-radius: 10px;\r\n  }\r\n  .calendar .calendar-list .list-item:first-child {\r\n    margin-left: 0;\r\n  }\r\n  .calendar .calendar-list .list-item .month {\r\n    margin-bottom: 16px;\r\n  }\r\n  /* 现金红包 */\r\n  .travel-card-name {\r\n    line-height: 40px;\r\n  }\r\n\r\n</style>"]}]}