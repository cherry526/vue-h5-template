{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\shop\\applyShop.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\shop\\applyShop.vue","mtime":1596790763906},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc2hvcEl0ZW0gZnJvbSAnQGNvbXBvbmVudHMvc2hvcC9zaG9wSXRlbSc7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcGx5U2hvcCcsCiAgbWl4aW5zOiBbXSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImxvY2F0aW9uSW5mbyIsICJsb2NhdGlvbkNpdHkiXSkpLAogIGNvbXBvbmVudHM6IHsKICAgIHNob3BJdGVtOiBzaG9wSXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZvdWNoZXJJZDogdGhpcy4kcm91dGUucXVlcnkudm91Y2hlcklkLAogICAgICBkaXNjb3VudFNob3BMaXN0OiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOmAgueUqOWVhuWutgogICAgZ2V0RGlzY291bnRTaG9wOiBmdW5jdGlvbiBnZXREaXNjb3VudFNob3AoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICB2b3VjaGVySWQ6IHRoaXMudm91Y2hlcklkLAogICAgICAgIGNpdHlJZDogdGhpcy5sb2NhdGlvbkNpdHkuY2l0eUlkLAogICAgICAgIGxhdDogdGhpcy5sb2NhdGlvbkluZm8ubGF0aXR1ZGUsCiAgICAgICAgbG5nOiB0aGlzLmxvY2F0aW9uSW5mby5sb25naXR1ZGUKICAgICAgfTsKICAgICAgZGF0YS5wYWdlID0gcGFnZTsKICAgICAgZGF0YS5wZXJTaXplID0gMTA7CiAgICAgIHRoaXMuJGFwaS5jYXNoX3JlZF9hYmxlX3Nob3AoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0ZSkgewogICAgICAgICAgdmFyIGRpc2NvdW50U2hvcExpc3QgPSByZXMuaW5mby5zaG9wTGlzdCB8fCBbXTsKCiAgICAgICAgICBfdGhpcy5oYW5kbGVyTGlzdChkaXNjb3VudFNob3BMaXN0LCBwYWdlKTsKCiAgICAgICAgICBpZiAocGFnZSA9PSAxKSB7CiAgICAgICAgICAgIF90aGlzLnRvdGFsUGFnZSA9IHJlcy5pbmZvLnBhZ2UudG90YWxQYWdlOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLnBhZ2UgPSBwYWdlOwoKICAgICAgICAgIGlmIChwYWdlID09IF90aGlzLnRvdGFsUGFnZSkgewogICAgICAgICAgICBfdGhpcy5oYXNNb3JlID0gZmFsc2U7IC8vIOaYvuekuuW3sue7j+WIsOW6leS6hgogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuaGFzTW9yZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWkhOeQhuWIl+ihqOaVsOaNrgogICAgaGFuZGxlckxpc3Q6IGZ1bmN0aW9uIGhhbmRsZXJMaXN0KGRpc2NvdW50U2hvcExpc3QsIHBhZ2UpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBkaXNjb3VudFNob3BMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgY2FyZExpc3QgPSBpdGVtLmNhcmRMaXN0IHx8IFtdOwoKICAgICAgICBpZiAoY2FyZExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIGJhY2sgPSBfdGhpczIudW5pcXVlKGl0ZW0uY2FyZExpc3QpOwoKICAgICAgICAgIGl0ZW0ucV9zdHIgPSBiYWNrWydxX3N0ciddOwogICAgICAgICAgaXRlbS50X3N0ciA9IGJhY2tbJ3Rfc3RyJ107CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIHZhciBfbGlzdCA9IHRoaXMuZGlzY291bnRTaG9wTGlzdCB8fCBbXTsKCiAgICAgIGlmIChwYWdlID09IDEpIHsKICAgICAgICBfbGlzdCA9IGRpc2NvdW50U2hvcExpc3Q7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIF9saXN0MjsKCiAgICAgICAgKF9saXN0MiA9IF9saXN0KS5wdXNoLmFwcGx5KF9saXN0MiwgX3RvQ29uc3VtYWJsZUFycmF5KGRpc2NvdW50U2hvcExpc3QpKTsKICAgICAgfQoKICAgICAgdGhpcy5kaXNjb3VudFNob3BMaXN0ID0gX2xpc3Q7CiAgICB9LAogICAgLy8g5pWw57uE5Y676YeNCiAgICB1bmlxdWU6IGZ1bmN0aW9uIHVuaXF1ZShhcnIpIHsKICAgICAgdmFyIHJlc3VsdCA9IFtdOwogICAgICB2YXIgcV9hcnIgPSBbXTsKICAgICAgdmFyIHRfYXJyID0gW107CiAgICAgIHZhciBxX3N0ciA9ICcnOwogICAgICB2YXIgdF9zdHIgPSAnJzsKICAgICAgdmFyIG9iaiA9IHt9OyAvLyBjb25zb2xlLmxvZyhhcnIsICdhcnJhcnInKQoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIW9ialthcnJbaV0uY2FyZE5hbWVdIHx8IG9ialthcnJbaV0uY2FyZE5hbWVdLnVzZUNvbmRpdGlvbiAhPSBhcnJbaV0udXNlQ29uZGl0aW9uKSB7CiAgICAgICAgICByZXN1bHQucHVzaChhcnJbaV0pOwogICAgICAgICAgb2JqW2FycltpXS5jYXJkTmFtZV0gPSBhcnJbaV07CiAgICAgICAgfQogICAgICB9IC8vIOWkhOeQhuWOu+mHjeWQjueahOaVsOe7hAoKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHJlc3VsdFtpXS5jYXJkVHlwZSA9PSAiQ0FSRF9DQVNIX0NPVVBPTiIpIHsKICAgICAgICAgIHFfYXJyLnB1c2gocmVzdWx0W2ldKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdF9hcnIucHVzaChyZXN1bHRbaV0pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKHFfYXJyLmxlbmd0aCA+IDApIHsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgcV9hcnIubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICBpZiAocV9hcnJbX2ldLnVzZUNvbmRpdGlvbiA9PSAxKSB7CiAgICAgICAgICAgIC8vIOWIpOaWreaXoOmXqOanm+S7o+mHkeWIuAogICAgICAgICAgICBxX3N0ciA9IChxX3N0ciA/IHFfc3RyICsgJ++8jCcgOiBxX3N0cikgKyBxX2FycltfaV0uc2VsbFByaWNlIC8gMTAwICsgJ+WFg+aKtScgKyBxX2FycltfaV0uY2FyZE5hbWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBxX3N0ciA9IChxX3N0ciA/IHFfc3RyICsgJ++8jCcgOiBxX3N0cikgKyBxX2FycltfaV0uc2VsbFByaWNlIC8gMTAwICsgJ+WFg+i0rScgKyBxX2FycltfaV0uY2FyZE5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUubG9nKHRfYXJyLCAndF9hcnJ0X2FycnRfYXJyJykKCgogICAgICBpZiAodF9hcnIubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IHRfYXJyLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgIHRfc3RyID0gKHRfc3RyID8gdF9zdHIgKyAn77yMJyA6IHRfc3RyKSArIHRfYXJyW19pMl0uc2VsbFByaWNlIC8gMTAwICsgJ+WFg+i0rScgKyB0X2FycltfaTJdLm9yaWdpbmFsUHJpY2UgLyAxMDAgKyAn5YWDJyArIHRfYXJyW19pMl0uY2FyZE5hbWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgICdxX3N0cic6IHFfc3RyLAogICAgICAgICd0X3N0cic6IHRfc3RyCiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREaXNjb3VudFNob3AoKTsKICB9Cn07"},{"version":3,"sources":["applyShop.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 适用店铺\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-17 15:36:02\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-07 15:07:28\r\n--> \r\n<template>\r\n  <div>\r\n    <shop-item v-for=\"(item, index) in discountShopList\" :key=\"index\" :item=\"item\"></shop-item>\r\n  </div>\r\n</template>\r\n<script>\r\n  import shopItem from '@components/shop/shopItem'\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n\r\n  export default {\r\n    name: 'applyShop',\r\n    mixins: [],\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"locationCity\"])\r\n    },\r\n    components:{\r\n      shopItem\r\n    },\r\n    data() {\r\n      return {\r\n        voucherId: this.$route.query.voucherId,\r\n        discountShopList: []\r\n      }\r\n    },\r\n    methods: {\r\n      // 适用商家\r\n      getDiscountShop(page = 1) {\r\n        if(this.loading) return\r\n        this.loading = true \r\n        let data = {\r\n          voucherId: this.voucherId,\r\n          cityId: this.locationCity.cityId,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude,\r\n        }\r\n        data.page = page\r\n        data.perSize = 10\r\n        this.$api.cash_red_able_shop(data).then(res => {\r\n          if (res.state) {\r\n            let discountShopList = res.info.shopList || []\r\n            this.handlerList(discountShopList, page)\r\n            if (page == 1) {\r\n              this.totalPage = res.info.page.totalPage\r\n            }\r\n            this.page = page\r\n            \r\n            if (page == this.totalPage) {\r\n              this.hasMore = false // 显示已经到底了\r\n            } else {\r\n              this.hasMore = true\r\n            }\r\n          }\r\n        }).finally(() => {\r\n          this.loading = false\r\n        })\r\n      },\r\n\r\n      // 处理列表数据\r\n      handlerList(discountShopList, page) {\r\n        discountShopList.forEach((item) => {\r\n          let cardList = item.cardList || []\r\n          if (cardList.length > 0) {\r\n            let back = this.unique(item.cardList)\r\n            item.q_str = back['q_str']\r\n            item.t_str = back['t_str']\r\n          }\r\n        })\r\n\r\n        let _list = this.discountShopList || []\r\n        if(page == 1) {\r\n          _list = discountShopList\r\n        } else {\r\n          _list.push(...discountShopList)\r\n        }\r\n        this.discountShopList = _list\r\n      },\r\n\r\n      // 数组去重\r\n      unique(arr) {\r\n        var result = [];\r\n        let q_arr = []\r\n        let t_arr = []\r\n        let q_str = ''\r\n        let t_str = ''\r\n        var obj = {};\r\n        // console.log(arr, 'arrarr')\r\n        for(var i =0; i < arr.length; i++){\r\n          if(!obj[arr[i].cardName] || obj[arr[i].cardName].useCondition != arr[i].useCondition){\r\n            result.push(arr[i])\r\n            obj[arr[i].cardName] = arr[i]\r\n          }\r\n        }\r\n\r\n        // 处理去重后的数组\r\n        for (var i =0; i < result.length; i++) {\r\n          if(result[i].cardType == \"CARD_CASH_COUPON\") {\r\n            q_arr.push(result[i])\r\n          } else {\r\n            t_arr.push(result[i])\r\n          }\r\n        }\r\n\r\n        if(q_arr.length > 0) {\r\n          for(let i =0; i < q_arr.length; i++){\r\n            if (q_arr[i].useCondition == 1) { // 判断无门槛代金券\r\n              q_str = (q_str ? q_str + '，' : q_str) + (q_arr[i].sellPrice / 100) + '元抵' + q_arr[i].cardName\r\n            } else {\r\n              q_str = (q_str ? q_str + '，' : q_str) + (q_arr[i].sellPrice / 100) + '元购' + q_arr[i].cardName\r\n            }\r\n            \r\n          }\r\n        }\r\n        // console.log(t_arr, 't_arrt_arrt_arr')\r\n        if (t_arr.length>0) {\r\n          for(let i =0; i < t_arr.length; i++){\r\n            t_str = (t_str ? t_str + '，' : t_str) + (t_arr[i].sellPrice / 100) + '元购' + (t_arr[i].originalPrice / 100) + '元' + t_arr[i].cardName\r\n          }\r\n        }\r\n\r\n        return {\r\n          'q_str': q_str,\r\n          't_str':t_str\r\n        }\r\n      },\r\n    },\r\n    created() {\r\n      this.getDiscountShop()\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>"],"sourceRoot":"src/views/shop"}]}