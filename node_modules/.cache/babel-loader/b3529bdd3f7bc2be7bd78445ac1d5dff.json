{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\center\\joinVip.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\center\\joinVip.vue","mtime":1596687411353},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC92aXBfaW5saW5lX2g1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnam9pblZpcCcsCiAgbWl4aW5zOiBbXSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudEluZGV4OiAwLAogICAgICBwYXlNb25leTogMCwKICAgICAgdmlwQ2FyZExpc3Q6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyd3eFVzZXInLCAndmlwQ2FyZEluZm8nLCAnbG9jYXRpb25DaXR5J10pKSwKICBtZXRob2RzOiB7CiAgICAvLyDlvIDpgJp2aXDmtYHnqIvvvJoKCiAgICAvKg0KICAgICAg5pyq5o6I5p2D77ya5ZSk6LW35o6I5p2DID0+IOiwg+eUqOaOiOadgyhhcGkucGhvbmVBdXRoKSA9PiDkuIvljZUNCiAgICAgIOW3suaOiOadg++8muS4i+WNlQ0KICAgICAgPT7kuIvljZXmi7/liLDorqLljZXlj7cg77yIYXBpLnZpcFJlY2hhbmdlKQ0KICAgID0+55So6K6i5Y2V5Y+36I635Y+W5b6u5L+h5pSv5LuY6ZyA6KaB55qE5Y+C5pWwIO+8iGFwaS5hY3RQYXkpDQogICAgPT7lvq7kv6HmlK/ku5ggKHd4LnJlcXVlc3RQYXltZW50KQ0KICAgID0+5qOA5p+l5piv5ZCm5byA6YCa5oiQ5YqfIO+8iGFwaS52ZXJpZnlRdWVyeSkNCiAgICA9PuajgOa1i+aYr+WQpuacieekvOWMhei1oOmAgSDvvIhhcGkuZ2V0RnJlZUJhZykNCiAgICAqLwogICAgb3BlblZpcDogZnVuY3Rpb24gb3BlblZpcCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHZpcFJlY2hhbmdlLCBhY3RQYXk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuJFRvYXN0LmxvYWRpbmcoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKICAgICAgICAgICAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudmlwUmVjaGFyZ2UoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdmlwUmVjaGFuZ2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSB2aXBSZWNoYW5nZS5pbmZvOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dC50MCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodmlwUmVjaGFuZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpZiAodmlwUmVjaGFuZ2UuaW5mby5mcmVlKSB7CiAgICAgICAgICAgICAgICAgIC8vIOiuouWNlemHkemineaYr+WQpuS4ujDvvIwg5piv5ZCm6ZyA6KaB5pSv5LuYCiAgICAgICAgICAgICAgICAgIF90aGlzLnZlcmlmeVF1ZXJ5KHZpcFJlY2hhbmdlLmluZm8udHJhZGVObyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAvLyDljrvmlK/ku5gKICAgICAgICAgICAgICAgICAgYWN0UGF5ID0gb3JkZXJQYXkuYWN0UGF5KHZpcFJlY2hhbmdlLmluZm8udHJhZGVObywgdmlwUmVjaGFuZ2UuaW5mbyk7CgogICAgICAgICAgICAgICAgICBpZiAoYWN0UGF5KSB7CiAgICAgICAgICAgICAgICAgICAgYWN0UGF5LnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXMudmVyaWZ5UXVlcnkodmlwUmVjaGFuZ2UuaW5mby50cmFkZU5vKTsKICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kVG9hc3QoJ+aUr+S7mOWksei0pScpOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MSA9IF9jb250ZXh0WyJjYXRjaCJdKDEpOwoKICAgICAgICAgICAgICAgIGlmIChfY29udGV4dC50MS5jb2RlID09IDUxMykgewogICAgICAgICAgICAgICAgICBfdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5pSv5LuY5byC5bi477yM6K+35Yi35paw5ZCO6YeN6K+VJywKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+WIt+aWsCcKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudEluZGV4ID0gMDsKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0VmlwQ2FyZExpc3QoKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9jb250ZXh0LnQxLmNvZGUgPT0gNjA2KSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLiRkaWFsb2cuYWxlcnQoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6LSt5Lmw5qyh5pWw5bey6L6+5LiK6ZmQJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn6K+l5L2T6aqM5Y2h5q+P5Lq65pyA5aSa5Y+v6LSt5LmwMeasoScsCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfmiJHnn6XpgZPkuoYnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJFRvYXN0KF9jb250ZXh0LnQxLm1lc3NhZ2UgfHwgJ+aUr+S7mOWksei0pe+8jOivt+mHjeaWsOaUr+S7mCcpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCAxMl1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5qCh6aqM5Lya5ZGY5Y2h5YWF5YC85piv5ZCm5oiQ5YqfCiAgICB2ZXJpZnlRdWVyeTogZnVuY3Rpb24gdmVyaWZ5UXVlcnkodHJhZGVObykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJGFwaS52ZXJpZnlRdWVyeSh7CiAgICAgICAgdHJhZGVObzogdHJhZGVObwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICBfdGhpczIuJFRvYXN0KCfmlK/ku5jmiJDlip8nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLiRUb2FzdChyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvLyDlvIDpgJrkvJrlkZjvvIzojrflj5borqLljZXlj7cKICAgIHZpcFJlY2hhcmdlOiBmdW5jdGlvbiB2aXBSZWNoYXJnZSgpIHsKICAgICAgdmFyIGN1clZpcENhcmQgPSB0aGlzLnZpcENhcmRMaXN0W3RoaXMuY3VycmVudEluZGV4XTsKICAgICAgdmFyIHZpcENhcmRJZCA9IGN1clZpcENhcmQudmlwQ2FyZElkOwogICAgICB2YXIgcHJpY2UgPSBjdXJWaXBDYXJkLmVuam95TmV3UHJpY2UgJiYgdGhpcy52aXBVc2VyID8gY3VyVmlwQ2FyZC5uZXdVc2VyUHJpY2UgOiBjdXJWaXBDYXJkLnByaWNlOwogICAgICB2YXIgY2hhbm5lbFR5cGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5jaGFubmVsVHlwZSB8fCAiIjsKICAgICAgdmFyIGFjdFNuID0gdGhpcy4kcm91dGUucXVlcnkuYWN0U24gfHwgIiI7CiAgICAgIHZhciBncmFzc0FjdFNuID0gdGhpcy4kcm91dGUucXVlcnkuZ3Jhc3NBY3RTbiB8fCAiIjsKICAgICAgdmFyIHBheU1vbmV5ID0gdGhpcy5wYXlNb25leTsgLy8g5a6e6ZmF5pSv5LuY6YeR6aKdCgogICAgICB2YXIgY2FzaERpc2NvdW50QW1vdW50ID0gMDsKICAgICAgdmFyIHZpcFJlY2hhcmdlID0gMDsKICAgICAgcmV0dXJuIHRoaXMuJGFwaS52aXBSZWNoYXJnZSh7CiAgICAgICAgdmlwQ2FyZElkOiB2aXBDYXJkSWQsCiAgICAgICAgcHJpY2U6IHByaWNlLAogICAgICAgIHZpcFJlY2hhcmdlOiB2aXBSZWNoYXJnZSwKICAgICAgICBwYXlNb25leTogcGF5TW9uZXksCiAgICAgICAgY2hhbm5lbFR5cGU6IGNoYW5uZWxUeXBlLAogICAgICAgIGNvbHVtbklkOiAnJywKICAgICAgICBxckNvZGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnFyQ29kZSB8fCAiIiwKICAgICAgICBhY3RTbjogYWN0U24sCiAgICAgICAgZ3Jhc3NBY3RTbjogZ3Jhc3NBY3RTbiwKICAgICAgICBjaXR5SWQ6IHRoaXMubG9jYXRpb25DaXR5LmNpdHlJZCwKICAgICAgICBjYXNoUmVkUmVjZWl2ZUlkOiAwLAogICAgICAgIGNhc2hEaXNjb3VudEFtb3VudDogY2FzaERpc2NvdW50QW1vdW50LAogICAgICAgIGZpc3Npb25BY3RTbjogdGhpcy4kcm91dGUucXVlcnkuZmlzc2lvbkFjdFNuIHx8ICcnCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOS8muWRmOWNoeWIl+ihqAogICAgZ2V0VmlwQ2FyZExpc3Q6IGZ1bmN0aW9uIGdldFZpcENhcmRMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGFwaS52aXBDYXJkTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICAgIF90aGlzMy52aXBDYXJkTGlzdCA9IHJlcy5pbmZvLnZpcENhcmRMaXN0LCBfdGhpczMudmlwVXNlciA9IHJlcy5pbmZvLnZpcFVzZXI7CgogICAgICAgICAgX3RoaXMzLnNldEluZGV4KHJlcy5pbmZvLnZpcENhcmRMaXN0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOagueaNrumhtemdouWPguaVsOeahHZpcENhcmRJZCDpgInkuK3lvZPliY3kvJrlkZjljaEKICAgIHNldEluZGV4OiBmdW5jdGlvbiBzZXRJbmRleChkYXRhKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChkYXRhW2ldLnZpcENhcmRJZCA9PSB0aGlzLnZpcENhcmRJZCkgewogICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdGhpcy5jYWxjdWxhdGVUb3RhbCgpOyAvLyDorqHnrpfmgLvph5Hpop0KICAgIH0sCiAgICAvLyDpgInmi6nlvIDpgJrnmoTljaHnsbvlnosKICAgIGNoZWNrQ2FyZDogZnVuY3Rpb24gY2hlY2tDYXJkKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbmRleCA9PT0gaW5kZXgpIHJldHVybjsKICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSBpbmRleDsKICAgICAgdGhpcy5jYWxjdWxhdGVUb3RhbCgpOyAvLyDorqHnrpfmgLvph5Hpop0KICAgIH0sCiAgICAvLyDorqHnrpfmgLvph5Hpop0KICAgIGNhbGN1bGF0ZVRvdGFsOiBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbCgpIHsKICAgICAgaWYgKCF0aGlzLnZpcENhcmRMaXN0IHx8ICF0aGlzLnZpcENhcmRMaXN0Lmxlbmd0aCkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgdmFyIGN1clZpcENhcmQgPSB0aGlzLnZpcENhcmRMaXN0W3RoaXMuY3VycmVudEluZGV4XSB8fCB7fTsKICAgICAgdmFyIHByaWNlID0gY3VyVmlwQ2FyZC5lbmpveU5ld1ByaWNlICYmIHRoaXMudmlwVXNlciA/IGN1clZpcENhcmQubmV3VXNlclByaWNlIDogY3VyVmlwQ2FyZC5wcmljZTsKICAgICAgdGhpcy5wYXlNb25leSA9IHByaWNlOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VmlwQ2FyZExpc3QoKTsKICB9Cn07"},{"version":3,"sources":["joinVip.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 充值会员卡\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-21 14:34:09\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-05 19:20:55\r\n--> \r\n<template>\r\n  <div class=\"join-vip\">\r\n  <div class=\"header flex-b por\">\r\n    <div class=\"left flex-v\">\r\n      <div class=\"avatar por\">\r\n        <img :src=\"wxUser.avatarUrl\" />\r\n        <img v-if=\"vipCardInfo.vipUser\" class=\"icon\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_my_member_icon.png\" />\r\n      </div>\r\n      <div class=\"info\">\r\n        <div class=\"nickname flex-v\">\r\n          <span class=\"name ft32 bold t-elps c1A\">{{ wxUser.nickName }}</span>\r\n        </div>\r\n        <div class=\"ft24 c66\" v-if=\"!vipCardInfo.vipUser\">还不是会员~</div>\r\n        <div class=\"ft24 excessTime\" v-else-if=\"vipCardInfo.excessTime <= 5\">{{ vipCardInfo.excessTime }}天后会员到期</div>\r\n        <div class=\"ft24 c66\" v-else>会员{{ vipCardInfo.expirationTime | formatTime('YYYY/MM/DD') }}到期</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"vip-list\">\r\n    <div class=\"card-list\">\r\n      <div class=\"card-list-scroll\">\r\n        <div v-for=\"(item, index) in vipCardList\" :key=\"index\" :class=\"['card-li', currentIndex == index ? 'active' : '']\" @click=\"checkCard(item, index)\">\r\n          <div :class=\"['ft32', 'c11', 'bold', currentIndex == index ? 'c8C4' : '']\">{{item.vipCardName}}</div>\r\n          <div class=\"card-prize flex\">\r\n            <span class=\"ft22 cD9\">￥</span>\r\n            <span class=\"ft50 cD9\">{{item.price / 100}}</span>\r\n            <span :class=\"['ft24', 'c3C', currentIndex == index ? 'c8C4' : '']\">/{{!item.autoRenewal || item.vipCardType == 1 ? (item.vipDay + '天') : item.vipCardType == 4 ? '年' : item.vipCardType == 3 ? '季' : '月'}}</span>\r\n          </div>\r\n          <span v-if=\"item.vipCardType != 1\" :class=\"['ft22', 'c8C', 'tdt', currentIndex == index ? 'c8C4' : '']\">原价￥{{item.originalPrice / 100}}</span>\r\n          <span v-if=\"item.vipCardType == 1\" style=\"opacity: 0\">1</span>\r\n\r\n          <div v-show=\"item.enjoyNewPrice && vipUser\" class=\"new-user tac\">\r\n            <img src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/new_user.png\" />\r\n            <span>新用户仅{{item.newUserPrice / 100}}元</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"submit-btn\">\r\n      <button  class='c99 ft34 tac submit' @click=\"openVip\">￥{{payMoney/100}}/{{ vipCardInfo.vipUser ? '立即续费' : '立即开通' }}</button>\r\n      <div class=\"mt30\">\r\n        <div class=\"ft24 c9E\">* 开通即视为同意</div>\r\n        <div class=\"ft24 protocol\">\r\n          <router-link class=\"cCD\" to=\"/center/protocol?type=1\" id=\"STATIS_PROTOCOL\">《会员服务协议》</router-link>\r\n          <router-link class=\"cCD\" to=\"/center/protocol?type=1\" id=\"STATIS_PROTOCOL\">《用户隐私协议》</router-link>\r\n        </div>\r\n        <div class=\"ft24 c9E mt12\" v-show=\"vipCardList[currentIndex] && vipCardList[currentIndex].dueToUse\">* 会员到期后，优惠卡券可继续使用</div>\r\n        <div class=\"ft24 c9E mt12\" v-show=\"vipCardList[currentIndex] && !vipCardList[currentIndex].dueToUse\">* 会员到期后，免费领取卡券无法使用，购买卡券可继续使用</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  name: 'joinVip',\r\n  mixins: [],\r\n  components:{},\r\n  data() {\r\n    return {\r\n      currentIndex: 0,\r\n      payMoney: 0,\r\n      vipCardList: []\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['wxUser', 'vipCardInfo', 'locationCity'])\r\n  },\r\n  methods: {\r\n    // 开通vip流程：\r\n    /*\r\n      未授权：唤起授权 => 调用授权(api.phoneAuth) => 下单\r\n      已授权：下单\r\n\r\n    =>下单拿到订单号 （api.vipRechange)\r\n    =>用订单号获取微信支付需要的参数 （api.actPay)\r\n    =>微信支付 (wx.requestPayment)\r\n    =>检查是否开通成功 （api.verifyQuery)\r\n    =>检测是否有礼包赠送 （api.getFreeBag)\r\n    */\r\n\r\n    async openVip() {\r\n      this.$Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n      });\r\n      try {\r\n        const vipRechange =  await this.vipRecharge()\r\n        // const actPay = await api.actPay({ tradeId: vipRechange.info.tradeId, payTypev: 'PAY_Applet' })\r\n        vipRechange.info || await Promise.reject(vipRechange)\r\n        if (vipRechange.info.free) { // 订单金额是否为0， 是否需要支付\r\n          this.verifyQuery(vipRechange.info.tradeNo)\r\n        } else {\r\n          // 去支付\r\n          let actPay = orderPay.actPay(vipRechange.info.tradeNo, vipRechange.info)\r\n          if (actPay) {\r\n            actPay.then(res => {\r\n              this.verifyQuery(vipRechange.info.tradeNo)\r\n            }).catch(res => {\r\n              this.$Toast('支付失败')\r\n            })\r\n          }\r\n        }\r\n      } catch(err) {\r\n        if ( err.code == 513) {\r\n          this.$dialog.alert({\r\n            message: '支付异常，请刷新后重试',\r\n            confirmButtonText: '刷新'\r\n          }).then(() => {\r\n            this.currentIndex = 0\r\n            this.getVipCardList()\r\n          })\r\n        } else if(err.code == 606) {\r\n          this.$dialog.alert({\r\n            title: '购买次数已达上限',\r\n            message: '该体验卡每人最多可购买1次',\r\n            confirmButtonText: '我知道了'\r\n          })\r\n        } else {\r\n          this.$Toast( err.message || '支付失败，请重新支付');\r\n        }\r\n      }\r\n    },\r\n\r\n    // 校验会员卡充值是否成功\r\n  verifyQuery(tradeNo) {\r\n    this.$api.verifyQuery({ tradeNo })\r\n      .then(res => {\r\n        if(res.state) {\r\n          this.$Toast('支付成功')\r\n        } else {\r\n          this.$Toast(res.message)\r\n        }\r\n      }).finally(() => {\r\n      })\r\n  },\r\n\r\n    // 开通会员，获取订单号\r\n    vipRecharge() {\r\n      let curVipCard = this.vipCardList[this.currentIndex]\r\n      let vipCardId = curVipCard.vipCardId\r\n      let price = (curVipCard.enjoyNewPrice && this.vipUser) ? curVipCard.newUserPrice : curVipCard.price\r\n      let channelType = this.$route.query.channelType || \"\"\r\n      let actSn = this.$route.query.actSn || \"\"\r\n      let grassActSn = this.$route.query.grassActSn || \"\"\r\n      let payMoney = this.payMoney // 实际支付金额\r\n      let cashDiscountAmount = 0\r\n      let vipRecharge = 0\r\n      return this.$api.vipRecharge({ vipCardId, price, vipRecharge, payMoney, channelType, columnId: '', qrCode: this.$route.query.qrCode || \"\", actSn, grassActSn , cityId: this.locationCity.cityId, cashRedReceiveId: 0, cashDiscountAmount, fissionActSn: this.$route.query.fissionActSn || '' })\r\n    },\r\n\r\n    // 会员卡列表\r\n    getVipCardList () {\r\n      this.$api.vipCardList().then(res => {\r\n        if(res.state) {\r\n          this.vipCardList = res.info.vipCardList,\r\n          this.vipUser = res.info.vipUser\r\n          this.setIndex(res.info.vipCardList)\r\n        }\r\n      })\r\n    },\r\n\r\n    // 根据页面参数的vipCardId 选中当前会员卡\r\n    setIndex (data) {\r\n      for (let i=0;i<data.length;i++) {\r\n        if (data[i].vipCardId == this.vipCardId) {\r\n          this.currentIndex = i\r\n        }\r\n      }\r\n      this.calculateTotal() // 计算总金额\r\n    },\r\n\r\n    // 选择开通的卡类型\r\n    checkCard(item, index) {\r\n      if(this.currentIndex === index) return\r\n      this.currentIndex = index\r\n      this.calculateTotal() // 计算总金额\r\n    },\r\n\r\n    // 计算总金额\r\n    calculateTotal() {\r\n      if(!this.vipCardList || !this.vipCardList.length) {\r\n        return false\r\n      }\r\n      let curVipCard = this.vipCardList[this.currentIndex] || {}\r\n      let price = (curVipCard.enjoyNewPrice && this.vipUser) ? curVipCard.newUserPrice : curVipCard.price\r\n      this.payMoney = price\r\n    }\r\n  },\r\n  created() {\r\n    this.getVipCardList()\r\n  }\r\n}\r\n</script>\r\n<style scoped lang='scss'>\r\n.header{\r\n  width: 100%;\r\n  height: 242px;\r\n  padding: 30px 30px 0;\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_bg_all.png') no-repeat center;\r\n  background-size: 100% 100%;\r\n}\r\n.header .left {\r\n  height: 90px;\r\n}\r\n.header .info{\r\n  padding-left: 22px\r\n}\r\n.avatar {\r\n  width: 90px;\r\n  height: 90px;\r\n}\r\n.avatar img{\r\n  width: 90px;\r\n  height: 90px;\r\n  border: 3px solid rgba(255,255,255,0.30);\r\n  border-radius: 50%;\r\n  overflow: hidden\r\n}\r\n.avatar .icon {\r\n  position: absolute;\r\n  bottom: -3px;\r\n  right: -3px;\r\n  width: 32px;\r\n  height: 35px;\r\n}\r\n.header .info {\r\n  color: #C47E50;\r\n}\r\n.header .info .left {\r\n  margin-top: 4px;\r\n}\r\n.header .info .nickname{\r\n  color: #994514;\r\n}\r\n.header .nickname .name{\r\n  display: inline-block;\r\n  max-width: 250px;\r\n  margin-bottom: 15px;\r\n}\r\n.header .info .excessTime {\r\n  display: inline-block;\r\n  padding: 0 6px;\r\n  line-height: 22px;\r\n  height: 26px;\r\n  font-size: 18px;\r\n  color: #F51307;\r\n  background: rgba(255,246,250,0.40);\r\n  border: 1px solid #E03839;\r\n  border-radius: 5px;\r\n}\r\n.header .right {\r\n  position: absolute;\r\n  top: 25px;\r\n  right: 0;\r\n  width: 168px;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  background: #FFEDD6;\r\n  border-radius: 60px 0 0 60px;\r\n  color: #8C4B00;\r\n}\r\n.header .right .iconfont {\r\n  margin-right: 6px;\r\n}\r\n\r\n.vip-list {\r\n  position: relative;\r\n  margin-top: -80px;\r\n  padding-bottom: 36px;\r\n  background: #fff;\r\n  border-radius: 24px 24px 0 0;\r\n  z-index: 3;\r\n}\r\n\r\n.card-list{\r\n  padding: 30px 0 24px;\r\n}\r\n.card-list::after {\r\n  content: '';\r\n  width: 222px;\r\n}\r\n.card-li{\r\n  display: inline-block;\r\n  padding: 38px 0 0 13px;\r\n  width: 216px;\r\n  height: 230px;\r\n  background: #fff;\r\n  border-radius: 10px;\r\n  border: 2px solid rgba(245,243,240,0.80);\r\n  box-sizing: border-box;\r\n  margin-left: 16px;\r\n  margin-top: 10px;\r\n  position: relative;\r\n  vertical-align: top;\r\n}\r\n.card-li:first-child {\r\n  margin-left: 30px;\r\n}\r\n.card-li:last-child {\r\n  margin-right: 30px;\r\n}\r\n.active{\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/join_vip_listbg.png') no-repeat center;\r\n  background-size: cover;\r\n}\r\n.new-user{\r\n  position: absolute;\r\n  left: -16px;\r\n  top: -10px;\r\n  width: 177px;\r\n  height: 52px;\r\n}\r\n.new-user img{\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.new-user span{\r\n  font-size: 22px;\r\n  color: #FFFFFF;\r\n  line-height: 49px;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0\r\n}\r\n.card-prize{\r\n  line-height: 1;\r\n  margin: 18px 0;\r\n  align-items: flex-end;\r\n  white-space: nowrap\r\n}\r\n\r\n.footer{\r\n  width: 100%;\r\n  height: 100px;\r\n  bottom: 0;\r\n}\r\n.footer img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.footer-text {\r\n  width: 100%;\r\n  height: 100%;\r\n  bottom: 0;\r\n  left: 0;\r\n  padding-left: 40px;\r\n  box-sizing: border-box;\r\n}\r\n.submit{\r\n  width: 250px;\r\n  background: none;\r\n  line-height: 100px;\r\n}\r\n\r\n.card-list-scroll {\r\n  height: 250px;\r\n  overflow-x: scroll;\r\n  white-space: nowrap;\r\n}\r\n\r\n\r\n.c99 {\r\n  color: #994514;\r\n}\r\n.cC4 {\r\n  color: #C47E50;\r\n}\r\n.submit-btn {\r\n  padding: 0 30px;\r\n}\r\n.protocol {\r\n  line-height: 32px;\r\n}\r\n.submit-btn button.submit{\r\n  margin-top: 30px;\r\n  width: 690px;\r\n  height: 96px;\r\n  background-image: linear-gradient(-14deg, #FBCA8F 0%, #FFE5B7 100%);\r\n  box-shadow: inset 0 -1px 3px 0 rgba(251,202,143,0.65);\r\n  border-radius: 96px;\r\n  text-align: center;\r\n  line-height: 96px;\r\n  font-size: 32px;\r\n  color: #994514;\r\n  font-weight: bold;\r\n}\r\n\r\n</style>"],"sourceRoot":"src/views/center"}]}