{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\giftBagSuccess.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\giftBagSuccess.vue","mtime":1596624611499},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC92aXBfaW5saW5lX2g1L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNhcmRDb2RlRGV0YWlsIGZyb20gJ0AvY29tcG9uZW50cy9jZW50ZXIvY2FyZENvZGVEZXRhaWwnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dNYXNrOiBmYWxzZSwKICAgICAgc2hvd1BvcDogZmFsc2UsCiAgICAgIGNhcmROdW06IDAsCiAgICAgIG1hc2s6IGZhbHNlLAogICAgICBpc091dENhcmQ6ICcnLAogICAgICBzaG93TW9kZWw6IGZhbHNlLAogICAgICBpbmZvOiB7fSwKICAgICAgb3B0aW9uczoge30KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBjYXJkQ29kZURldGFpbDogY2FyZENvZGVEZXRhaWwKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEluZm86IGZ1bmN0aW9uIGdldEluZm8odHJhZGVJZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kVG9hc3QubG9hZGluZyh7CiAgICAgICAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsCiAgICAgICAgZHVyYXRpb246IDAKICAgICAgfSk7CiAgICAgIHRoaXMuJGFwaS5naWZ0X3N1Y2Nlc3MoewogICAgICAgIHRyYWRlSWQ6IHRyYWRlSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0ZSkgewogICAgICAgICAgX3RoaXMuaW5mbyA9IHJlcy5pbmZvOwoKICAgICAgICAgIF90aGlzLnNldENhcmROdW0oKTsKCiAgICAgICAgICBpZiAocmVzLmluZm8uaGFzVmlwQ2FyZCB8fCBfdGhpcy52aXBfY2hlY2spIHsvLyDmnInkvJrlkZjljaHnmoTmg4XlhrXkuIvmm7TmlrDkvJrlkZjkv6Hmga8KICAgICAgICAgICAgLy8gYXBwLmdldFZpcENhcmRJbmZvKCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRUb2FzdC5jbGVhcigpOwogICAgICB9KTsKICAgIH0sCiAgICBjbG9zZU1vZGFsOiBmdW5jdGlvbiBjbG9zZU1vZGFsKCkgewogICAgICB0aGlzLnNob3dNYXNrID0gZmFsc2U7CiAgICB9LAogICAgLy8g6K6h566X5Y2h5Yi45pWw6YePCiAgICBzZXRDYXJkTnVtOiBmdW5jdGlvbiBzZXRDYXJkTnVtKCkgewogICAgICB2YXIgY2FyZExpc3QgPSB0aGlzLmluZm8uY2FyZExpc3QsCiAgICAgICAgICBjYXJkTnVtID0gMDsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZExpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBjYXJkTnVtICs9IE51bWJlcihjYXJkTGlzdFtpXS5jYXJkTnVtKTsKICAgICAgfQoKICAgICAgdGhpcy5jYXJkTnVtID0gY2FyZE51bTsKICAgIH0sCiAgICAvLyDot7PovazljaHliLjor6bmg4UKICAgIGNhcmREZXRhaWw6IGZ1bmN0aW9uIGNhcmREZXRhaWwoaXRlbSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBjYXJkSWQgPSBpdGVtLmNhcmRJZCwKICAgICAgICAgIGRldGFpbElkID0gaXRlbS5kZXRhaWxJZCwKICAgICAgICAgIGNhcmRTdGFydFRpbWUgPSBpdGVtLmNhcmRTdGFydFRpbWUsCiAgICAgICAgICBjYXJkRW5kVGltZSA9IGl0ZW0uY2FyZEVuZFRpbWU7IC8vIOWIpOaWreaIkeeahOW9k+WJjeS8mOaDoOWIuOaYr+WQpuWPr+eUqAoKICAgICAgdGhpcy4kYXBpLm15X2NvdXBvbl91c2VfYWJsZSh7CiAgICAgICAgY2FyZElkOiBjYXJkSWQsCiAgICAgICAgZGV0YWlsSWQ6IGRldGFpbElkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICAgIGlmIChyZXMuaW5mby51c2VBYmxlKSB7CiAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgIHBhdGg6ICcvY291cG9uL2NvdXBvbkRldGFpbCcsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIGNhcmRJZDogY2FyZElkLAogICAgICAgICAgICAgICAgZGV0YWlsSWQ6IGRldGFpbElkLAogICAgICAgICAgICAgICAgY2FyZEVuZFRpbWU6IGNhcmRFbmRUaW1lLAogICAgICAgICAgICAgICAgY2FyZFN0YXJ0VGltZTogY2FyZFN0YXJ0VGltZSwKICAgICAgICAgICAgICAgIHR5cGU6IDEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgcGF0aDogJy9jb3Vwb24vY291cG9uRGV0YWlsJywKICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgY2FyZElkOiBjYXJkSWQsCiAgICAgICAgICAgICAgICBkZXRhaWxJZDogZGV0YWlsSWQsCiAgICAgICAgICAgICAgICBjYXJkRW5kVGltZTogY2FyZEVuZFRpbWUsCiAgICAgICAgICAgICAgICBjYXJkU3RhcnRUaW1lOiBjYXJkU3RhcnRUaW1lLAogICAgICAgICAgICAgICAgdHlwZTogNAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmmL7npLrljaHliLjlvLnnqpcKICAgIHNob3dRcjogZnVuY3Rpb24gc2hvd1FyKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBvcHRpb25zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7CiAgICAgICAgICAgICAgICAgIGNhcmRJZDogaXRlbS5jYXJkSWQsCiAgICAgICAgICAgICAgICAgIGRldGFpbElkOiBpdGVtLmRldGFpbElkLAogICAgICAgICAgICAgICAgICB0cmFkZUlkOiBfdGhpczMub3B0aW9ucy50cmFkZUlkLAogICAgICAgICAgICAgICAgICBhcGlVcmw6ICdjYXJkX3FyY29kZScKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfdGhpczMub3B0aW9ucyA9IG9wdGlvbnM7CiAgICAgICAgICAgICAgICBfdGhpczMuc2hvd01hc2sgPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc2V0SW5mbzogZnVuY3Rpb24gc2V0SW5mbyhlKSB7fSwKICAgIGxvb2tDb3Vwb246IGZ1bmN0aW9uIGxvb2tDb3Vwb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvY291cG9uL2NvdXBvbkxpc3QnKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgb3B0aW9ucyA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgb3B0aW9ucy52aXBVc2VyID0gb3B0aW9ucy52aXBVc2VyIHx8ICcnLCBvcHRpb25zLnZpcF9jaGVjayA9IE51bWJlcihvcHRpb25zLnZpcF9jaGVjayk7CiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwogICAgdGhpcy5nZXRJbmZvKG9wdGlvbnMudHJhZGVJZCk7CiAgfQp9Ow=="},{"version":3,"sources":["giftBagSuccess.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: yesong\r\n * @Date: 2020-08-01 15:25:51\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-04 20:45:50\r\n--> \r\n<template>\r\n  <div>\r\n    <div>\r\n      <div class=\"tac header\">\r\n        <div class='c8C4 ft48 bold'>{{options.receive == 1 ? '领取成功' : '购买成功'}}</div>\r\n        <div class='c8C4 ft28' style=\"margin-top: 12px\">\r\n          <template v-if=\"cardNum > 1\">\r\n            本次购买的<text class=\"cD9\">{{ cardNum }}</text>张代金券\r\n          </template>\r\n          <template wx:else>\r\n            本次购买的代金券\r\n          </template>\r\n        </div>\r\n      </div>\r\n\r\n      <div class='list plr30'>\r\n        <div class=\"vip-box flex-v ft26 c1A\" v-if=\"options.vip_check\">\r\n          <img class=\"icon\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/vip_small_card.png\" />\r\n          恭喜你成为潮级VIP，买单可享返现\r\n        </div>\r\n        <!-- 列表 -->\r\n        <div class=\"list-item por\" \r\n          v-for=\"(item, index) in info.cardList\"\r\n          :key=\"index\"\r\n          @click=\"showQr(item)\"\r\n        >\r\n          <div class=\"card-info flex-v\">\r\n            <img class=\"shop-img\" :src=\"item.shopPic\" mode=\"aspectFill\" />\r\n            <div class=\"flex-1\">\r\n              <div class=\"ft24 c66\">{{ item.shopName }}</div>\r\n              <div class=\"ft28 c1A card-name bold\">{{ item.cardName }}</div>\r\n              <div class=\"ft24 c66\" v-if=\"info.createType != 2\">{{ item.usePeriod ? item.limitTimeInterval : '营业时间可用' }} | {{ item.useCondition == 1 ? '无门槛使用' : item.useCondition == 2 ? '每满'+item.limitFunds/100+'元可用1张' : '消费任意金额可用' }} | {{ item.stackable ? '单次可用'+item.limitStackable+'张' : '不限使用张数' }}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"bottom por flex-v\">\r\n            <div class=\"c1A bold ft24\" v-if=\"item.cardCode\">券码:{{ (item.cardCode || '000000000000') | cardReplace }}</div>\r\n            <text class=\"c9E ft24\" v-if=\"item.cardNum > 1\">({{ item.cardNum }}张)</text>\r\n            <button @click.stop=\"cardDetail(item)\">去使用</button>\r\n          </div>\r\n          <div class=\"num\" v-if=\"item.cardNum > 1\">含{{ item.cardNum }}张券</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 查看卡券二维码弹窗 -->\r\n    <div class='mask flex-col flex-c flex-v' v-if=\"showMask\">\r\n      <div class='qr-box'>\r\n        <card-code-detail @setInfo=\"setInfo\" :options=\"options\"></card-code-detail>\r\n      </div>\r\n      <img src='@/assets/imgs/close_icon2.png' class='close-icon' @click=\"closeModal\" />\r\n    </div>\r\n\r\n    <div class='footer pof flex-c flex-v ft36'>\r\n      <button formType=\"submit\" class=\"buy-btn buy-btn-not cff tac bold flex-1\" @click=\"lookCoupon\">查看卡券</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport cardCodeDetail from '@/components/center/cardCodeDetail'\r\nexport default {\r\n  data() {\r\n    return {\r\n      showMask: false,\r\n      showPop: false,\r\n      cardNum: 0,\r\n      mask: false,\r\n      isOutCard:'',\r\n      showModel: false,\r\n      info: {},\r\n      options: {}\r\n    }\r\n  },\r\n  components: {\r\n    cardCodeDetail\r\n  },\r\n  methods: {\r\n    getInfo(tradeId) {\r\n      this.$Toast.loading({\r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n      })\r\n      this.$api.gift_success({\r\n        tradeId\r\n      }).then(res => {\r\n        if (res.state) {\r\n          this.info = res.info\r\n          this.setCardNum()\r\n          if (res.info.hasVipCard || this.vip_check) { // 有会员卡的情况下更新会员信息\r\n            // app.getVipCardInfo()\r\n          }\r\n        }\r\n        }).finally(() => {\r\n          this.$Toast.clear()\r\n        })\r\n    },\r\n\r\n    closeModal() {\r\n      this.showMask = false\r\n    },\r\n\r\n    // 计算卡券数量\r\n    setCardNum () {\r\n      let cardList = this.info.cardList, cardNum = 0;\r\n      for (let i = 0; i < cardList.length; i++) {\r\n        cardNum += Number(cardList[i].cardNum)\r\n      }\r\n      this.cardNum = cardNum\r\n    },\r\n\r\n    // 跳转卡券详情\r\n    cardDetail (item) {\r\n      let { cardId, detailId, cardStartTime, cardEndTime } = item\r\n      // 判断我的当前优惠券是否可用\r\n      this.$api.my_coupon_use_able({\r\n        cardId,\r\n        detailId\r\n      }).then((res) => {\r\n        if (res.state) {\r\n          if (res.info.useAble) {\r\n            this.$router.push({path: '/coupon/couponDetail', query: { cardId, detailId, cardEndTime, cardStartTime, type: 1 }})\r\n          } else {\r\n            this.$router.push({path: '/coupon/couponDetail', query: { cardId, detailId, cardEndTime, cardStartTime, type:4 }})\r\n          }\r\n        }\r\n      })\r\n    },\r\n\r\n    // 显示卡券弹窗\r\n    async showQr(item) {\r\n      let options = {\r\n        cardId: item.cardId,\r\n        detailId: item.detailId,\r\n        tradeId: this.options.tradeId,\r\n        apiUrl: 'card_qrcode'\r\n      }\r\n      this.options = options\r\n      this.showMask = true\r\n    },\r\n\r\n    setInfo (e) {\r\n      \r\n    },\r\n\r\n    lookCoupon() {\r\n      this.$router.push('/coupon/couponList')\r\n    }\r\n  },\r\n  created() {\r\n    let options = this.$route.query\r\n    options.vipUser = options.vipUser || '',\r\n    options.vip_check = Number(options.vip_check)\r\n    this.options = options\r\n    this.getInfo(options.tradeId)\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  width: 100%;\r\n  height: 212px;\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/img_order_bg.png') no-repeat center;\r\n  background-size: cover;\r\n}\r\n.list{\r\n  margin-top: -80px;\r\n}\r\n\r\n.vip-box {\r\n  padding: 0 24px;\r\n  margin-bottom: 18px;\r\n  height: 88px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #F5F3F0;\r\n  border-radius: 12px;\r\n  line-height: 88px;\r\n}\r\n.vip-box .icon {\r\n  width: 42px;\r\n  height: 30px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.list-item {\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  margin-bottom: 18px;\r\n}\r\n.list-item .card-info {\r\n  padding-left: 24px;\r\n  height: 167px;\r\n  background-color: #fff;\r\n  border-bottom-left-radius: 14px;\r\n  border-bottom-right-radius: 14px;\r\n}\r\n.list-item .card-info .shop-img {\r\n  width: 108px;\r\n  height: 108px;\r\n  border: 1px solid #EBE9E6;\r\n  border-radius: 12px;\r\n  margin-right: 18px;\r\n}\r\n.list-item .card-info .card-name {\r\n  margin: 12px 0;\r\n}\r\n.list-item .bottom {\r\n  height: 70px;\r\n  background-color: #fff;\r\n  border-top: 1px dashed rgba(158, 157, 155, .2);\r\n  border-top-left-radius: 14px;\r\n  border-top-right-radius: 14px;\r\n}\r\n.list-item .bottom div {\r\n  padding-left: 24px;\r\n}\r\n.list-item .bottom button {\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 14px;\r\n  width: 108px;\r\n  height: 42px;\r\n  line-height: 42px;\r\n  background-image: linear-gradient(90deg, #F7420D 0%, #F50C05 100%);\r\n  border-radius: 42px;\r\n  font-size: 24px;\r\n  color: #FFFFFF;\r\n}\r\n.list-item .num {\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  padding: 0 10px;\r\n  height: 40px;\r\n  line-height: 40px;\r\n  background: #FEEED5;\r\n  border-radius: 0 12px 0 14px;\r\n  font-size: 22px;\r\n  color: #CD7B00;\r\n}\r\n\r\n.footer{\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  padding: 22px 30px;\r\n  z-index: 9;\r\n  background: #fff;\r\n}\r\n.footer .buy-btn{\r\n  line-height: 96px;\r\n  height: 96px;\r\n  background-image: linear-gradient(90deg, #FFE6B7 0%, #FFE6B7 0%, #FFCF94 100%);\r\n  border-radius: 48px;\r\n  color: #8C4B00;\r\n  font-size: 34px;\r\n}\r\n/* 关注组件位置 */\r\n.follow-bar {\r\n  bottom: 140px !important;\r\n}\r\n\r\n\r\n.qr-box{\r\n  width: 600px;\r\n  background: #FFFFFF;\r\n  border: 1px solid #E4E4E4;\r\n  border-radius: 14px;\r\n  overflow: hidden;\r\n}\r\n\r\n.mask .content {\r\n  position: absolute;\r\n  top: 30%;\r\n  left: calc(50% - 308px);\r\n  width: 617px;\r\n  height: 494px;\r\n}\r\n.mask .content > div {\r\n  position: relative;\r\n  z-index: 3\r\n}\r\n.mask .content div {\r\n  margin-top: 100px;\r\n  margin-bottom: 30px;\r\n  font-size: 43px;\r\n  color: #F65134;\r\n}\r\n.mask .content button {\r\n  margin-top: 166px;\r\n  width: 214px;\r\n  height: 70px;\r\n  line-height: 70px;\r\n  font-size: 30px;\r\n  color: #F03800;\r\n  background-image: linear-gradient(180deg, #F8D962 0%, #FDC131 100%);\r\n  border-radius: 35px;\r\n}\r\n.mask .content .bg {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.mask .close {\r\n  position: absolute;\r\n  right: 35px;\r\n  top: -91px;\r\n  width: 62px;\r\n  height: 92px;\r\n}\r\n\r\n.close-icon{\r\n  width: 62px;\r\n  height: 62px;\r\n  margin-top: 50px;\r\n}\r\n\r\n\r\n</style>\r\n\r\n"],"sourceRoot":"src/views/active"}]}