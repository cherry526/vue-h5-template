{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\mixins\\shareMixin.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\mixins\\shareMixin.js","mtime":1597147888741},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdmlwX2lubGluZV9oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CgovKg0KICogQERlc2NyaXB0aW9uOiANCiAqIEBWZXJzaW9uOiAxLjANCiAqIEBBdXRvcjogY2hlcnJ5DQogKiBARGF0ZTogMjAyMC0wOC0xMSAxNjo1NDoyOQ0KICogQExhc3RFZGl0b3JzOiBjaGVycnkNCiAqIEBMYXN0RWRpdFRpbWU6IDIwMjAtMDgtMTEgMjA6MDc6NDYNCiAqLwppbXBvcnQgZ2V0V1hTaWduIGZyb20gIkAvdXRpbHMvd3giOwppbXBvcnQgdXRpbHMgZnJvbSAnQHV0aWxzL3V0aWxzJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOyAvLyDpppbpobXnm7jlhbMKCnZhciBzaGFyZU1peGluID0gewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbInd4VXNlciIsICd2aXBDYXJkSW5mbyddKSksCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5YiG5Lqr6YWN572uCiAgICBzaGFyZUNvbmZpZzogZnVuY3Rpb24gc2hhcmVDb25maWcoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRhcGkuZ2V0U2hhcmVJbmZvKHsKICAgICAgICBhY3RTbjogdGhpcy5vcHRpb25zLmFjdFNuLAogICAgICAgIGVudW1LZXk6IHRoaXMuZW51bUtleSwKICAgICAgICB0aW1lSWQ6IHRoaXMub3B0aW9ucy50aW1lSWQgfHwgMCwKICAgICAgICBtYXJrZXRBY3RJZDogdGhpcy5vcHRpb25zLm1hcmtldEFjdElkIHx8ICcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICAgIF90aGlzLnNoYXJlSW5mbyA9IHJlcy5pbmZvOwogICAgICAgICAgdmFyIHNoYXJlSW5mbyA9IF90aGlzLiRzYXZlLmdldCgnc2Vzc2lvbicsICdzaGFyZUluZm8nKSB8fCB7fTsKICAgICAgICAgIHNoYXJlSW5mb1tfdGhpcy5zaGFyZUluZm9Pbmx5VmxhdWVdID0gcmVzLmluZm87CgogICAgICAgICAgX3RoaXMuJHNhdmUuc2V0KCdzZXNzaW9uJywgJ3NoYXJlSW5mbycsIHNoYXJlSW5mbyk7CgogICAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPluWIhuS6q+mFjee9ricsIF90aGlzLnNoYXJlSW5mbyk7CgogICAgICAgICAgX3RoaXMuc2V0UGFnZVNoYXJlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRTaGFyZUluZm86IGZ1bmN0aW9uIHNldFNoYXJlSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgc2hhcmVJbmZvID0gdGhpcy4kc2F2ZS5nZXQoJ3Nlc3Npb24nLCAnc2hhcmVJbmZvJykgfHwge307CiAgICAgIHZhciBzaGFyZUluZm9EYXRhID0gc2hhcmVJbmZvW3RoaXMuc2hhcmVJbmZvT25seVZsYXVlXSB8fCB7fTsKCiAgICAgIGlmIChzaGFyZUluZm9EYXRhID09IHRoaXMub3B0aW9ucy5hY3RTbikgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLnNldFNoYXJlSW5mbygpOwogICAgICAgIH0sIDEwMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hhcmVJbmZvID0gc2hhcmVJbmZvRGF0YTsKICAgICAgfQogICAgfSwKICAgIHNldFBhZ2VTaGFyZTogZnVuY3Rpb24gc2V0UGFnZVNoYXJlKHJlcykgewogICAgICB2YXIgZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICAgICAgLy8gbGV0IHNUeXBlID0gKHJlcy5mcm9tID09PSAnYnV0dG9uJyAmJiB0aGlzLnNoYXJlSW5mby5jb25maWdQb3N0ZXIpID8gJ1BPU1RFUl9BUFBMRVRfQ09ERScgOiAnQUNUX1NIQVJFJwogICAgICAvLyBhcHAuc2hhcmVSZWNvcmQodGhpcy5vcHRpb25zLmFjdFNuLCB0aGlzLm9wdGlvbnMuZW51bUtleSwgdGhpcy5wVHlwZSwgZXh0LmxhdW5jaFJlY29yZElkIHx8IDApCiAgICAgIHZhciBzaGFyZUluZm8gPSB0aGlzLiRzYXZlLmdldCgnc2Vzc2lvbicsICdzaGFyZUluZm8nKSB8fCB7fTsKICAgICAgdmFyIHNoYXJlSW5mb0RhdGEgPSBzaGFyZUluZm9bdGhpcy5zaGFyZUluZm9Pbmx5VmxhdWVdIHx8IHt9OwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIC8vICJzVHlwZSI6IHNUeXBlLAogICAgICAgICJzVHlwZSI6ICdBQ1RfU0hBUkUnLAogICAgICAgICJzSWQiOiAiQUNUX1NIQVJFIiwKICAgICAgICAicFR5cGUiOiAhdGhpcy5zaGFyZUluZm8uY29uZmlnU2hhcmUgfHwgdGhpcy5zaGFyZUluZm8udGFyZ2V0VHlwZSA9PSAxID8gdGhpcy5wVHlwZSB8fCB0aGlzLm9wdGlvbnMuZW51bUtleSA6IHRoaXMuc2hhcmVJbmZvLnRhcmdldEVudW1LZXksCiAgICAgICAgInBJZCI6IHRoaXMub3B0aW9ucy5hY3RTbiwKICAgICAgICAicklkIjogdGhpcy53eFVzZXIudW5pb25JZCwKICAgICAgICAiclR5cGUiOiAiMSIsCiAgICAgICAgInNoYXJlIjogIiIsCiAgICAgICAgImV4dCI6IHsKICAgICAgICAgIHNoYXJlV3VJZDogdGhpcy52aXBDYXJkSW5mby53dUlkLAogICAgICAgICAgY29kZTogdGhpcy5zaGFyZUluZm8uY29kZSB8fCAnJywKICAgICAgICAgIC8vIC4uLmV4dAogICAgICAgICAgcXJDb2RlOiB0aGlzLm9wdGlvbnMucXJDb2RlIHx8ICcnLAogICAgICAgICAgY2hhbm5lbFR5cGU6IHRoaXMuY2hhbm5lbFR5cGUgfHwgdGhpcy5vcHRpb25zLmNoYW5uZWxUeXBlIHx8ICcnCiAgICAgICAgfQogICAgICB9OwogICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShwYXJhbXMpKTsKICAgICAgdmFyIGxpbmsgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgJy92aXBfaW5saW5lX2g1JzsKICAgICAgdmFyIHNoYXJlRGF0YSA9IHsKICAgICAgICB0aXRsZTogJ2nmiJHlrrYnLAogICAgICAgIGxpbms6ICIiLmNvbmNhdChsaW5rLCAiP3BhcmFtcz0iKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSkKICAgICAgfTsKCiAgICAgIGlmICh0aGlzLnNoYXJlSW5mbyAmJiB0aGlzLnNoYXJlSW5mby5jb25maWdTaGFyZSkgewogICAgICAgIHNoYXJlRGF0YS5pbWdVcmwgPSBzaGFyZUluZm9EYXRhLnNoYXJlUGljOwogICAgICAgIHNoYXJlRGF0YS5kZXNjID0gdGhpcy5zaGFyZUluZm8uc2hhcmVUaXRsZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzaGFyZURhdGEuaW1nVXJsID0gJ2h0dHBzOi8vc3MyLmJkc3RhdGljLmNvbS83MGNGdm5TaF9RMVlueEdrcG9XSzFIRjZoaHkvaXQvdT0yNDc1MzE0MDk4LDEzMjQ1OTQ5MDYmZm09MjcmZ3A9MC5qcGcnOwogICAgICAgIHNoYXJlRGF0YS5kZXNjID0gJ2nmiJHlrrYnOwogICAgICB9CgogICAgICBpZiAodGhpcy5zaGFyZUluZm9TZWxmKSB7CiAgICAgICAgc2hhcmVEYXRhID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzaGFyZURhdGEpLCB0aGlzLnNoYXJlSW5mb1NlbGYpOwogICAgICB9IC8vIGxldCB1cmwgPSB1dGlscy5kZWxEYXRhKCkKCgogICAgICBjb25zb2xlLmxvZyhsaW5rLCAnLS0tLS0tLS0tLS0t6KaB5YiG5Lqr55qE6Lev55SxJywgc2hhcmVEYXRhKTsKICAgICAgZ2V0V1hTaWduKCkudGhlbihmdW5jdGlvbiAod3gpIHsKICAgICAgICAvLyB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2UoewogICAgICAgIC8vICAgdGl0bGU6ICdp5oiR5a62JywgLy8g5YiG5Lqr5qCH6aKYCiAgICAgICAgLy8gICBkZXNjOiBgJHt0aGlzLnN0b3JlLnNob3BOYW1lfeW6l+mTuueuoeeQhuWRmOmCgOivt+S9oOaIkOS4uuivpeW6l+mTuueahOaIkOWRmGAsIC8vIOWIhuS6q+aPj+i/sAogICAgICAgIC8vICAgbGluazogIHRoYXQuZGVsRGF0YSgpICsgJ3B1YmxpYz10cnVlJnNob3BTbj1zaG9wXzQ5bGoxWVRQTkJMJywgLy8g5YiG5Lqr6ZO+5o6l77yM6K+l6ZO+5o6l5Z+f5ZCN5oiW6Lev5b6E5b+F6aG75LiO5b2T5YmN6aG16Z2i5a+55bqU55qE5YWs5LyX5Y+3SlPlronlhajln5/lkI3kuIDoh7QKICAgICAgICAvLyAgIGltZ1VybDogJ2h0dHBzOi8vc3MyLmJkc3RhdGljLmNvbS83MGNGdm5TaF9RMVlueEdrcG9XSzFIRjZoaHkvaXQvdT0yNDc1MzE0MDk4LDEzMjQ1OTQ5MDYmZm09MjcmZ3A9MC5qcGcnLCAvLyDliIbkuqvlm77moIcKICAgICAgICAvLyAgIHR5cGU6ICcnLCAvLyDliIbkuqvnsbvlnossbXVzaWPjgIF2aWRlb+aIlmxpbmvvvIzkuI3loavpu5jorqTkuLpsaW5rCiAgICAgICAgLy8gICBkYXRhVXJsOiAnJywgLy8g5aaC5p6cdHlwZeaYr211c2lj5oiWdmlkZW/vvIzliJnopoHmj5DkvpvmlbDmja7pk77mjqXvvIzpu5jorqTkuLrnqboKICAgICAgICAvLyAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyAgICAgLy8g55So5oi354K55Ye75LqG5YiG5Lqr5ZCO5omn6KGM55qE5Zue6LCD5Ye95pWwCiAgICAgICAgLy8gICB9CiAgICAgICAgLy8gfSk7CiAgICAgICAgd3gub25NZW51U2hhcmVBcHBNZXNzYWdlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2hhcmVEYXRhKSwge30sIHsKICAgICAgICAgIHR5cGU6ICcnLAogICAgICAgICAgLy8g5YiG5Lqr57G75Z6LLG11c2lj44CBdmlkZW/miJZsaW5r77yM5LiN5aGr6buY6K6k5Li6bGluawogICAgICAgICAgZGF0YVVybDogJycsCiAgICAgICAgICAvLyDlpoLmnpx0eXBl5pivbXVzaWPmiJZ2aWRlb++8jOWImeimgeaPkOS+m+aVsOaNrumTvuaOpe+8jOm7mOiupOS4uuepugogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcygpIHsvLyDnlKjmiLfngrnlh7vkuobliIbkuqvlkI7miafooYznmoTlm57osIPlh73mlbAKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gc2hhcmVEYXRhOwogICAgfSwKICAgIHNoYXJlUGFnZTogZnVuY3Rpb24gc2hhcmVQYWdlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHNoYXJlSW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBzaGFyZUluZm8gPSBfdGhpczMuJHNhdmUuZ2V0KCdzZXNzaW9uJywgJ3NoYXJlSW5mbycpIHx8IHt9OwogICAgICAgICAgICAgICAgX3RoaXMzLnNoYXJlSW5mb09ubHlWbGF1ZSA9IF90aGlzMy5vcHRpb25zLmFjdFNuICsgX3RoaXMzLnBUeXBlICsgX3RoaXMzLm9wdGlvbnMuZW51bUtleSArIF90aGlzMy5vcHRpb25zLm1hcmtldEFjdElkICsgX3RoaXMzLm9wdGlvbnMudGltZUlkICsgX3RoaXMzLnRvcGljSWQ7CgogICAgICAgICAgICAgICAgaWYgKCFzaGFyZUluZm9bX3RoaXMzLnNoYXJlSW5mb09ubHlWbGF1ZV0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zZXRTaGFyZUluZm8oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+iOt+WPluWIhuS6q+mFjee9rjEnLCBzaGFyZUluZm9bX3RoaXMzLnNoYXJlSW5mb09ubHlWbGF1ZV0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIHNoYXJlSW5mb1tfdGhpczMuc2hhcmVJbmZvT25seVZsYXVlXSA9IF90aGlzMy5vcHRpb25zLmFjdFNuOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kc2F2ZS5zZXQoJ3Nlc3Npb24nLCAnc2hhcmVJbmZvJywgc2hhcmVJbmZvKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnNoYXJlQ29uZmlnKCk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKCF0aGlzLnNoYXJlQ2xvc2UpIHsKICAgICAgdGhpcy5zaGFyZVBhZ2UoKTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IHNoYXJlTWl4aW47"},{"version":3,"sources":["C:/Users/Administrator/Desktop/vip_inline_h5/src/mixins/shareMixin.js"],"names":["getWXSign","utils","mapGetters","shareMixin","data","computed","methods","shareConfig","$api","getShareInfo","actSn","options","enumKey","timeId","marketActId","then","res","state","shareInfo","info","$save","get","shareInfoOnlyVlaue","set","console","log","setPageShare","setShareInfo","shareInfoData","setTimeout","ext","params","configShare","targetType","pType","targetEnumKey","wxUser","unionId","shareWuId","vipCardInfo","wuId","code","qrCode","channelType","JSON","stringify","link","process","env","NODE_ENV","window","location","origin","shareData","title","imgUrl","sharePic","desc","shareTitle","shareInfoSelf","wx","onMenuShareAppMessage","type","dataUrl","success","sharePage","topicId","created","shareClose"],"mappings":"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","sourcesContent":["/*\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-08-11 16:54:29\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-11 20:07:46\r\n */\r\n\r\nimport getWXSign from \"@/utils/wx\"\r\nimport utils from '@utils/utils'\r\nimport { mapGetters } from \"vuex\";\r\n\r\n// 首页相关\r\nconst shareMixin = {\r\n  data () {\r\n    return {\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"wxUser\", 'vipCardInfo'])\r\n  },\r\n  methods: {\r\n    // 获取分享配置\r\n    shareConfig() {\r\n      this.$api.getShareInfo({\r\n        actSn: this.options.actSn,\r\n        enumKey: this.enumKey,\r\n        timeId: this.options.timeId || 0,\r\n        marketActId: this.options.marketActId || ''\r\n      }).then(res => {\r\n        if(res.state) {\r\n          this.shareInfo = res.info\r\n          let shareInfo  = this.$save.get('session', 'shareInfo') || {}\r\n          shareInfo[this.shareInfoOnlyVlaue] = res.info\r\n          this.$save.set('session', 'shareInfo', shareInfo)\r\n          console.log('获取分享配置', this.shareInfo)\r\n          this.setPageShare()\r\n        }\r\n      })\r\n    },\r\n    setShareInfo() {\r\n      let shareInfo  = this.$save.get('session', 'shareInfo') || {}\r\n      let shareInfoData = shareInfo[this.shareInfoOnlyVlaue] || {}\r\n      if (shareInfoData == this.options.actSn) {\r\n        setTimeout(()=> {\r\n          this.setShareInfo()\r\n        }, 1000)\r\n      } else {\r\n        this.shareInfo = shareInfoData\r\n      }\r\n\r\n    },\r\n    setPageShare(res, ext={}) {\r\n      // let sType = (res.from === 'button' && this.shareInfo.configPoster) ? 'POSTER_APPLET_CODE' : 'ACT_SHARE'\r\n      // app.shareRecord(this.options.actSn, this.options.enumKey, this.pType, ext.launchRecordId || 0)\r\n      let shareInfo  = this.$save.get('session', 'shareInfo') || {}\r\n      let shareInfoData = shareInfo[this.shareInfoOnlyVlaue] || {}\r\n      let params = {\r\n        // \"sType\": sType,\r\n        \"sType\": 'ACT_SHARE',\r\n        \"sId\": \"ACT_SHARE\",\r\n        \"pType\": (!this.shareInfo.configShare || this.shareInfo.targetType == 1) ? (this.pType || this.options.enumKey) : this.shareInfo.targetEnumKey,\r\n        \"pId\": this.options.actSn,\r\n        \"rId\": this.wxUser.unionId,\r\n        \"rType\": \"1\",\r\n        \"share\": \"\",\r\n        \"ext\": {\r\n          shareWuId: this.vipCardInfo.wuId,\r\n          code: this.shareInfo.code || '',\r\n          // ...ext\r\n          qrCode: this.options.qrCode || '',\r\n          channelType: this.channelType || this.options.channelType || ''\r\n        }\r\n      }\r\n      console.log(JSON.stringify(params))\r\n      let link = process.env.NODE_ENV === 'development' ? window.location.origin : window.location.origin + '/vip_inline_h5'\r\n      let shareData = {\r\n        title: 'i我家',\r\n        link: `${link}?params=${JSON.stringify(params)}`\r\n      }\r\n      if (this.shareInfo && this.shareInfo.configShare) {\r\n        shareData.imgUrl = shareInfoData.sharePic\r\n        shareData.desc = this.shareInfo.shareTitle\r\n      } else {\r\n        shareData.imgUrl = 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2475314098,1324594906&fm=27&gp=0.jpg'\r\n        shareData.desc = 'i我家'\r\n      }\r\n      if(this.shareInfoSelf) {\r\n        shareData = { ...shareData, ...this.shareInfoSelf}\r\n      }\r\n      // let url = utils.delData()\r\n      console.log(link, '------------要分享的路由', shareData)\r\n      getWXSign().then(wx => {\r\n        // wx.onMenuShareAppMessage({\r\n        //   title: 'i我家', // 分享标题\r\n        //   desc: `${this.store.shopName}店铺管理员邀请你成为该店铺的成员`, // 分享描述\r\n        //   link:  that.delData() + 'public=true&shopSn=shop_49lj1YTPNBL', // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\r\n        //   imgUrl: 'https://ss2.bdstatic.com/70cFvnSh_Q1YnxGkpoWK1HF6hhy/it/u=2475314098,1324594906&fm=27&gp=0.jpg', // 分享图标\r\n        //   type: '', // 分享类型,music、video或link，不填默认为link\r\n        //   dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\r\n        //   success: function () {\r\n        //     // 用户点击了分享后执行的回调函数\r\n            \r\n        //   }\r\n        // });\r\n        wx.onMenuShareAppMessage({\r\n          ...shareData,\r\n          type: '', // 分享类型,music、video或link，不填默认为link\r\n          dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\r\n          success: function () {\r\n            // 用户点击了分享后执行的回调函数\r\n            \r\n          }\r\n        });\r\n      })\r\n      return shareData\r\n    },\r\n    async sharePage() {\r\n      let shareInfo  = this.$save.get('session', 'shareInfo') || {}\r\n      this.shareInfoOnlyVlaue = this.options.actSn+this.pType+this.options.enumKey+this.options.marketActId+this.options.timeId+this.topicId\r\n      if (shareInfo[this.shareInfoOnlyVlaue]) {\r\n        // 判断同一活动多个分享组件的情况下，只需要生成一次\r\n        await this.setShareInfo()\r\n        console.log('获取分享配置1', shareInfo[this.shareInfoOnlyVlaue])\r\n      } else {\r\n        shareInfo[this.shareInfoOnlyVlaue] = this.options.actSn\r\n        this.$save.set('session', 'shareInfo', shareInfo)\r\n        await this.shareConfig()\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    if(!this.shareClose) {\r\n      this.sharePage()\r\n    }\r\n  },\r\n}\r\nexport default shareMixin "]}]}