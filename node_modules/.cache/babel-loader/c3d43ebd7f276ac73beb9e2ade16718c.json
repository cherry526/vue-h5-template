{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\shop\\applyShop.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\shop\\applyShop.vue","mtime":1596624611576},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc2hvcEl0ZW0gZnJvbSAnQGNvbXBvbmVudHMvc2hvcC9zaG9wSXRlbSc7CmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcEFjdGlvbnMsIG1hcE11dGF0aW9ucyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2FwcGx5U2hvcCcsCiAgbWl4aW5zOiBbXSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbImxvY2F0aW9uSW5mbyIsICJsb2NhdGlvbkNpdHkiXSkpLAogIGNvbXBvbmVudHM6IHsKICAgIHNob3BJdGVtOiBzaG9wSXRlbQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZvdWNoZXJJZDogdGhpcy4kcm91dGUucXVlcnkudm91Y2hlcklkCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6YCC55So5ZWG5a62CiAgICBnZXREaXNjb3VudFNob3A6IGZ1bmN0aW9uIGdldERpc2NvdW50U2hvcCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBwYWdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICBpZiAodGhpcy5sb2FkaW5nKSByZXR1cm47CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIHZvdWNoZXJJZDogdGhpcy52b3VjaGVySWQsCiAgICAgICAgY2l0eUlkOiB0aGlzLmxvY2F0aW9uQ2l0eS5jaXR5SWQsCiAgICAgICAgbGF0OiB0aGlzLmxvY2F0aW9uSW5mby5sYXRpdHVkZSwKICAgICAgICBsbmc6IHRoaXMubG9jYXRpb25JbmZvLmxvbmdpdHVkZQogICAgICB9OwogICAgICBkYXRhLnBhZ2UgPSBwYWdlOwogICAgICBkYXRhLnBlclNpemUgPSAxMDsKICAgICAgdGhpcy4kYXBpLmNhc2hfcmVkX2FibGVfc2hvcChkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICB2YXIgZGlzY291bnRTaG9wTGlzdCA9IHJlcy5pbmZvLnNob3BMaXN0IHx8IFtdOwoKICAgICAgICAgIF90aGlzLmhhbmRsZXJMaXN0KGRpc2NvdW50U2hvcExpc3QsIHBhZ2UpOwoKICAgICAgICAgIGlmIChwYWdlID09IDEpIHsKICAgICAgICAgICAgX3RoaXMudG90YWxQYWdlID0gcmVzLmluZm8ucGFnZS50b3RhbFBhZ2U7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMucGFnZSA9IHBhZ2U7CgogICAgICAgICAgaWYgKHBhZ2UgPT0gX3RoaXMudG90YWxQYWdlKSB7CiAgICAgICAgICAgIF90aGlzLmhhc01vcmUgPSBmYWxzZTsgLy8g5pi+56S65bey57uP5Yiw5bqV5LqGCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5oYXNNb3JlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5aSE55CG5YiX6KGo5pWw5o2uCiAgICBoYW5kbGVyTGlzdDogZnVuY3Rpb24gaGFuZGxlckxpc3QoZGlzY291bnRTaG9wTGlzdCwgcGFnZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGRpc2NvdW50U2hvcExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBjYXJkTGlzdCA9IGl0ZW0uY2FyZExpc3QgfHwgW107CgogICAgICAgIGlmIChjYXJkTGlzdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICB2YXIgYmFjayA9IF90aGlzMi51bmlxdWUoaXRlbS5jYXJkTGlzdCk7CgogICAgICAgICAgaXRlbS5xX3N0ciA9IGJhY2tbJ3Ffc3RyJ107CiAgICAgICAgICBpdGVtLnRfc3RyID0gYmFja1sndF9zdHInXTsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdmFyIF9saXN0ID0gdGhpcy5kaXNjb3VudFNob3BMaXN0IHx8IFtdOwoKICAgICAgaWYgKHBhZ2UgPT0gMSkgewogICAgICAgIF9saXN0ID0gZGlzY291bnRTaG9wTGlzdDsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2xpc3QyOwoKICAgICAgICAoX2xpc3QyID0gX2xpc3QpLnB1c2guYXBwbHkoX2xpc3QyLCBfdG9Db25zdW1hYmxlQXJyYXkoZGlzY291bnRTaG9wTGlzdCkpOwogICAgICB9CgogICAgICB0aGlzLmRpc2NvdW50U2hvcExpc3QgPSBfbGlzdDsKICAgIH0sCiAgICAvLyDmlbDnu4Tljrvph40KICAgIHVuaXF1ZTogZnVuY3Rpb24gdW5pcXVlKGFycikgewogICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgIHZhciBxX2FyciA9IFtdOwogICAgICB2YXIgdF9hcnIgPSBbXTsKICAgICAgdmFyIHFfc3RyID0gJyc7CiAgICAgIHZhciB0X3N0ciA9ICcnOwogICAgICB2YXIgb2JqID0ge307IC8vIGNvbnNvbGUubG9nKGFyciwgJ2FycmFycicpCgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICghb2JqW2FycltpXS5jYXJkTmFtZV0gfHwgb2JqW2FycltpXS5jYXJkTmFtZV0udXNlQ29uZGl0aW9uICE9IGFycltpXS51c2VDb25kaXRpb24pIHsKICAgICAgICAgIHJlc3VsdC5wdXNoKGFycltpXSk7CiAgICAgICAgICBvYmpbYXJyW2ldLmNhcmROYW1lXSA9IGFycltpXTsKICAgICAgICB9CiAgICAgIH0gLy8g5aSE55CG5Y676YeN5ZCO55qE5pWw57uECgoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAocmVzdWx0W2ldLmNhcmRUeXBlID09ICJDQVJEX0NBU0hfQ09VUE9OIikgewogICAgICAgICAgcV9hcnIucHVzaChyZXN1bHRbaV0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0X2Fyci5wdXNoKHJlc3VsdFtpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAocV9hcnIubGVuZ3RoID4gMCkgewogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBxX2Fyci5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIGlmIChxX2FycltfaV0udXNlQ29uZGl0aW9uID09IDEpIHsKICAgICAgICAgICAgLy8g5Yik5pat5peg6Zeo5qeb5Luj6YeR5Yi4CiAgICAgICAgICAgIHFfc3RyID0gKHFfc3RyID8gcV9zdHIgKyAn77yMJyA6IHFfc3RyKSArIHFfYXJyW19pXS5zZWxsUHJpY2UgLyAxMDAgKyAn5YWD5oq1JyArIHFfYXJyW19pXS5jYXJkTmFtZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHFfc3RyID0gKHFfc3RyID8gcV9zdHIgKyAn77yMJyA6IHFfc3RyKSArIHFfYXJyW19pXS5zZWxsUHJpY2UgLyAxMDAgKyAn5YWD6LStJyArIHFfYXJyW19pXS5jYXJkTmFtZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gLy8gY29uc29sZS5sb2codF9hcnIsICd0X2FycnRfYXJydF9hcnInKQoKCiAgICAgIGlmICh0X2Fyci5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdF9hcnIubGVuZ3RoOyBfaTIrKykgewogICAgICAgICAgdF9zdHIgPSAodF9zdHIgPyB0X3N0ciArICfvvIwnIDogdF9zdHIpICsgdF9hcnJbX2kyXS5zZWxsUHJpY2UgLyAxMDAgKyAn5YWD6LStJyArIHRfYXJyW19pMl0ub3JpZ2luYWxQcmljZSAvIDEwMCArICflhYMnICsgdF9hcnJbX2kyXS5jYXJkTmFtZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgJ3Ffc3RyJzogcV9zdHIsCiAgICAgICAgJ3Rfc3RyJzogdF9zdHIKICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERpc2NvdW50U2hvcCgpOwogIH0KfTs="},{"version":3,"sources":["applyShop.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: 适用店铺\r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-17 15:36:02\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-03 14:32:20\r\n--> \r\n<template>\r\n  <div>\r\n    <shop-item v-for=\"(item, index) in list\" :key=\"index\" :item=\"item\"></shop-item>\r\n  </div>\r\n</template>\r\n<script>\r\n  import shopItem from '@components/shop/shopItem'\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n\r\n  export default {\r\n    name: 'applyShop',\r\n    mixins: [],\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"locationCity\"])\r\n    },\r\n    components:{\r\n      shopItem\r\n    },\r\n    data() {\r\n      return {\r\n        voucherId: this.$route.query.voucherId\r\n      }\r\n    },\r\n    methods: {\r\n      // 适用商家\r\n      getDiscountShop(page = 1) {\r\n        if(this.loading) return\r\n        this.loading = true \r\n        let data = {\r\n          voucherId: this.voucherId,\r\n          cityId: this.locationCity.cityId,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude,\r\n        }\r\n        data.page = page\r\n        data.perSize = 10\r\n        this.$api.cash_red_able_shop(data).then(res => {\r\n          if (res.state) {\r\n            let discountShopList = res.info.shopList || []\r\n            this.handlerList(discountShopList, page)\r\n            if (page == 1) {\r\n              this.totalPage = res.info.page.totalPage\r\n            }\r\n            this.page = page\r\n            \r\n            if (page == this.totalPage) {\r\n              this.hasMore = false // 显示已经到底了\r\n            } else {\r\n              this.hasMore = true\r\n            }\r\n          }\r\n        }).finally(() => {\r\n          this.loading = false\r\n        })\r\n      },\r\n\r\n      // 处理列表数据\r\n      handlerList(discountShopList, page) {\r\n        discountShopList.forEach((item) => {\r\n          let cardList = item.cardList || []\r\n          if (cardList.length > 0) {\r\n            let back = this.unique(item.cardList)\r\n            item.q_str = back['q_str']\r\n            item.t_str = back['t_str']\r\n          }\r\n        })\r\n\r\n        let _list = this.discountShopList || []\r\n        if(page == 1) {\r\n          _list = discountShopList\r\n        } else {\r\n          _list.push(...discountShopList)\r\n        }\r\n        this.discountShopList = _list\r\n      },\r\n\r\n      // 数组去重\r\n      unique(arr) {\r\n        var result = [];\r\n        let q_arr = []\r\n        let t_arr = []\r\n        let q_str = ''\r\n        let t_str = ''\r\n        var obj = {};\r\n        // console.log(arr, 'arrarr')\r\n        for(var i =0; i < arr.length; i++){\r\n          if(!obj[arr[i].cardName] || obj[arr[i].cardName].useCondition != arr[i].useCondition){\r\n            result.push(arr[i])\r\n            obj[arr[i].cardName] = arr[i]\r\n          }\r\n        }\r\n\r\n        // 处理去重后的数组\r\n        for (var i =0; i < result.length; i++) {\r\n          if(result[i].cardType == \"CARD_CASH_COUPON\") {\r\n            q_arr.push(result[i])\r\n          } else {\r\n            t_arr.push(result[i])\r\n          }\r\n        }\r\n\r\n        if(q_arr.length > 0) {\r\n          for(let i =0; i < q_arr.length; i++){\r\n            if (q_arr[i].useCondition == 1) { // 判断无门槛代金券\r\n              q_str = (q_str ? q_str + '，' : q_str) + (q_arr[i].sellPrice / 100) + '元抵' + q_arr[i].cardName\r\n            } else {\r\n              q_str = (q_str ? q_str + '，' : q_str) + (q_arr[i].sellPrice / 100) + '元购' + q_arr[i].cardName\r\n            }\r\n            \r\n          }\r\n        }\r\n        // console.log(t_arr, 't_arrt_arrt_arr')\r\n        if (t_arr.length>0) {\r\n          for(let i =0; i < t_arr.length; i++){\r\n            t_str = (t_str ? t_str + '，' : t_str) + (t_arr[i].sellPrice / 100) + '元购' + (t_arr[i].originalPrice / 100) + '元' + t_arr[i].cardName\r\n          }\r\n        }\r\n\r\n        return {\r\n          'q_str': q_str,\r\n          't_str':t_str\r\n        }\r\n      },\r\n    },\r\n    created() {\r\n      this.getDiscountShop()\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n</style>"],"sourceRoot":"src/views/shop"}]}