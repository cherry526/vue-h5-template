{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\center\\cardCodeDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\components\\center\\cardCodeDetail.vue","mtime":1596624611071},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdmlwX2lubGluZV9oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGRyYXdRcmNvZGUgZnJvbSAnQC9wbHVnaW5zL3d4cXJjb2RlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICcnLAogIHByb3BzOiB7CiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWyJsb2NhdGlvbkluZm8iXSkpLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzd2lwZXJIZWlnaHQ6IDAsCiAgICAgIHRvdGFsU2l6ZTogMCwKICAgICAgc3dpcGVySW5kZXg6IDAsCiAgICAgIGNhcmRMaXN0OiBbXSwKICAgICAgbWFzazogZmFsc2UsCiAgICAgIHNob3dDYXJkQ29kZTogZmFsc2UsCiAgICAgIGluZm86IHt9LAogICAgICBpbml0aWFsU3dpcGU6IDAKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjaGFuZ2U6IGZ1bmN0aW9uIGNoYW5nZShjdXJyZW50KSB7CiAgICAgIHRoaXMuc3dpcGVySW5kZXggPSBjdXJyZW50OwogICAgICB0aGlzLnNldFBhZ2UoY3VycmVudCk7CiAgICB9LAogICAgLy8g5YiH5o2i5LqM57u056CBCiAgICBzd2l0Y2hzOiBmdW5jdGlvbiBzd2l0Y2hzKGluZGV4KSB7CiAgICAgIHZhciBzd2lwZXJJbmRleCA9IHRoaXMuc3dpcGVySW5kZXg7CiAgICAgIHN3aXBlckluZGV4ID0gc3dpcGVySW5kZXggKyBOdW1iZXIoaW5kZXgpOwoKICAgICAgaWYgKHN3aXBlckluZGV4IDwgMCkgewogICAgICAgIHRoaXMuJFRvYXN0KCflt7Lnu4/mmK/nrKzkuIDlvKDkuoYnKTsKICAgICAgfSBlbHNlIGlmIChzd2lwZXJJbmRleCA+PSB0aGlzLnRvdGFsU2l6ZSkgewogICAgICAgIHRoaXMuJFRvYXN0KCflt7Lnu4/mmK/mnIDlkI7kuIDlvKDkuoYnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN3aXBlckluZGV4ID0gc3dpcGVySW5kZXg7CgogICAgICAgIGlmICghdGhpcy5zd2lwZWJveCkgewogICAgICAgICAgdGhpcy5zd2lwZWJveCA9IHRoaXMuJHJlZnMuc3dpcGVib3g7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnN3aXBlYm94LnN3aXBlVG8oc3dpcGVySW5kZXgpOwogICAgICB9CiAgICB9LAogICAgc2V0UGFnZTogZnVuY3Rpb24gc2V0UGFnZShpbmRleCkgewogICAgICB2YXIgcGFnZXMgPSBNYXRoLmNlaWwoKGluZGV4ICsgMSkgLyAxMCk7CiAgICAgIHZhciBwYWdlQXJyID0gdGhpcy5wYWdlQXJyIHx8IFtdOwogICAgICB0aGlzLnNldEluZm8oaW5kZXgpOyAvLyDorr7nva7pobXpnaLkv6Hmga8KCiAgICAgIGlmICgoaW5kZXggKyAxKSAlIDEwID09IDAgJiYgcGFnZUFyci5pbmRleE9mKHBhZ2VzICsgMSkgPCAwKSB7CiAgICAgICAgLy8g5Yik5pat5piv5ZCm6ZyA6KaB5Yqg6L295LiL5LiA6aG1ICYmIOi/meS4gOmhteayoei9vei/hwogICAgICAgIC8vIOWKoOi9veS4i+S4gOmhtQogICAgICAgIGNvbnNvbGUubG9nKCfliqDovb3kuIvkuIDpobUnKTsKICAgICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZTsKICAgICAgICBpZiAocGFnZSA+PSB0aGlzLnRvdGFsUGFnZSkgcmV0dXJuOwogICAgICAgIHBhZ2UrKzsKICAgICAgICBwYWdlQXJyLnB1c2gocGFnZSk7IC8vIOWtmOWCqOW3suWKoOi9vemhtemdogoKICAgICAgICB0aGlzLnBhZ2VBcnIgPSBwYWdlQXJyOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucGFnZUFyciwgJ+WtmOWCqOW3suWKoOi9vemhtemdoicpOwogICAgICAgIHRoaXMuZ2V0Q2FyZExpc3QocGFnZSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDojrflj5bljaHliLjliJfooaggCiAgICBnZXRDYXJkTGlzdDogZnVuY3Rpb24gZ2V0Q2FyZExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgdGhpcy4kVG9hc3QubG9hZGluZyh7CiAgICAgICAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsCiAgICAgICAgZHVyYXRpb246IDAKICAgICAgfSk7CiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zOwogICAgICB0aGlzLiRhcGlbb3B0aW9ucy5hcGlVcmxdKHsKICAgICAgICB0cmFkZUlkOiBvcHRpb25zLnRyYWRlSWQgfHwgJycsCiAgICAgICAgYWN0U246IG9wdGlvbnMuYWN0U24gfHwgJycsCiAgICAgICAgY2FyZElkOiBvcHRpb25zLmNhcmRJZCB8fCAnJywKICAgICAgICBkZXRhaWxJZDogb3B0aW9ucy5kZXRhaWxJZCB8fCAnJywKICAgICAgICB0eXBlOiB0aGlzLm9wdGlvbnMudHlwZSB8fCAnJywKICAgICAgICBjYXJkU3RhcnRUaW1lOiBvcHRpb25zLmNhcmRTdGFydFRpbWUgfHwgJycsCiAgICAgICAgY2FyZEVuZFRpbWU6IG9wdGlvbnMuY2FyZEVuZFRpbWUgfHwgJycsCiAgICAgICAgbGF0OiB0aGlzLmxvY2F0aW9uSW5mby5sYXRpdHVkZSwKICAgICAgICBsbmc6IHRoaXMubG9jYXRpb25JbmZvLmxvbmdpdHVkZSwKICAgICAgICBwYWdlOiBwYWdlIHx8IDEsCiAgICAgICAgcGVyU2l6ZTogMTAKICAgICAgfSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCFyZXMuc3RhdGUpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzLnBhZ2UgPSBwYWdlOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMucGFnZSA9PSAxKSkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfdGhpcy50b3RhbFBhZ2UgPSByZXMuaW5mby5wYWdlLnRvdGFsUGFnZTsKICAgICAgICAgICAgICAgICAgX3RoaXMudG90YWxTaXplID0gcmVzLmluZm8ucGFnZS50b3RhbFNpemU7CgogICAgICAgICAgICAgICAgICBpZiAoIShyZXMuaW5mby5jYXJkTGlzdC5sZW5ndGggPj0gMSAmJiBfdGhpcy5wYWdlID09IDEpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2FyZERldGFpbChyZXMuaW5mby5jYXJkTGlzdFswXS5jYXJkSWQgfHwgcmVzLmluZm8uY2FyZElkLCByZXMuaW5mby5jYXJkTGlzdFswXS5kZXRhaWxJZCB8fCByZXMuaW5mby5kZXRhaWxJZCwgcmVzLmluZm8uY2FyZExpc3RbMF0udGhpcmRDYXJkVHlwZSk7CgogICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5jYXJkX3RleHQyUXJDb2RlKHJlcy5pbmZvLmNhcmRMaXN0KTsKCiAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMucGFnZSA9PSAxKSBfdGhpcy5zZXRJbmZvKCk7CgogICAgICAgICAgICAgICAgICBpZiAoX3RoaXMudG9hc3RUZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuJFRvYXN0KF90aGlzLnRvYXN0VGV4dCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzLnRvYXN0VGV4dCA9ICcnOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIF90aGlzLiRUb2FzdChyZXMubWVzc2FnZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy4kVG9hc3QuY2xlYXIoKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o6l5Y+j6L2s5o2i5LqM57u056CBCiAgICBjYXJkX3RleHQyUXJDb2RlOiBmdW5jdGlvbiBjYXJkX3RleHQyUXJDb2RlKGxpc3QpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX2xvb3AsIGksIGltZ1VybDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9sb29wID0gLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9sb29wJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGlzdFtpXS5lbmRUaW1lKSBsaXN0W2ldLmNhcmRFbmRUaW1lID0gbGlzdFtpXS5lbmRUaW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaXN0W2ldLnN0YXJ0VGltZSkgbGlzdFtpXS5jYXJkU3RhcnRUaW1lID0gbGlzdFtpXS5zdGFydFRpbWU7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF90aGlzMi5pc091dENhcmQgJiYgKF90aGlzMi5pc091dENhcmQuaW5kZXhPZignNCcpID4gLTEgfHwgX3RoaXMyLmlzT3V0Q2FyZC5pbmRleE9mKCc3JykgPiAtMSkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuaXNPdXRDYXJkLmluZGV4T2YoJzcnKSA+IC0xKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2ldLmltZ1VybCA9IGxpc3RbaV0uY2FyZFFyQ29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGFwaS5jYXJkX3RleHQyUXJDb2RlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGxpc3RbaV0uY2FyZFFyQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRDb2RlOiBsaXN0W2ldLmNhcmRDb2RlCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdVcmwgPSByZXMuaW5mby5jYXJkUXJDb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2ldLmltZ1VybCA9IGltZ1VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmNhcmRJbmZvLmNyZWF0ZVR5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nVXJsID0gZHJhd1FyY29kZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IDI1MCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbGlzdFtpXS5jYXJkUXJDb2RlIHx8ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RbaV0uaW1nVXJsID0gaW1nVXJsOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMyLmlzT3V0Q2FyZCAmJiBfdGhpczIuaXNPdXRDYXJkLmluZGV4T2YoJzUnKSA+IC0xKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRhcGkuY2FyZF90ZXh0MlFyQ29kZSh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsaXN0W2ldLmNhcmRRckNvZGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkQ29kZTogbGlzdFtpXS5jYXJkQ29kZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVUeXBlOiAnQmF0X0NvZGUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWdVcmwgPSByZXMuaW5mby5jYXJkUXJDb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0W2ldLmJhdEltZ1VybCA9IGltZ1VybDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBfbG9vcCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgbGlzdC5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5kZWxlZ2F0ZVlpZWxkKF9sb29wKGkpLCAidDAiLCA0KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIC8vIGxpc3RbMF0uY2FyZFN0YXRlID0xCiAgICAgICAgICAgICAgICAvLyB0aGlzLnNldERhdGEoewogICAgICAgICAgICAgICAgLy8gICBjYXJkTGlzdDogWy4uLnRoaXMuZGF0YS5jYXJkTGlzdCwgLi4ubGlzdF0KICAgICAgICAgICAgICAgIC8vIH0pCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIucGFnZSwgJ3BhZ2UnKTsgLy8gaWYgKHRoaXMucGFnZSA9PSAxKSB0aGlzLmNhcmRMaXN0ID0gbGlzdAoKICAgICAgICAgICAgICAgIF90aGlzMi5jYXJkTGlzdCA9IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoX3RoaXMyLmNhcmRMaXN0KSwgX3RvQ29uc3VtYWJsZUFycmF5KGxpc3QpKTsKICAgICAgICAgICAgICAgIF90aGlzMi5pbml0aWFsU3dpcGUgPSBfdGhpczIuc3dpcGVySW5kZXg7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuY2FyZExpc3QsICdjYXJkTGlzdGNhcmRMaXN0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bljaHliLjor6bmg4UgCiAgICBjYXJkRGV0YWlsOiBmdW5jdGlvbiBjYXJkRGV0YWlsKGNhcmRJZCwgZGV0YWlsSWQsIHRoaXJkQ2FyZFR5cGUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLiRUb2FzdC5sb2FkaW5nKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WKoOi9veS4rS4uLicsCiAgICAgICAgICAgICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLAogICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIsIF90aGlzMy4kYXBpLmFjdF9jYXJkX2RldGFpbCh7CiAgICAgICAgICAgICAgICAgIGNhcmRJZDogY2FyZElkLAogICAgICAgICAgICAgICAgICBkZXRhaWxJZDogZGV0YWlsSWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gcmVzLmluZm8uc2hvd1N0eWxlIDAuIOacquS/ruaUuSjljp/ljaHliLgpMS7liLjnoIEyLuWNoeWIuHVybOWcsOWdgO+8mzMu5Y2h5Y+35Y2h5a+GOzQu6YCa55So5LqM57u056CB77ybNS7pgJrnlKjmnaHlvaLnoIHvvJs2LumAmueUqOadoeW9oueggeWSjOS6jOe7tOegge+8mzfkuoznu7TnoIHlm77niYfvvJs455+t5L+hCiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dTdHlsZSA9IHJlcy5pbmZvLnNob3dTdHlsZTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dTdHlsZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBzaG93U3R5bGUgPSB0aGlyZENhcmRUeXBlICsgJyc7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1N0eWxlLmluZGV4T2YoJzYnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICBzaG93U3R5bGUgPSAnNCw1JzsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHNob3dTdHlsZSwgJ3Jlcy5pbmZvLnNob3dTdHlsZScpOyAvLyBpZiAocmVzLmluZm8uc2hvd1N0eWxlLmluZGV4T2YoJzcnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gICAvLyA35LqM57u056CB5Zu+54mHCiAgICAgICAgICAgICAgICAgICAgLy8gICByZXMuaW5mby5zaG93U3R5bGUucmVwbGFjZSgnNycsICc0JykKICAgICAgICAgICAgICAgICAgICAvLyB9CgogICAgICAgICAgICAgICAgICAgIHJlcy5pbmZvLnNob3dTdHlsZSA9IHNob3dTdHlsZTsgLy8gdGhpcy5zZXREYXRhKHsKICAgICAgICAgICAgICAgICAgICAvLyAgIGNhcmRJbmZvOiByZXMuaW5mbywKICAgICAgICAgICAgICAgICAgICAvLyAgIHNob3BOYW1lOiByZXMuaW5mby5zaG9wTmFtZSwKICAgICAgICAgICAgICAgICAgICAvLyAgIHNob3BTbjogcmVzLmluZm8uc2hvcFNuLAogICAgICAgICAgICAgICAgICAgIC8vICAgc2hvcFBpYzogcmVzLmluZm8uc2hvcFBpYywKICAgICAgICAgICAgICAgICAgICAvLyAgIGlzT3V0Q2FyZDogc2hvd1N0eWxlCiAgICAgICAgICAgICAgICAgICAgLy8gfSkKCiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNhcmRJbmZvID0gcmVzLmluZm87CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3BOYW1lID0gcmVzLmluZm8uc2hvcE5hbWU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3BTbiA9IHJlcy5pbmZvLnNob3BTbjsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc2hvcFBpYyA9IHJlcy5pbmZvLnNob3BQaWM7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzT3V0Q2FyZCA9IHNob3dTdHlsZTsKICAgICAgICAgICAgICAgICAgICB2YXIgc3dpcGVySGVpZ2h0ID0gMDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5pbmZvLnN1cHBsaWVyQ29kZSAhPSAnUEFSVFlfWldZJykgewogICAgICAgICAgICAgICAgICAgICAgc3dpcGVySGVpZ2h0ID0gNzA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1N0eWxlLmluZGV4T2YoJzEnKSA+IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICBzd2lwZXJIZWlnaHQgKz0gMTQxOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dTdHlsZS5pbmRleE9mKCcyJykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpcGVySGVpZ2h0ICs9IDE0MTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzaG93U3R5bGUuaW5kZXhPZignMycpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXBlckhlaWdodCArPSAyMjA7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1N0eWxlLmluZGV4T2YoJzQnKSA+IC0xIHx8IHNob3dTdHlsZS5pbmRleE9mKCc3JykgPiAtMSkgewogICAgICAgICAgICAgICAgICAgICAgc3dpcGVySGVpZ2h0ICs9IDI3MDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmIChzaG93U3R5bGUuaW5kZXhPZignNScpID4gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHN3aXBlckhlaWdodCArPSAxMDg7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAoc2hvd1N0eWxlICE9IDQgJiYgc2hvd1N0eWxlICE9IDUgJiYgc2hvd1N0eWxlICE9IDcgJiYgc2hvd1N0eWxlICE9ICc2JyAmJiBzaG93U3R5bGUgIT0gJzQsNScpIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuc2V0RGF0YSh7CiAgICAgICAgICAgICAgICAgICAgICAvLyAgIHNob3dDYXJkQ29kZTogdHJ1ZQogICAgICAgICAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5zaG93Q2FyZENvZGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNldERhdGEoewogICAgICAgICAgICAgICAgICAgICAgLy8gICBzaG93Q2FyZENvZGU6IGZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnNob3dDYXJkQ29kZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0gLy8gdGhpcy5zZXREYXRhKHsKICAgICAgICAgICAgICAgICAgICAvLyAgIHN3aXBlckhlaWdodAogICAgICAgICAgICAgICAgICAgIC8vIH0pCgoKICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3dpcGVySGVpZ2h0ID0gc3dpcGVySGVpZ2h0OwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIHd4LnNob3dUb2FzdCh7CiAgICAgICAgICAgICAgICAgICAgLy8gICB0aXRsZTogcmVzLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgLy8gICBpY29uOiAnbm9uZScKICAgICAgICAgICAgICAgICAgICAvLyB9KQogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kVG9hc3QocmVzLm1lZXNhZ2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRUb2FzdC5jbGVhcigpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSB0cnVlOyAvLyB0aGlzLnNldERhdGEoewogICAgICAgICAgICAgICAgICAvLyAgIGxvYWRpbmc6IHRydWUKICAgICAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6K6+572u6aG16Z2i5L+h5oGvCiAgICBzZXRJbmZvOiBmdW5jdGlvbiBzZXRJbmZvKCkgewogICAgICB2YXIgaW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDA7CiAgICAgIHZhciBjYXJkTGlzdCA9IHRoaXMuY2FyZExpc3QsCiAgICAgICAgICBjYXJkSW5mbyA9IHRoaXMuY2FyZEluZm87IC8vIHRoaXMuc2V0RGF0YSh7CiAgICAgIC8vICAgaW5mbzogT2JqZWN0LmFzc2lnbihjYXJkTGlzdFtpbmRleF0sIGNhcmRJbmZvKQogICAgICAvLyB9KQoKICAgICAgdGhpcy5pbmZvID0gT2JqZWN0LmFzc2lnbihjYXJkTGlzdFtpbmRleF0sIGNhcmRJbmZvKTsgLy8gdGhpcy50cmlnZ2VyRXZlbnQoJ3NldEluZm8nLCB0aGlzLmRhdGEuaW5mbykKCiAgICAgIHRoaXMuJGVtaXQoJ3NldEluZm8nLCB0aGlzLmluZm8pOwogICAgfSwKICAgIHByZXZpZXdJbWFnZTogZnVuY3Rpb24gcHJldmlld0ltYWdlKF9yZWYyKSB7CiAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gX3JlZjIuY3VycmVudFRhcmdldDsKICAgICAgdmFyIGltZ1VybCA9IGN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbWd1cmw7CiAgICAgIHd4LnByZXZpZXdJbWFnZSh7CiAgICAgICAgY3VycmVudDogaW1nVXJsLAogICAgICAgIC8vIOW9k+WJjeaYvuekuuWbvueJh+eahGh0dHDpk77mjqUKICAgICAgICB1cmxzOiBbaW1nVXJsXSAvLyDpnIDopoHpooTop4jnmoTlm77niYdodHRw6ZO+5o6l5YiX6KGoCgogICAgICB9KTsKICAgIH0sCiAgICAvLyDlpI3liLbljaHliLjnoIEKICAgIGNvcHk6IGZ1bmN0aW9uIGNvcHkoX3JlZjMpIHsKICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBfcmVmMy5jdXJyZW50VGFyZ2V0OwogICAgICBjb25zb2xlLmxvZyhjdXJyZW50VGFyZ2V0KTsKICAgICAgd3guc2V0Q2xpcGJvYXJkRGF0YSh7CiAgICAgICAgZGF0YTogY3VycmVudFRhcmdldC5kYXRhc2V0LmNvZGUgKyAnJywKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkgewogICAgICAgICAgd3guc2hvd1RvYXN0KHsKICAgICAgICAgICAgdGl0bGU6ICflpI3liLbmiJDlip8nLAogICAgICAgICAgICBpY29uOiAnbm9uZScKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5qCH6K6w5aSW6YOo5Y2h5Yi4CiAgICBzdGFtcDogZnVuY3Rpb24gc3RhbXAoc3RhdGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICBpZiAoc3RhdGUgPT0gMSkgewogICAgICAgIC8vIHd4LnNob3dNb2RhbCh7CiAgICAgICAgLy8gICB0aXRsZTogJ+aPkOekuicsCiAgICAgICAgLy8gICBjb250ZW50OiAn5oKo56Gu5a6a5bey5Yiw5bqX5qC46ZSA5bm25L2/55So5q2k5Y2h5Yi45LqG5ZCXPycsCiAgICAgICAgLy8gICBjYW5jZWxUZXh0OiAn54K56ZSZ5LqGJywKICAgICAgICAvLyAgIGNvbmZpcm1UZXh0OiAgJ+ehruiupOagh+iusCcsCiAgICAgICAgLy8gICBzdWNjZXNzOiAocmVzKT0+IHsKICAgICAgICAvLyAgICAgaWYgKHJlcy5jb25maXJtKSB7CiAgICAgICAgLy8gICAgICAgdGhpcy5jYXJkX29mZihzdGF0ZSkKICAgICAgICAvLyAgICAgfSBlbHNlIGlmIChyZXMuY2FuY2VsKSB7CiAgICAgICAgLy8gICAgICAgY29uc29sZS5sb2coJ+eUqOaIt+eCueWHu+WPlua2iCcpCiAgICAgICAgLy8gICAgIH0KICAgICAgICAvLyAgIH0KICAgICAgICAvLyB9KQogICAgICAgIHRoaXMuJGRpYWxvZy5jb25maXJtKHsKICAgICAgICAgIHRpdGxlOiAn5o+Q56S6JywKICAgICAgICAgIG1lc3NhZ2U6ICfmgqjnoa7lrprlt7LliLDlupfmoLjplIDlubbkvb/nlKjmraTljaHliLjkuoblkJc/JywKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu6K6k5qCH6K6wJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICfngrnplJnkuoYnCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczQuY2FyZF9vZmYoc3RhdGUpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2FyZF9vZmYoc3RhdGUpOwogICAgICB9CiAgICB9LAogICAgY2FyZF9vZmY6IGZ1bmN0aW9uIGNhcmRfb2ZmKHN0YXRlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRUb2FzdC5sb2FkaW5nKHsKICAgICAgICBtZXNzYWdlOiAn5Yqg6L295LitLi4uJywKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICBkdXJhdGlvbjogMAogICAgICB9KTsKICAgICAgdGhpcy4kYXBpLm15X2NvdXBvbl9jYXJkX29mZih7CiAgICAgICAgY2FyZENvZGU6IHRoaXMuaW5mby5jYXJkQ29kZSwKICAgICAgICBvZmZTdGF0ZTogc3RhdGUgPT0gMSA/IHRydWUgOiBmYWxzZQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICBpZiAoc3RhdGUgPT0gMSkgewogICAgICAgICAgICBfdGhpczUudG9hc3RUZXh0ID0gJ+agh+iusOaIkOWKnyc7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUudG9hc3RUZXh0ID0gJ+WPlua2iOaIkOWKnyc7CiAgICAgICAgICB9IC8vIOWNoeWIuOaAu+aVsOWPquacieS4gOW8oOaXtuaguOmUgOWQjuaYvuekuuW3suaguOmUgOWNoeWIuAoKCiAgICAgICAgICBpZiAoX3RoaXM1LnRvdGFsU2l6ZSA9PSAxICYmIHN0YXRlID09IDEpIHsKICAgICAgICAgICAgX3RoaXM1Lm9wdGlvbnMudHlwZSA9IDQ7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczUub3B0aW9ucy50eXBlID0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczUucGFnZSA9IDE7CiAgICAgICAgICBfdGhpczUucGFnZUFyciA9IFsxXTsKICAgICAgICAgIF90aGlzNS5jYXJkTGlzdCA9IFtdOwogICAgICAgICAgX3RoaXM1LnN3aXBlckluZGV4ID0gMDsKCiAgICAgICAgICBfdGhpczUuZ2V0Q2FyZExpc3QoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gd3guc2hvd1RvYXN0KHsKICAgICAgICAgIC8vICAgdGl0bGU6IHJlcy5tZXNzYWdlLAogICAgICAgICAgLy8gICBpY29uOiAnbm9uZScKICAgICAgICAgIC8vIH0pCiAgICAgICAgICBfdGhpczUuJFRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNS4kVG9hc3QuY2xlYXIoKTsKCiAgICAgICAgX3RoaXM1LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRDYXJkTGlzdCgpOwogIH0KfTs="},{"version":3,"sources":["cardCodeDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: yesong\r\n * @Date: 2020-07-31 17:39:08\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-01 14:09:03\r\n--> \r\n<template>\r\n  <div class=\"card-code-detail\">\r\n    <div class=\"code-detail\">\r\n      <div class=\"p20\">\r\n        <!-- 卡券名称&使用规则 -->\r\n        <div class=\"detail-title flex-v\">\r\n          <div class=\"tac flex-1\">\r\n            <div class=\"ft40 c1A card-name bold\">{{ info.cardName || '卡券名称' }}</div>\r\n            <div class=\"c66 ft24 mt20\" v-if=\"info.supplierCode == 'PARTY_ZWY'\">\r\n              <span v-if=\"info.validityType == 3\">游玩日{{ (info.endTime || info.cardEndTime) | formatTime}}当日有效</span>\r\n              <span v-else>游玩日{{(info.startTime || info.cardStartTime) | formatTime}}-{{(info.endTime || info.cardEndTime) | formatTime}}</span>\r\n            </div>\r\n            <div class=\"c66 ft24 mt20\" v-else-if=\"info.validityType == 9\">\r\n              领取后立即生效，有效期{{ info.validityDays }}小时\r\n            </div>\r\n            <div class=\"c66 ft24 mt20\" v-else-if=\"info.createType != 2\">\r\n              {{info.usePeriod ? info.limitTimeIntervalDate : '营业时间可用'}} | {{ info.useCondition == 1 ? '无门槛使用' : info.useCondition == 2 ? '每满'+info.limitFunds/100+'元可用1张' : '消费任意金额可用' }} | {{ info.stackable ? '单次可用'+info.limitStackable+'张' : '不限使用张数' }}\r\n            </div>\r\n            <!-- 代金券 && 旅游卡券不显示是否可预约 -->\r\n            <div class=\"subscribeState ft20 c66\" v-if=\"(info.cardType == 'CARD_ITEM_COUPON' || info.cardType == 'CARD_MULTI_COUPON') && info.supplierCode != 'PARTY_ZWY' && info.subscribeState != 2\">\r\n              <span class=\"\" v-if=\"info.subscribeState == 1\">提前{{ info.appointmentTime }}{{ info.timeType == 1 ? '小时' : '天' }}预约</span>\r\n              <span class=\"\" v-else>免预约</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 卡券码 -->\r\n        <div class=\"qr-code-box por\">\r\n          <!-- 系统卡券详情 -->\r\n          <template v-if=\"info.createType == 1\">\r\n            <div class=\"swiper-box por\">\r\n              <!-- 上一张按钮 -->\r\n              <div\r\n                class=\"up flex-v flex-c\"\r\n                @click=\"switchs(-1)\"\r\n                v-if=\"totalSize > 1\"\r\n              >\r\n                <div class=\"jt flex-v flex-c\">\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_next.png' />\r\n                </div>\r\n              </div>\r\n              <van-swipe ref=\"swipebox\" :initial-swipe=\"initialSwipe\" :loop=\"false\" :show-indicators=\"false\" @change=\"change\">\r\n                <van-swipe-item v-for=\"(item, index) in cardList\" :key=\"index\">\r\n                  <div class=\"ft28 bold tac code-span mb24\" :class=\"(item.cardState != 1 || item.cardRefund != 1) ? 'c9E' : 'c1A'\">券码：<span :class=\"(item.cardState != 1 || item.cardRefund != 1) ? 'tdt' : ''\">{{ (item.cardCode || '000000000000') | cardReplace}}</span></div>\r\n                  <div class=\"item-box por\">\r\n                    <img class=\"code-img\"  :src=\"item.imgUrl\" />\r\n                    <div class=\"failure-img\" v-if=\"item.cardState != 1 || item.cardRefund != 1\">\r\n                      <!-- 已退款 -->\r\n                      <img v-if=\"item.cardRefund == 2 || item.cardRefund == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yitk.png\" />\r\n                      <!-- 已核销 -->\r\n                      <img v-else-if=\"item.cardState == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_hx.png\" />\r\n                      <!-- 已过期 -->\r\n                      <img v-else-if=\"item.cardState == 4\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_gq.png\" />\r\n                      <!-- 已失效 -->\r\n                      <img v-else-if=\"item.cardState == 5\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yisx.png\" />\r\n                    </div>\r\n                  </div>\r\n                </van-swipe-item>\r\n              </van-swipe>\r\n                <!-- 下一张按钮 -->\r\n                <div\r\n                  class=\"down flex-v flex-c\"\r\n                  v-if=\"totalSize > 1\"\r\n                  @click=\"switchs(1)\"\r\n                >\r\n                <div class='jt flex-v flex-c'>\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_last.png' />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"ft22 c9E tac mt18\">向商家出示核销二维码</div>\r\n          </template>\r\n          <!-- 自我游卡券详情 短信-->\r\n          <!-- v-if=\"{{ info.supplierCode == 'PARTY_ZWY' }}\" -->\r\n          <template v-else-if=\"info.showStyle == 8 || info.showStyle == 0\">\r\n            <div class=\"swiper-box por travel-box\">\r\n              <!-- 上一张按钮 -->\r\n              <div\r\n                class=\"up flex-v flex-c\"\r\n                @click=\"switchs(-1)\"\r\n                v-if=\"totalSize > 1\"\r\n              >\r\n                <div class=\"jt flex-v flex-c\">\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_next.png' />\r\n                </div>\r\n              </div>\r\n              <van-swipe ref=\"swipebox\" :initial-swipe=\"initialSwipe\" :loop=\"false\" :show-indicators=\"false\" @change=\"change\">\r\n                <van-swipe-item v-for=\"(item, index) in cardList\" :key=\"index\">\r\n                  <div class=\"item-box por\">\r\n                    <div class=\"item-box-content flex-v\">\r\n                      <template v-if=\"!info.massager\">\r\n                        <div class=\"tac flex-1\">\r\n                          <img class=\"card-none\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/card_none.png\" />\r\n                          <div class=\"ft26 c1A\" style=\"line-height: 32px;\">卡券凭证生成中，请稍后查看</div>\r\n                        </div>\r\n                      </template>\r\n                      <template v-else>\r\n                        <div class=\"flex-1 ft26 c1A\" style=\"line-height: 36px;word-break:break-all;\">\r\n                          {{ info.massager }}\r\n                        </div>\r\n                      </template>\r\n                    </div>\r\n                    <div class=\"item-box-bg\"></div>\r\n                    <div class=\"failure-img\" v-if=\"item.cardState != 1 || item.cardRefund != 1\">\r\n                      <!-- 已退款 -->\r\n                      <img v-if=\"item.cardRefund == 2 || item.cardRefund == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yitk.png\" />\r\n                      <!-- 已核销 -->\r\n                      <img v-else-if=\"item.cardState == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_hx.png\" />\r\n                      <!-- 已过期 -->\r\n                      <img v-else-if=\"item.cardState == 4\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_gq.png\" />\r\n                      <!-- 已失效 -->\r\n                      <img v-else-if=\"item.cardState == 5\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yisx.png\" />\r\n                    </div>\r\n                  </div>\r\n                </van-swipe-item>\r\n              </van-swipe>\r\n                <!-- 下一张按钮 -->\r\n                <div\r\n                  class=\"down flex-v flex-c\"\r\n                  v-if=\"totalSize > 1\"\r\n                  @click=\"switchs(1)\"\r\n                >\r\n                <div class='jt flex-v flex-c'>\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_last.png' />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n\r\n          <!-- 外部导入券 -->\r\n          <template v-else-if=\"info.createType == 2 || info.createType == 3\">\r\n            <div class=\"swiper-box por external-box\">\r\n              <!-- 上一张按钮 -->\r\n              <div\r\n                class=\"up flex-v flex-c\"\r\n                @click=\"switchs(-1)\"\r\n                v-if=\"totalSize > 1\"\r\n              >\r\n                <div class=\"jt flex-v flex-c\">\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_next.png' />\r\n                </div>\r\n              </div>\r\n\r\n              <!-- 券码1 || 2链接 -->\r\n              <div class=\"ft22 c9E tac mb24\" v-if=\"info.showStyle == 2 || info.showStyle == 1\">使用前请与商家确认要核销的卡券，点击券码即可复制</div>\r\n              <!-- 3卡密 -->\r\n              <div class=\"ft22 c9E tac mb24\" v-else-if=\"info.showStyle == 3\">点击卡号和卡密即可复制，复制后请到对应平台兑换</div>\r\n              <!-- 二维码4 -->\r\n              <div class=\"ft22 c9E tac mb24\" v-else>使用前请与商家确认要核销的卡券，点击券码即可复制</div>\r\n              <van-swipe ref=\"swipebox\" :initial-swipe=\"initialSwipe\" :loop=\"false\" :show-indicators=\"false\" @change=\"change\">\r\n                <van-swipe-item class=\"\" v-for=\"(item, index) in cardList\" :key='index'>\r\n                  <template v-if=\"item.batImgUrl || item.imgUrl\">\r\n                    \r\n                    <div class=\"item-box por\">\r\n                      <!-- 条形码 -->\r\n                      <img class=\"barcode-img\" v-if=\"item.batImgUrl\" :src=\"item.batImgUrl\" />\r\n                      <div class=\"qrcode-box\">\r\n                        <!-- 二维码 -->\r\n                        <img class=\"code-img\" v-if=\"item.imgUrl\" :src=\"item.imgUrl\" />\r\n                        <div class=\"failure-img\" v-if=\"item.cardState != 1 || item.cardRefund != 1\">\r\n                          <!-- 已退款 -->\r\n                          <img v-if=\"item.cardRefund == 2 || item.cardRefund == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yitk.png\" />\r\n                          <!-- 已核销 -->\r\n                          <img v-else-if=\"item.cardState == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_hx.png\" />\r\n                          <!-- 已过期 -->\r\n                          <img v-else-if=\"item.cardState == 4\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_gq.png\" />\r\n                          <!-- 已失效 -->\r\n                          <img v-else-if=\"item.cardState == 5\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yisx.png\" />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <!-- bindtap=\"copy\" data-code=\"{{ item.cardSecret || item.cardQrCode }}\" -->\r\n                    <div v-if=\"showCardCode\"  class=\"code-span-box ft28 bold tac t-elps\" :class=\"(item.cardState != 1 || item.cardRefund != 1) ? 'guoqi tdt' : 'c1A'\" >{{ (item.cardSecret || item.cardQrCode || '000000000000') | cardReplace }}</div>\r\n                  </template>\r\n                  <template v-else-if=\"info.showStyle == 2 || info.showStyle == 1\">\r\n                  <div class=\"item-box-two por\">\r\n                    <!-- bindtap=\"copy\" data-code=\"{{ item.cardSecret || item.cardQrCode }}\" -->\r\n                      <div class=\"code-span-box ft28 c1A bold flex-v flex-c\"  v-if=\"item.cardSecret || item.cardQrCode\">\r\n                        <div class=\"\">{{ (item.cardSecret || item.cardQrCode || '000000000000') | cardReplace }}</div>\r\n                      </div>\r\n                      <div class=\"code-span-box ft28 c1A bold flex-v flex-c\" v-else>\r\n                        <div class=\"\">卡券正在生成中...</div>\r\n                      </div>\r\n                      <div class=\"failure-img\" v-if=\"item.cardState != 1 || item.cardRefund != 1\">\r\n                        <!-- 已退款 -->\r\n                        <img v-if=\"item.cardRefund == 2 || item.cardRefund == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yitk.png\" />\r\n                        <!-- 已核销 -->\r\n                        <img v-else-if=\"item.cardState == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_hx.png\" />\r\n                        <!-- 已过期 -->\r\n                        <img v-else-if=\"item.cardState == 4\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_gq.png\" />\r\n                        <!-- 已失效 -->\r\n                        <img v-else-if=\"item.cardState == 5\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yisx.png\" />\r\n                      </div>\r\n                  </div>\r\n                  </template>\r\n\r\n                  <template v-else-if=\"info.showStyle == 3\">\r\n                    <div class=\"item-box-three por\">\r\n                      <div class=\"cardNumber code-span flex\">\r\n                        <div class=\"left tac\">卡号</div>\r\n                        <!-- bindtap=\"copy\" data-code=\"{{ item.cardNumber || item.cardCode }}\" -->\r\n                        <div class=\"right ft28 c1A bold t-elps\"  v-if=\"item.cardNumber || item.cardCode\">{{ (item.cardNumber || item.cardCode || '000000000000') | cardReplace }}</div>\r\n                        <div class=\"right ft28 c1A bold t-elps\" v-else>卡券正在生成中...</div>\r\n                      </div>\r\n                      \r\n                      <div class=\"cardSecret code-span flex mt18\">\r\n                        <div class=\"left tac\">卡密</div>\r\n                        <!-- bindtap=\"copy\" data-code=\"{{ item.cardSecret }} -->\r\n                        <div class=\"right ft28 c1A bold t-elps\" v-if=\"item.cardSecret\">{{ (item.cardSecret || '000000000000') | cardReplace}}</div>\r\n                        <div class=\"right ft28 c1A bold t-elps\" v-else>卡券正在生成中...</div>\r\n                      </div>\r\n                      <div class=\"failure-img\" v-if=\"item.cardState != 1 || item.cardRefund != 1\">\r\n                        <!-- 已退款 -->\r\n                        <img v-if=\"item.cardRefund == 2 || item.cardRefund == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yitk.png\" />\r\n                        <!-- 已核销 -->\r\n                        <img v-else-if=\"item.cardState == 3\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_hx.png\" />\r\n                        <!-- 已过期 -->\r\n                        <img v-else-if=\"item.cardState == 4\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_gq.png\" />\r\n                        <!-- 已失效 -->\r\n                        <img v-else-if=\"item.cardState == 5\" src=\"http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_detail_yisx.png\" />\r\n                      </div>\r\n                    </div>\r\n                  </template>\r\n                  <div class=\"stamp-code ft26 bold tac\" @click=\"stamp(1)\" v-if=\"info.cardState == 1 && info.cardRefund == 1 && info.supplierCode != 'PARTY_ZWY'\">标记为已使用</div>\r\n                </van-swipe-item>\r\n              </van-swipe>\r\n                <!-- 下一张按钮 -->\r\n                <div\r\n                  class=\"down flex-v flex-c\"\r\n                  v-if=\"totalSize > 1\"\r\n                  @click=\"switchs(1)\"\r\n                >\r\n                <div class='jt flex-v flex-c'>\r\n                  <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/icon_last.png' />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </template>\r\n          \r\n        </div>\r\n        <div class=\"page-num ft24 c1A tac\">{{ swiperIndex+1 }}/{{ totalSize }}</div>\r\n      </div>\r\n      <!-- 外部导入券显示如下 -->\r\n      <div class=\"describe ft24 c9E p20 flex-v\" v-if=\"info.createType == 2 || info.createType == 3\">\r\n        <div>*该卡券由<span class=\"cCD\">潮级VIP</span>提供，最终核销状态以商家实际核销为准</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport drawQrcode from '@/plugins/wxqrcode'\r\nexport default {\r\n  name: '',\r\n  props: {\r\n    options: {\r\n      type: Object,\r\n      default: ()=> {}\r\n    }\r\n  },\r\n  computed: {\r\n      ...mapGetters([\"locationInfo\"])\r\n    },\r\n  data() {\r\n    return {\r\n      swiperHeight: 0,\r\n      totalSize: 0,\r\n      swiperIndex: 0,\r\n      cardList: [],\r\n      mask: false,\r\n      showCardCode: false,\r\n      info: {},\r\n      initialSwipe: 0\r\n    }\r\n  },\r\n  methods: {\r\n    \r\n    change (current) {\r\n      this.swiperIndex = current\r\n      this.setPage(current)\r\n    },\r\n\r\n    // 切换二维码\r\n    switchs (index) {\r\n      let swiperIndex = this.swiperIndex\r\n      swiperIndex = swiperIndex+Number(index)\r\n      if (swiperIndex < 0) {\r\n        this.$Toast('已经是第一张了')\r\n      } else if (swiperIndex >= this.totalSize){\r\n        this.$Toast('已经是最后一张了')\r\n      } else {\r\n        this.swiperIndex = swiperIndex\r\n        if (!this.swipebox) {\r\n          this.swipebox = this.$refs.swipebox\r\n        }\r\n        this.swipebox.swipeTo(swiperIndex)\r\n      }\r\n      \r\n    },\r\n\r\n    setPage (index) {\r\n      let pages = Math.ceil((index+1) / 10)\r\n      let pageArr = this.pageArr || []\r\n      this.setInfo(index) // 设置页面信息\r\n      if((index+1) % 10 == 0 && pageArr.indexOf(pages+1) < 0) { // 判断是否需要加载下一页 && 这一页没载过\r\n        // 加载下一页\r\n        console.log('加载下一页')\r\n        let page = this.page\r\n        if (page >= this.totalPage) return\r\n        page++\r\n        pageArr.push(page) // 存储已加载页面\r\n        this.pageArr = pageArr\r\n        console.log(this.pageArr, '存储已加载页面')\r\n        this.getCardList(page)  \r\n      }\r\n    },\r\n\r\n    // 获取卡券列表 \r\n    getCardList(page = 1) {\r\n      this.$Toast.loading({ \r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n       })\r\n      let options = this.options\r\n      this.$api[options.apiUrl]({\r\n        tradeId: options.tradeId || '',\r\n        actSn: options.actSn || '',\r\n        cardId: options.cardId || '',\r\n        detailId: options.detailId || '',\r\n        type: this.options.type || '',\r\n        cardStartTime: options.cardStartTime || '',\r\n        cardEndTime: options.cardEndTime || '',\r\n        lat: this.locationInfo.latitude,\r\n        lng: this.locationInfo.longitude,\r\n        page: page || 1,\r\n        perSize: 10\r\n      }).then(async res => {\r\n        if (res.state) {\r\n          this.page = page\r\n          if(this.page == 1) {\r\n            this.totalPage = res.info.page.totalPage\r\n            this.totalSize = res.info.page.totalSize\r\n            if (res.info.cardList.length >= 1 && this.page == 1) await this.cardDetail(res.info.cardList[0].cardId || res.info.cardId, res.info.cardList[0].detailId || res.info.detailId, res.info.cardList[0].thirdCardType)\r\n          }\r\n          await this.card_text2QrCode(res.info.cardList)\r\n          if(this.page == 1) this.setInfo()\r\n          if (this.toastText) {\r\n            this.$Toast(this.toastText)\r\n            this.toastText = ''\r\n          }\r\n        } else {\r\n          this.$Toast(res.message)\r\n        }\r\n      }).finally(() => {\r\n        this.$Toast.clear()\r\n      })\r\n    },\r\n\r\n    // 接口转换二维码\r\n    async card_text2QrCode(list){\r\n      for (let i = 0;i < list.length; i++) {\r\n        if(list[i].endTime) list[i].cardEndTime = list[i].endTime\r\n        if(list[i].startTime) list[i].cardStartTime = list[i].startTime\r\n        if (this.isOutCard && (this.isOutCard.indexOf('4') > -1 || this.isOutCard.indexOf('7') > -1)) {\r\n          if (this.isOutCard.indexOf('7') > -1) {\r\n            list[i].imgUrl = list[i].cardQrCode\r\n          } else {\r\n            await this.$api.card_text2QrCode({\r\n              text: list[i].cardQrCode,\r\n              cardCode: list[i].cardCode\r\n            }).then(res => {\r\n              if (res.state) {\r\n                var imgUrl = res.info.cardQrCode\r\n                list[i].imgUrl = imgUrl\r\n              }\r\n            })\r\n          }\r\n        } else if (this.cardInfo.createType == 1){\r\n          var imgUrl = drawQrcode({\r\n            size: 250,\r\n            text: list[i].cardQrCode || ''\r\n          })\r\n          list[i].imgUrl = imgUrl\r\n        } \r\n        if (this.isOutCard && this.isOutCard.indexOf('5') > -1) {\r\n          await this.$api.card_text2QrCode({\r\n            text: list[i].cardQrCode,\r\n            cardCode: list[i].cardCode,\r\n            codeType: 'Bat_Code'\r\n          }).then(res => {\r\n            if (res.state) { \r\n              var imgUrl = res.info.cardQrCode\r\n              list[i].batImgUrl = imgUrl\r\n            }\r\n          })\r\n        }\r\n      }\r\n      // list[0].cardState =1\r\n      // this.setData({\r\n      //   cardList: [...this.data.cardList, ...list]\r\n      // })\r\n      console.log(this.page, 'page')\r\n      // if (this.page == 1) this.cardList = list\r\n      this.cardList = [...this.cardList, ...list]\r\n      this.initialSwipe = this.swiperIndex\r\n      console.log(this.cardList, 'cardListcardList')\r\n    },\r\n\r\n    // 获取卡券详情 \r\n    async cardDetail(cardId, detailId, thirdCardType) {\r\n      this.$Toast.loading({ \r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n       })\r\n      return this.$api.act_card_detail({\r\n        cardId,\r\n        detailId\r\n      }).then(res=>{\r\n        if (res.state) {\r\n          // res.info.showStyle 0. 未修改(原卡券)1.券码2.卡券url地址；3.卡号卡密;4.通用二维码；5.通用条形码；6.通用条形码和二维码；7二维码图片；8短信\r\n          let showStyle = res.info.showStyle\r\n          if (showStyle == 0) {\r\n            showStyle = thirdCardType+''\r\n          }\r\n          if (showStyle.indexOf('6') > -1) {\r\n            showStyle = '4,5'\r\n          }\r\n          console.log(showStyle, 'res.info.showStyle')\r\n          // if (res.info.showStyle.indexOf('7') > -1) {\r\n          //   // 7二维码图片\r\n          //   res.info.showStyle.replace('7', '4')\r\n          // }\r\n          res.info.showStyle = showStyle\r\n          // this.setData({\r\n          //   cardInfo: res.info,\r\n          //   shopName: res.info.shopName,\r\n          //   shopSn: res.info.shopSn,\r\n          //   shopPic: res.info.shopPic,\r\n          //   isOutCard: showStyle\r\n          // })\r\n          this.cardInfo = res.info\r\n          this.shopName = res.info.shopName\r\n          this.shopSn = res.info.shopSn\r\n          this.shopPic = res.info.shopPic\r\n          this.isOutCard = showStyle\r\n          let swiperHeight = 0\r\n          if (res.info.supplierCode != 'PARTY_ZWY') {\r\n            swiperHeight = 70\r\n          }\r\n          if (showStyle.indexOf('1') > -1) {\r\n            swiperHeight += 141\r\n          }\r\n          if (showStyle.indexOf('2') > -1) {\r\n            swiperHeight += 141\r\n          }\r\n          if (showStyle.indexOf('3') > -1) {\r\n            swiperHeight += 220\r\n          }\r\n          if (showStyle.indexOf('4') > -1 || showStyle.indexOf('7') > -1) {\r\n            swiperHeight += 270\r\n          }\r\n          if (showStyle.indexOf('5') > -1) {\r\n            swiperHeight += 108\r\n          }\r\n          \r\n          if (showStyle != 4 && showStyle != 5 && showStyle != 7 && showStyle != '6' && showStyle != '4,5') {\r\n            // this.setData({\r\n            //   showCardCode: true\r\n            // })\r\n            this.showCardCode = true\r\n          } else {\r\n            // this.setData({\r\n            //   showCardCode: false\r\n            // })\r\n            this.showCardCode = false\r\n          }\r\n          \r\n\r\n          // this.setData({\r\n          //   swiperHeight\r\n          // })\r\n          this.swiperHeight = swiperHeight\r\n          \r\n        } else {\r\n          // wx.showToast({\r\n          //   title: res.message,\r\n          //   icon: 'none'\r\n          // })\r\n          this.$Toast(res.meesage)\r\n        }\r\n      }).finally(()=>{\r\n        this.$Toast.clear()\r\n        this.loading = true\r\n        // this.setData({\r\n        //   loading: true\r\n        // })\r\n      })\r\n    },\r\n\r\n    // 设置页面信息\r\n    setInfo (index = 0) {\r\n      let { cardList, cardInfo} = this\r\n      // this.setData({\r\n      //   info: Object.assign(cardList[index], cardInfo)\r\n      // })\r\n      this.info = Object.assign(cardList[index], cardInfo)\r\n      // this.triggerEvent('setInfo', this.data.info)\r\n      this.$emit('setInfo', this.info)\r\n    },\r\n\r\n    previewImage({ currentTarget }) {\r\n      let imgUrl = currentTarget.dataset.imgurl\r\n      wx.previewImage({\r\n        current: imgUrl, // 当前显示图片的http链接\r\n        urls: [imgUrl] // 需要预览的图片http链接列表\r\n      })\r\n    },\r\n\r\n    // 复制卡券码\r\n    copy ({ currentTarget }) {\r\n      console.log(currentTarget)\r\n      wx.setClipboardData({\r\n        data: currentTarget.dataset.code+'',\r\n        success() {\r\n          wx.showToast({ title: '复制成功', icon: 'none' })\r\n        }\r\n      })\r\n    },\r\n\r\n    // 标记外部卡券\r\n    stamp(state) {\r\n      if (state == 1) {\r\n        // wx.showModal({\r\n        //   title: '提示',\r\n        //   content: '您确定已到店核销并使用此卡券了吗?',\r\n        //   cancelText: '点错了',\r\n        //   confirmText:  '确认标记',\r\n        //   success: (res)=> {\r\n        //     if (res.confirm) {\r\n        //       this.card_off(state)\r\n        //     } else if (res.cancel) {\r\n        //       console.log('用户点击取消')\r\n        //     }\r\n        //   }\r\n        // })\r\n        this.$dialog.confirm({\r\n          title: '提示',\r\n          message: '您确定已到店核销并使用此卡券了吗?',\r\n          confirmButtonText: '确认标记',\r\n          cancelButtonText: '点错了'\r\n        })\r\n        .then(() => {\r\n          this.card_off(state)\r\n        })\r\n      } else {\r\n        this.card_off(state)\r\n      }\r\n    },\r\n    card_off (state) {\r\n      if (this.loading) return\r\n      this.loading = true\r\n      this.$Toast.loading({ \r\n        message: '加载中...',\r\n        forbidClick: true,\r\n        duration: 0\r\n       })\r\n      this.$api.my_coupon_card_off({\r\n        cardCode: this.info.cardCode,\r\n        offState: state == 1 ? true : false\r\n      }).then((res) => {\r\n        if (res.state) {\r\n          if (state == 1) { \r\n            this.toastText = '标记成功'\r\n          } else {\r\n            this.toastText = '取消成功'\r\n          }\r\n\r\n          // 卡券总数只有一张时核销后显示已核销卡券\r\n          if (this.totalSize == 1 && state == 1) {\r\n            this.options.type = 4\r\n          } else {\r\n            this.options.type = 1\r\n          }\r\n          this.page = 1\r\n          this.pageArr = [1]\r\n          this.cardList = []\r\n          this.swiperIndex = 0\r\n          this.getCardList()\r\n        } else {\r\n          // wx.showToast({\r\n          //   title: res.message,\r\n          //   icon: 'none'\r\n          // })\r\n          this.$Toast(res.message)\r\n        }\r\n      }).finally(() => {\r\n        this.$Toast.clear()\r\n        this.loading = false\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.getCardList()\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.code-detail {\r\n  background-color: #fff;\r\n}\r\n.p20 {\r\n  padding: 0 24px;\r\n}\r\n.detail-title {\r\n  padding:48px 0 30px;\r\n  border-bottom: 1px solid rgb(245, 243, 240, .8);\r\n}\r\n.detail-title .subscribeState {\r\n  margin-top: 18px;\r\n  display: inline-block;\r\n  padding: 6px 8px;\r\n  border: 1px solid #9E9C9A;\r\n  border-radius: 3px;\r\n}\r\n.qr-code-box {\r\n  padding: 0px 0 30px;\r\n}\r\n.qr-code-box .up, .qr-code-box .down {\r\n  position: absolute;\r\n  height: 100%;\r\n  left: -10px;\r\n  top: 0;\r\n  width: 68px;\r\n}\r\n.qr-code-box .down {\r\n  right: -10px;\r\n  left: auto;\r\n}\r\n.qr-code-box .jt {\r\n  width: 68px;\r\n  height: 68px;\r\n}\r\n.qr-code-box .jt img {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.swiper-box {\r\n  padding: 36px 60px 0;\r\n}\r\n.swiper-box swiper, .swiper-box swiper-item {\r\n  height: 318px;\r\n}\r\n.swiper-box .item-box {\r\n  width: 420px;\r\n  margin: 0 auto;\r\n  /* height: 270px; */\r\n  text-align: center;\r\n}\r\n.swiper-box .item-box .qrcode-box {\r\n  /* width: 270px;\r\n  height: 270px;\r\n  margin: 0 auto; */\r\n  text-align: center;\r\n}\r\n.swiper-box .item-box .code-img {\r\n  /* width: 100%;\r\n  height: 100%; */\r\n  width: 270px;\r\n  height: 270px;\r\n  margin: 0 auto;\r\n}\r\n.swiper-box .item-box .barcode-img {\r\n  width: 100%;\r\n  height: 90px;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.external-box .code-span-box {\r\n  width: 400px;\r\n  margin: 21px auto 18px;\r\n  padding: 26px 15px;\r\n  background: #FEF7E7;\r\n  border: 1px solid #FCF1D7;\r\n  line-height: 34px;\r\n}\r\n.external-box .code-span-box.guoqi {\r\n  background: #F5F5F5;\r\n  color: rgba(26, 25, 25, .3);\r\n  border: none;\r\n}\r\n.external-box .item-box-two {\r\n  width: 400px;\r\n  height: 120px;\r\n  margin: 0 auto;\r\n}\r\n.external-box .item-box-two .code-span-box {\r\n  width: 400px;\r\n  height: 120px;\r\n  padding: 0 30px;\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_wbcard.png') no-repeat center;\r\n  background-size: 400px 120px;\r\n  border: none;\r\n}\r\n.external-box .item-box-two .code-span-box > div {\r\n  overflow: hidden;\r\n  line-height: 34px;\r\n  span-overflow: ellipsis;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n}\r\n.external-box .item-box-two .code-span-box.guoqi {\r\n  background: url('http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.4.1/img_wbcard_yihx.png') no-repeat center;\r\n  background-size: cover;\r\n}\r\n\r\n.external-box .item-box-three .code-span {\r\n  width: 400px;\r\n  height: 80px;\r\n  margin: 0 auto;\r\n  background: #FEF7E7;\r\n  border: 1px solid #FCF1D7;\r\n}\r\n.external-box .item-box-three .cardNumber {\r\n  margin: 6px auto 18px;\r\n}\r\n.external-box .item-box-three .cardSecret {\r\n  margin-bottom: 36px;\r\n}\r\n.external-box .item-box-three .code-span .left {\r\n  height: 100%;\r\n  font-size: 26px;\r\n  width: 42px;\r\n  color: #C47E50;\r\n  background: #FDF0D1;\r\n  line-height: 30px;\r\n}\r\n.external-box .item-box-three .code-span .right {\r\n  margin-left: 24px;\r\n  line-height: 80px;\r\n}\r\n\r\n\r\n.external-box .stamp-code {\r\n  color: #8C4B00;\r\n  width: 400px;\r\n  line-height: 60px;\r\n  box-sizing: border-box;\r\n  background-image: linear-gradient(-14deg, #FBCA8F 0%, #FFE5B7 100%);\r\n  border-radius: 12px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.external-box .cancel-stamp-code {\r\n  color: #CD7B00;\r\n  width: 400px;\r\n  line-height: 60px;\r\n  box-sizing: border-box;\r\n  background: #FFFFFF;\r\n  border: 1px solid #CD7B00;\r\n  border-radius: 12px;\r\n  margin: 0 auto;\r\n}\r\n.external-box .item-box-three .failure-img img {\r\n  top: -25px;\r\n  right: 19px;\r\n}\r\n\r\n.failure-img {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: rgba(255, 255, 255, .5);\r\n}\r\n\r\n.failure-img img {\r\n  position: absolute;\r\n  top: -31px;\r\n  right: -54px;\r\n  width: 120px;\r\n  height: 120px;\r\n}\r\n\r\n/* 自我游卡券详情 */\r\n.swiper-box.travel-box {\r\n  padding: 0 15px;\r\n}\r\n.swiper-box.travel-box swiper,.swiper-box.travel-box swiper-item {\r\n  height: 354px;\r\n}\r\n.travel-box .item-box {\r\n  margin-top: 36px;\r\n  width: 510px;\r\n  height: 297px;\r\n}\r\n.travel-box .item-box-content {\r\n  position: relative;\r\n  width: 100%;\r\n  height: 291px;\r\n  padding: 0 24px;\r\n  background: #F5F5F5;\r\n  border-radius: 20px;\r\n  z-index: 2;\r\n}\r\n.travel-box .item-box-bg {\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 291px;\r\n  background: #F0F0F0;\r\n  border-radius: 20px;\r\n}\r\n.travel-box .item-box-content .card-none {\r\n  width: 280px;\r\n  height: 178px;\r\n}\r\n\r\n.page-num {\r\n  padding: 6px 0 30px;\r\n}\r\n\r\n\r\n.describe {\r\n  padding: 28px 0 28px 30px;\r\n  border-top: 1px solid rgba(245, 243, 240, .8);\r\n  line-height: 34px;\r\n}\r\n\r\n\r\n.mask .content {\r\n  position: absolute;\r\n  top: 30%;\r\n  left: calc(50% - 308px);\r\n  width: 617px;\r\n  height: 494px;\r\n}\r\n.mask .content > div {\r\n  position: relative;\r\n  z-index: 3\r\n}\r\n.mask .content div {\r\n  margin-top: 100px;\r\n  margin-bottom: 30px;\r\n  font-size: 43px;\r\n  color: #F65134;\r\n}\r\n.mask .content button {\r\n  margin-top: 166px;\r\n  width: 214px;\r\n  height: 70px;\r\n  line-height: 70px;\r\n  font-size: 30px;\r\n  color: #F03800;\r\n  background-image: linear-gradient(180deg, #F8D962 0%, #FDC131 100%);\r\n  border-radius: 35px;\r\n}\r\n.mask .content .bg {\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.mask .close {\r\n  position: absolute;\r\n  right: 35px;\r\n  top: -91px;\r\n  width: 62px;\r\n  height: 92px;\r\n}\r\n.mb24 {\r\n  margin-bottom: 24px;\r\n}\r\n</style>\r\n\r\n\r\n\r\n"],"sourceRoot":"src/components/center"}]}