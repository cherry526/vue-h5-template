{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\router\\permission.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\router\\permission.js","mtime":1596624611228},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoNCiAqIEBEZXNjcmlwdGlvbjogDQogKiBAVmVyc2lvbjogMS4wDQogKiBAQXV0b3I6IGNoZXJyeQ0KICogQERhdGU6IDIwMjAtMDYtMTcgMTQ6MjA6MjgNCiAqIEBMYXN0RWRpdG9yczogY2hlcnJ5DQogKiBATGFzdEVkaXRUaW1lOiAyMDIwLTA4LTA0IDIwOjM5OjMwDQogKi8KaW1wb3J0IHJvdXRlciBmcm9tICdAL3JvdXRlci9pbmRleC5qcyc7IC8vIOS4jemHjeWumuWQkeeZveWQjeWNlQoKdmFyIHdoaXRlTGlzdCA9IFsnL2Vycm9yJ107CnZhciByb3V0ZUhpc290cnkgPSBbXTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHRva2VuID0gJHNhdmUuZ2V0KCdzZXNzaW9uJywgJ3Rva2VuJyk7IC8vIHJvdXRlSGlzb3RyeS5wdXNoKHRvLnBhdGgpCiAgLy8gaWYocm91dGVIaXNvdHJ5Lmxlbmd0aCA+IDEgKSB7CiAgLy8gICAgaWYocm91dGVIaXNvdHJ5W3JvdXRlSGlzb3RyeS5sZW5ndGggLSAzXSA9PT0gdG8ucGF0aCkgewogIC8vICAgICByb3V0ZUhpc290cnkuc3BsaWNlKHJvdXRlSGlzb3RyeS5sZW5ndGggLSAyLCAyKQogIC8vICAgIH0KICAvLyB9CiAgLy8gY29uc29sZS5sb2codG8ucGF0aCwgZnJvbS5wYXRoLCAn6Lev55Sx566h55CGJywgdG9rZW4sIHJvdXRlSGlzb3RyeSwgcm91dGVIaXNvdHJ5W3JvdXRlSGlzb3RyeS5sZW5ndGggLSAzXSkKICAvLyDlpITnkIblvILluLjov5vlhaXlhaXlj6Pot6/nlLEKCiAgaWYgKHRva2VuICYmIHRvLnBhdGggPT09ICcvJykgewogICAgbmV4dCh7CiAgICAgIHBhdGg6ICcvaW5kZXgvaG9tZScKICAgIH0pOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgd2luZG93LnNjcm9sbFRvKDAsIDApOwp9KTs="},{"version":3,"sources":["C:/Users/Administrator/Desktop/vip_inline_h5/src/router/permission.js"],"names":["router","whiteList","routeHisotry","beforeEach","to","from","next","token","$save","get","path","afterEach","window","scrollTo"],"mappings":"AAAA;;;;;;;;AAQA,OAAOA,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,IAAMC,SAAS,GAAG,CAAC,QAAD,CAAlB;AACA,IAAIC,YAAY,GAAG,EAAnB;AACAF,MAAM,CAACG,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAIC,KAAK,GAAGC,KAAK,CAACC,GAAN,CAAU,SAAV,EAAqB,OAArB,CAAZ,CADoC,CAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAGF,KAAK,IAAIH,EAAE,CAACM,IAAH,KAAY,GAAxB,EAA6B;AAC3BJ,IAAAA,IAAI,CAAC;AACHI,MAAAA,IAAI,EAAE;AADH,KAAD,CAAJ;AAGD,GAJD,MAIO;AACLJ,IAAAA,IAAI;AACL;AACF,CAjBD;AAmBAN,MAAM,CAACW,SAAP,CAAiB,YAAM;AACrBC,EAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAkB,CAAlB;AACD,CAFD","sourcesContent":["/*\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-06-17 14:20:28\r\n * @LastEditors: cherry\r\n * @LastEditTime: 2020-08-04 20:39:30\r\n */ \r\nimport router from '@/router/index.js'\r\n\r\n// 不重定向白名单\r\nconst whiteList = ['/error'] \r\nlet routeHisotry = []\r\nrouter.beforeEach((to, from, next) => {\r\n  let token = $save.get('session', 'token')\r\n  // routeHisotry.push(to.path)\r\n  // if(routeHisotry.length > 1 ) {\r\n  //    if(routeHisotry[routeHisotry.length - 3] === to.path) {\r\n  //     routeHisotry.splice(routeHisotry.length - 2, 2)\r\n  //    }\r\n  // }\r\n  // console.log(to.path, from.path, '路由管理', token, routeHisotry, routeHisotry[routeHisotry.length - 3])\r\n  // 处理异常进入入口路由\r\n  if(token && to.path === '/') {\r\n    next({\r\n      path: '/index/home'\r\n    })\r\n  } else {\r\n    next()\r\n  }\r\n})\r\n\r\nrouter.afterEach(() => {\r\n  window.scrollTo(0,0);\r\n})"]}]}