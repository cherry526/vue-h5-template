{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\giftBag.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\src\\views\\active\\giftBag.vue","mtime":1596854692241},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\vip_inline_h5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3ZpcF9pbmxpbmVfaDUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9BZG1pbmlzdHJhdG9yL0Rlc2t0b3AvdmlwX2lubGluZV9oNS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Cgp2YXIgX25hbWUkbWl4aW5zJGNvbXB1dGVkOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucywgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCBzZWNraWxsTWl4aW4gZnJvbSAnQC9taXhpbnMvc2Vja2lsbE1peGluJzsKaW1wb3J0IGFjdGl2ZUhlYWRlciBmcm9tICdAY29tcG9uZW50cy9hY3RpdmUvYWN0aXZlSGVhZGVyJzsKaW1wb3J0IGFjdGl2ZUNhc2ggZnJvbSAnQGNvbXBvbmVudHMvYWN0aXZlL2FjdGl2ZUNhc2gnOwppbXBvcnQgYWN0aXZlR2lmdCBmcm9tICdAY29tcG9uZW50cy9hY3RpdmUvYWN0aXZlR2lmdCc7CmltcG9ydCBhY3RpdmVHaWZ0UmVhc29uIGZyb20gJ0Bjb21wb25lbnRzL2FjdGl2ZS9hY3RpdmVHaWZ0UmVhc29uJzsKaW1wb3J0IGFjdGl2ZUdyYXBoaWMgZnJvbSAnQGNvbXBvbmVudHMvYWN0aXZlL2FjdGl2ZUdyYXBoaWMnOwppbXBvcnQgYWN0aXZlRm9vdGVyIGZyb20gJ0Bjb21wb25lbnRzL2FjdGl2ZS9hY3RpdmVGb290ZXInOwppbXBvcnQgYWN0aXZlVXRpbHMgZnJvbSAnQC9maWx0ZXJzL2FjdGl2ZS5qcyc7CmltcG9ydCBvcmRlclBheSBmcm9tICJAL3V0aWxzL3BheSI7CmltcG9ydCB1dGlscyBmcm9tICJAL3V0aWxzL3V0aWxzIjsKZXhwb3J0IGRlZmF1bHQgKF9uYW1lJG1peGlucyRjb21wdXRlZCA9IHsKICBuYW1lOiAnZ2lmdEJhZycsCiAgbWl4aW5zOiBbc2Vja2lsbE1peGluXSwKICBjb21wdXRlZDoge30sCiAgY29tcG9uZW50czogewogICAgYWN0aXZlSGVhZGVyOiBhY3RpdmVIZWFkZXIsCiAgICBhY3RpdmVDYXNoOiBhY3RpdmVDYXNoLAogICAgYWN0aXZlR2lmdDogYWN0aXZlR2lmdCwKICAgIGFjdGl2ZUdpZnRSZWFzb246IGFjdGl2ZUdpZnRSZWFzb24sCiAgICBhY3RpdmVHcmFwaGljOiBhY3RpdmVHcmFwaGljLAogICAgYWN0aXZlRm9vdGVyOiBhY3RpdmVGb290ZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICByZWFkeTogZmFsc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBsaW1pdFRpbWVyOiBudWxsLAogICAgICBzaG93UG9wOiBmYWxzZSwKICAgICAgYnRuVGV4dDogJ+eri+WNs+aKoui0rScsCiAgICAgIGhlYWRsaW5lOiAnJywKICAgICAgc2hvd1RpbWU6IHRydWUsCiAgICAgIHJlbWFpblRpbWU6IDAsCiAgICAgIGNoYW5uZWxUeXBlOiAnJywKICAgICAgb3B0aW9uczogdGhpcy4kcm91dGUucXVlcnkgfHwge30sCiAgICAgIGJ0bkRpc2FibGVkOiBmYWxzZSwKICAgICAgLy8g5oyJ6ZKu5piv5ZCm5LiN5Y+v55SoCiAgICAgIGJ0bkZvbnRTaXplOiAnZnQzNCcsCiAgICAgIHNlbENhc2hyZWQ6IHt9LAogICAgICBzZWxDb25zdW1lcjoge30sCiAgICAgIGNvbmRpdGlvbkluZm86IHt9LAogICAgICB0cmFjdmVsVXNlckxpc3Q6IFtdLAogICAgICBzZWxEYXRlOiB7CiAgICAgICAgc3RhcnRUaW1lOiAnJwogICAgICB9LAogICAgICBpbmZvOiB7fSwKICAgICAgcmVjZWl2ZU9iajogewogICAgICAgIDI6ICfmlrDnlKjmiLcnLAogICAgICAgIDM6ICfkvJrlkZgnLAogICAgICAgIDQ6ICfpnZ7kvJrlkZgnCiAgICAgIH0sCiAgICAgIGRvd25UaW1lOiB7CiAgICAgICAgaG91cjogJzAwJywKICAgICAgICBtaW51dGU6ICcwMCcsCiAgICAgICAgc2Vjb25kOiAnMDAnCiAgICAgIH0KICAgIH07CiAgfQp9LCBfZGVmaW5lUHJvcGVydHkoX25hbWUkbWl4aW5zJGNvbXB1dGVkLCAiY29tcHV0ZWQiLCBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsibG9jYXRpb25JbmZvIiwgInd4VXNlciIsICJsb2NhdGlvbkNpdHkiLCAidmlwQ2FyZEluZm8iLCAidXBkYXRlR2lmdCJdKSkpLCBfZGVmaW5lUHJvcGVydHkoX25hbWUkbWl4aW5zJGNvbXB1dGVkLCAibWV0aG9kcyIsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwTXV0YXRpb25zKCdhY3RpdmUnLCBbJ1NFVF9VUERBVEVHSUZUJ10pKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7CiAgLy8g6K6+572u5o+Q6YaSCiAgcmVtaW5kU2V0OiBmdW5jdGlvbiByZW1pbmRTZXQoZSkge30sCiAgaGFuZGxlckxpbWl0OiBmdW5jdGlvbiBoYW5kbGVyTGltaXQocmVzLCBmbGFnKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmIChyZXMuaW5mby5saW1pdEFjdFN0YXRlID09IDggfHwgcmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSA5KSB7CiAgICAgIHJlcy5pbmZvLnRpbWVTdGF0ZSA9IDE7CiAgICAgIHRoaXMuaGVhZGxpbmUgPSBhY3RpdmVVdGlscy5nZXREYXlOYW1lKHJlcy5pbmZvLmxpbWl0U3RhcnRUaW1lKTsKICAgIH0gZWxzZSBpZiAocmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSAxIHx8IHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgPT0gMyB8fCByZXMuaW5mby5saW1pdEFjdFN0YXRlID09IDEwKSB7CiAgICAgIHJlcy5pbmZvLnRpbWVTdGF0ZSA9IDI7CiAgICB9IGVsc2UgaWYgKHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgPT0gMikgewogICAgICByZXMuaW5mby50aW1lU3RhdGUgPSAzOwogICAgfSBlbHNlIHsKICAgICAgLy8gMeacquW8gOWniyAy6L+b6KGM5LitIDPlt7Lnu5PmnZ8KICAgICAgdmFyIGN1cnJlbnRUaW1lID0gK25ldyBEYXRlKCk7CgogICAgICBpZiAocmVzLmluZm8ubGltaXRFbmRUaW1lIDwgY3VycmVudFRpbWUgJiYgcmVzLmluZm8ubGltaXRTdGFydFRpbWUgPCBjdXJyZW50VGltZSkgewogICAgICAgIHJlcy5pbmZvLnRpbWVTdGF0ZSA9IDM7CiAgICAgIH0gZWxzZSBpZiAocmVzLmluZm8ubGltaXRFbmRUaW1lID4gY3VycmVudFRpbWUgJiYgcmVzLmluZm8ubGltaXRTdGFydFRpbWUgPCBjdXJyZW50VGltZSkgewogICAgICAgIHJlcy5pbmZvLnRpbWVTdGF0ZSA9IDI7CiAgICAgIH0gZWxzZSBpZiAocmVzLmluZm8ubGltaXRTdGFydFRpbWUgPiBjdXJyZW50VGltZSkgewogICAgICAgIHJlcy5pbmZvLnRpbWVTdGF0ZSA9IDE7CiAgICAgICAgdGhpcy5oZWFkbGluZSA9IGFjdGl2ZVV0aWxzLmdldERheU5hbWUocmVzLmluZm8ubGltaXRTdGFydFRpbWUpOwogICAgICB9CiAgICB9CgogICAgaWYgKHJlcy5pbmZvLnRpbWVTdGF0ZSAhPSAzKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5saW1pdFRpbWVyKTsKICAgICAgdGhpcy5saW1pdFRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBub3dUaW1lID0gK25ldyBEYXRlKCk7CiAgICAgICAgdmFyIGN1dFRpbWUgPSAwOwoKICAgICAgICBpZiAocmVzLmluZm8udGltZVN0YXRlID09IDEpIHsKICAgICAgICAgIGN1dFRpbWUgPSByZXMuaW5mby5saW1pdFN0YXJ0VGltZSAtIG5vd1RpbWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGN1dFRpbWUgPSByZXMuaW5mby5saW1pdEVuZFRpbWUgLSBub3dUaW1lOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuZG93blRpbWUgPSB1dGlscy5jb3VudERvd24zKGN1dFRpbWUpOwoKICAgICAgICBpZiAoY3V0VGltZSA8PSAwICYmIHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgIT0gMTIpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMubGltaXRUaW1lcik7CgogICAgICAgICAgX3RoaXMuZ2V0QWN0RGV0YWlsKCk7CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuZG93blRpbWUgPSB7CiAgICAgICAgaG91cjogJzAwJywKICAgICAgICBtaW51dGU6ICcwMCcsCiAgICAgICAgc2Vjb25kOiAnMDAnCiAgICAgIH07CiAgICB9CgogICAgY29uc29sZS5sb2coJ3Jlcy4uLi4uLi4uLi4uJywgcmVzLmluZm8sIHRoaXMuZG93blRpbWUpOwoKICAgIGlmIChmbGFnKSB7CiAgICAgIC8vIOW3suaKouWujOa0u+WKqOW8ueeqlwogICAgICBpZiAocmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSAzIHx8IHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgPT0gMiB8fCAhdGhpcy5pbmZvLnJlbWFpbk51bSkgewogICAgICAgIHRoaXMuZ2V0RW5kQWN0aXZlKCk7CiAgICAgIH0KICAgIH0KICB9LAogIC8vIOOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguS8mOWMlue7k+adn+OAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAguOAggogIGNsb3NlUG9wOiBmdW5jdGlvbiBjbG9zZVBvcCgpIHsKICAgIHRoaXMuc2hvd1BvcCA9IGZhbHNlOwogIH0sCiAgLy8g56S85YyF54m55pyJ5L+h5oGvCiAgZ2V0R2lmdEluZm86IGZ1bmN0aW9uIGdldEdpZnRJbmZvKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIHRoaXMuJGFwaS5hY3RfZ2lmdF9pbmZvKHsKICAgICAgY2hhbm5lbFR5cGU6IHRoaXMuY2hhbm5lbFR5cGUsCiAgICAgIHFyQ29kZTogdGhpcy5xckNvZGUsCiAgICAgIGFjdFNuOiB0aGlzLmFjdFNuLAogICAgICBsYXQ6IHRoaXMubG9jYXRpb25JbmZvLmxhdGl0dWRlLAogICAgICBsbmc6IHRoaXMubG9jYXRpb25JbmZvLmxvbmdpdHVkZQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICB2YXIgY2FyZFN1bSA9IDA7CiAgICAgICAgcmVzLmluZm8uY2FyZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgY2FyZFN1bSArPSBpdGVtLmNhcmROdW07CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMyLmluZm8gPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAgIGNhcmRTdW06IGNhcmRTdW0KICAgICAgICB9LCBfdGhpczIuaW5mbywgcmVzLmluZm8pOwoKICAgICAgICBpZiAocmVzLmluZm8ucmVtYWluTnVtID09IDApIHsKICAgICAgICAgIF90aGlzMi5oYW5kbGVyQnRuKCflt7LllK7nvYQnLCB0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH0sCiAgaGFuZGxlckJ0bjogZnVuY3Rpb24gaGFuZGxlckJ0bih0ZXh0KSB7CiAgICB2YXIgZGlzYWJsZWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlOwogICAgdmFyIGZvbnRTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnZnQzNCc7CiAgICB0aGlzLmJ0blRleHQgPSB0ZXh0OwogICAgdGhpcy5idG5Gb250U2l6ZSA9IGZvbnRTaXplOwogICAgdGhpcy5idG5EaXNhYmxlZCA9IGRpc2FibGVkOwoKICAgIGlmIChkaXNhYmxlZCkgewogICAgICB0aGlzLnNob3dUaW1lID0gZmFsc2U7CiAgICB9CiAgfSwKICAvLyDliKTmlq3nlKjmiLfotK3kubDkv6Hmga8KICBnZXRSZWFsVGltZUluZm86IGZ1bmN0aW9uIGdldFJlYWxUaW1lSW5mbyhsaW1pdEZyZXF1ZW5jeSkgewogICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgcmV0dXJuIHRoaXMuJGFwaS5yZWFsVGltZV9pbmZvKHsKICAgICAgYWN0U246IHRoaXMuYWN0U24KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgX3RoaXMzLnJlYWxJbmZvID0gcmVzLmluZm87CiAgICAgIH0KICAgIH0pOwogIH0sCiAgZ2V0UmVjZWl2ZUNvbmRpdGlvbjogZnVuY3Rpb24gZ2V0UmVjZWl2ZUNvbmRpdGlvbigpIHsKICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgIHJldHVybiB0aGlzLiRhcGkucmVjZWl2ZV9jb25kaXRpb24oewogICAgICBhY3RTbjogdGhpcy5hY3RTbgogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGlmIChyZXMuc3RhdGUpIHsKICAgICAgICBfdGhpczQuY29uZGl0aW9uSW5mbyA9IHJlcy5pbmZvOwogICAgICB9CiAgICB9KTsKICB9LAogIC8vIOWkhOeQhueri+WNs+mihuWPlueahOaMiemSrgogIGhhbmRsZXJSZWNlaXZlQnRuOiBmdW5jdGlvbiBoYW5kbGVyUmVjZWl2ZUJ0bigpIHsKICAgIHZhciBoYXNSZWNlaXZlQ2hhbm5lbEZyZWVHaWZ0ID0gdGhpcy5pbmZvLmhhc1JlY2VpdmVDaGFubmVsRnJlZUdpZnQ7CiAgICB2YXIgY2hhbm5lbFR5cGUgPSB0aGlzLmNoYW5uZWxUeXBlOwogICAgdGhpcy5oYW5kbGVyQnRuKCfnq4vljbPpooblj5YnKTsKICAgIGlmIChoYXNSZWNlaXZlQ2hhbm5lbEZyZWVHaWZ0ICYmIGNoYW5uZWxUeXBlID09ICdDSEFOTkVMX0FDVElWSVRZX0xBQkVMX1NIT1cnKSB0aGlzLmhhbmRsZXJCdG4oJ+mihuWPluasoeaVsOW3sueUqOWujCcsIHRydWUpOwogIH0sCiAgLy8g6YCa55So5rS75Yqo6K+m5oOFCiAgZ2V0QWN0RGV0YWlsOiBmdW5jdGlvbiBnZXRBY3REZXRhaWwoZmxhZykgewogICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgdGhpcy4kVG9hc3QubG9hZGluZyh7CiAgICAgIG1lc3NhZ2U6ICfliqDovb3kuK0uLi4nLAogICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgZHVyYXRpb246IDAKICAgIH0pOwogICAgcmV0dXJuIHRoaXMuJGFwaS5hY3RfZGV0YWlsKHsKICAgICAgY2hhbm5lbFR5cGU6IHRoaXMuY2hhbm5lbFR5cGUsCiAgICAgIHFyQ29kZTogdGhpcy5xckNvZGUsCiAgICAgIGFjdFNuOiB0aGlzLmFjdFNuCiAgICB9KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXMpIHsKICAgICAgICB2YXIgdmlwVXNlciwgY2hhbm5lbFR5cGUsIHJlc3RyaWN0U3RhdGUsIHBhY2thZ2VHaWZ0VHlwZSwgaGFzUmVjZWl2ZUNoYW5uZWxGcmVlR2lmdCwgcmVtYWluTnVtLCBjaGFubmVsVHJhY2ssIHNlbGxQcmljZSwgbm9WaXBQcmljZSwgc3RhdGUsIGJ1eUxpbWl0LCB0b3RhbE51bSwgY29udGF0aW9uLCBleGNoYW5nZV9kYXRhLCByZW1haW5UaW1lOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghcmVzLnN0YXRlKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmVudW1LZXkgPSByZXMuaW5mby5jaGlsZEVudW1LZXk7CiAgICAgICAgICAgICAgICBfdGhpczUuc2hvd1NoYXJlID0gdHJ1ZTsgLy8g5aSE55CG6ZmQ5pe255qE5YCS6K6h5pe2562J6Zeu6aKYIAoKICAgICAgICAgICAgICAgIGlmIChyZXMuaW5mby5jaGlsZEVudW1LZXkgPT0gJ0FDVF9HSUZUX1BBQ0tBR0VfUFVSQ0hBU0VfTElNSVQnKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyTGltaXQocmVzLCBmbGFnKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXMuaW5mby5jaGFubmVsVHlwZSA9IF90aGlzNS5jaGFubmVsVHlwZSB8fCAnJzsKICAgICAgICAgICAgICAgIF90aGlzNS5pbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgX3RoaXM1LmluZm8sIHJlcy5pbmZvKTsKICAgICAgICAgICAgICAgIF90aGlzNS5yZW1haW5UaW1lID0gcmVzLmluZm8ucmVtYWluVGltZTsKICAgICAgICAgICAgICAgIF90aGlzNS5zaG93VGltZSA9IHJlcy5pbmZvLnNob3dUaW1lOwogICAgICAgICAgICAgICAgX3RoaXM1LnJlYWR5ID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbmZvLi4uLi4uLi4uLicsIF90aGlzNS5pbmZvKTsgLy8g5oyJ6ZKu5paH5a2XCgogICAgICAgICAgICAgICAgdmlwVXNlciA9IF90aGlzNS52aXBDYXJkSW5mby52aXBVc2VyOwogICAgICAgICAgICAgICAgX3RoaXM1LnZpcFVzZXIgPSBfdGhpczUudmlwQ2FyZEluZm8udmlwVXNlcjsKICAgICAgICAgICAgICAgIGNoYW5uZWxUeXBlID0gX3RoaXM1LmNoYW5uZWxUeXBlOwogICAgICAgICAgICAgICAgcmVzdHJpY3RTdGF0ZSA9IF90aGlzNS5pbmZvLnJlc3RyaWN0U3RhdGU7CiAgICAgICAgICAgICAgICBwYWNrYWdlR2lmdFR5cGUgPSBfdGhpczUuaW5mby5wYWNrYWdlR2lmdFR5cGU7CiAgICAgICAgICAgICAgICBoYXNSZWNlaXZlQ2hhbm5lbEZyZWVHaWZ0ID0gX3RoaXM1LmluZm8uaGFzUmVjZWl2ZUNoYW5uZWxGcmVlR2lmdDsKICAgICAgICAgICAgICAgIHJlbWFpbk51bSA9IF90aGlzNS5pbmZvLnJlbWFpbk51bTsKICAgICAgICAgICAgICAgIGNoYW5uZWxUcmFjayA9IF90aGlzNS5pbmZvLmNoYW5uZWxUcmFjazsKICAgICAgICAgICAgICAgIHNlbGxQcmljZSA9IF90aGlzNS5pbmZvLnNlbGxQcmljZTsKICAgICAgICAgICAgICAgIG5vVmlwUHJpY2UgPSBfdGhpczUuaW5mby5ub1ZpcFByaWNlOwogICAgICAgICAgICAgICAgc3RhdGUgPSByZXMuaW5mby5hY3RTdGF0ZTsKICAgICAgICAgICAgICAgIGJ1eUxpbWl0ID0gcmVzLmluZm8uYnV5TGltaXQ7CgogICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDEpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+acquW8gOWniycsIHRydWUpOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LllK7nvYQnLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdGUgPT0gNCkgewogICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey57uT5p2fJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlID09IDUpIHsKICAgICAgICAgICAgICAgICAgLy8gIOS8muWRmAogICAgICAgICAgICAgICAgICBpZiAodmlwVXNlcikgewogICAgICAgICAgICAgICAgICAgIGlmIChzZWxsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5ZSu572EJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfpooblj5bmrKHmlbDlt7LnlKjlrownLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1eUxpbWl0ID09IDEgJiYgbm9WaXBQcmljZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LllK7nvYQnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJ1eUxpbWl0ID09IDEgJiYgbm9WaXBQcmljZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign6aKG5Y+W5qyh5pWw5bey55So5a6MJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChidXlMaW1pdCA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5ZSu572EJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIOWklumDqOa4oOmBk+i/m+WFpQoKCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gMikgewogICAgICAgICAgICAgICAgICAvLyAuLi4uLi4uLi4uLi4uLuWklumDqOa4oOmBk+ekvOWMheS4uuWUruWNluWeiy4uLi4uLi4uLi4uLi4uLi4uLi4uCiAgICAgICAgICAgICAgICAgIGlmIChjaGFubmVsVHJhY2sgPyBwYWNrYWdlR2lmdFR5cGUgPT0gMSA6IHJlc3RyaWN0U3RhdGUgPT0gMikgewogICAgICAgICAgICAgICAgICAgIGlmIChyZW1haW5OdW0gPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign56uL5Y2z6LSt5LmwJyk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgIC8vICDkvJrlkZgKICAgICAgICAgICAgICAgICAgICAgIGlmICh2aXBVc2VyKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxsUHJpY2UgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+W3suWUrue9hCcsIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfpooblj5bmrKHmlbDlt7LnlKjlrownLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1eUxpbWl0ID09IDEgJiYgbm9WaXBQcmljZSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5ZSu572EJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV5TGltaXQgPT0gMSAmJiBub1ZpcFByaWNlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign6aKG5Y+W5qyh5pWw5bey55So5a6MJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnV5TGltaXQgPT0gMikgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LllK7nvYQnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gLy8g5LuF5Lya5ZGY5Y+v6LSt5Lmw5pe277yM6Z2e5Lya5ZGY5pi+56S6CgoKICAgICAgICAgICAgICAgICAgICBpZiAoYnV5TGltaXQgPT0gMiAmJiAhdmlwVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+W8gOmAmuW5tui0reS5sCcpOwogICAgICAgICAgICAgICAgICAgIH0gLy8g5LuF5Lya5ZGY5Y+v6LSt5Lmw77yM5Lya5ZGY5Lu35Li6MO+8jOmdnuS8muWRmOinhuinkgoKCiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1eUxpbWl0ID09IDIgJiYgIXNlbGxQcmljZSAmJiAhdmlwVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1Lm9wZW5fcmVjZWl2ZSA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+W8gOmAmuW5tumihuWPlicpOwogICAgICAgICAgICAgICAgICAgIH0gLy8uLi4uLi4uLi4uLi4uLi4uLueri+WNs+mihuWPlueahOaMiemSruW8gOWniy4uLi4uLi4uLi4uLi4uLi4uLi4KICAgICAgICAgICAgICAgICAgICAvLyDku4XkvJrlkZjlj6/otK3kubDvvIzkvJrlkZjku7fkuLow77yM5Lya5ZGY6KeG6KeSCgoKICAgICAgICAgICAgICAgICAgICBpZiAoYnV5TGltaXQgPT0gMiAmJiAhc2VsbFByaWNlICYmIHZpcFVzZXIpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyUmVjZWl2ZUJ0bihzdGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgfSAvLyDmiYDmnInkurrlj6/otK3kubDvvIzkvJrlkZjku7fjgIHpnZ7kvJrlkZjku7fpg73kuLow77yM5omA5pyJ5Lq66KeG6KeSCgoKICAgICAgICAgICAgICAgICAgICBpZiAoYnV5TGltaXQgPT0gMSAmJiAhc2VsbFByaWNlICYmICFub1ZpcFByaWNlKSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlclJlY2VpdmVCdG4oc3RhdGUpOwogICAgICAgICAgICAgICAgICAgIH0gLy8g5omA5pyJ5Lq65Y+v6LSt5Lmw77yM5Lya5ZGY5Lu344CB6Z2e5Lya5ZGY5Lu36YO95Li6MO+8jOaJgOacieS6uuinhuinkgoKCiAgICAgICAgICAgICAgICAgICAgaWYgKGJ1eUxpbWl0ID09IDEgJiYgIXNlbGxQcmljZSAmJiAhbm9WaXBQcmljZSkgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJSZWNlaXZlQnRuKHN0YXRlKTsKICAgICAgICAgICAgICAgICAgICB9IC8vIOaJgOacieS6uuWPr+i0reS5sO+8jOS8muWRmOS7t+OAgemdnuS8muWRmOS7t+mDveS4ujDvvIzmiYDmnInkurrop4bop5IKCgogICAgICAgICAgICAgICAgICAgIGlmIChidXlMaW1pdCA9PSAxICYmICFzZWxsUHJpY2UgJiYgdmlwVXNlcikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJSZWNlaXZlQnRuKHN0YXRlKTsKICAgICAgICAgICAgICAgICAgICB9IC8vLi4uLi4uLi4uLi4uLi4uLi7nq4vljbPpooblj5bnmoTmjInpkq7nu5PmnZ8uLi4uLi4uLi4uLi4uLi4uLi4uCgogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxUcmFjayA/IHBhY2thZ2VHaWZ0VHlwZSA9PSAyIDogcmVzdHJpY3RTdGF0ZSA9PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgLy8gLi4uLi4uLi4uLi4uLi7lpJbpg6jmuKDpgZPnpLzljIXkuLrlhY3otLnpooblj5blnosuLi4uLi4uLi4uLi4uLi4uCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbk51bSA+IDApIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfnq4vljbPpooblj5YnKTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+W3suWUrue9hCcsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc1JlY2VpdmVDaGFubmVsRnJlZUdpZnQgJiYgY2hhbm5lbFR5cGUgPT0gJ0NIQU5ORUxfQUNUSVZJVFlfTEFCRUxfU0hPVycpIHsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfpooblj5bmrKHmlbDlt7LnlKjlrownLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gLy8uLi4uLi4uLi4uLi4uLi4uLi4uLumihuWPluasoeaVsOS4jui0reS5sOasoeaVsOaYr+WQpuW3sueUqOWujC4uLi4uLi4uLi4uLi4uLi4gCgoKICAgICAgICAgICAgICAgICAgdG90YWxOdW0gPSBOdW1iZXIoX3RoaXM1LnJlYWxJbmZvLnVzZXJCdXlOdW0pICsgTnVtYmVyKF90aGlzNS5yZWFsSW5mby51c2VyRnJlZVJlY2VpdmVOdW0pOyAvLyDlvZPliY3nlKjmiLfnmoTotK3kubDmlbDph4/lkozpooblj5bmlbDph4/mgLvlkowKCiAgICAgICAgICAgICAgICAgIGNvbnRhdGlvbiA9IHJlcy5pbmZvLmJ1eUxpbWl0ID09IDEgJiYgIXJlcy5pbmZvLnNlbGxQcmljZSAmJiAhcmVzLmluZm8ubm9WaXBQcmljZSB8fCByZXMuaW5mby5idXlMaW1pdCA9PSAyICYmICFyZXMuaW5mby5zZWxsUHJpY2U7IC8vIOWIpOaWreW3sumihuWPlueahOeKtuaAgQogICAgICAgICAgICAgICAgICAvLyDliKTmlq3mmK/lkKbpmZDliLbotK3kubAKCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuaW5mby5saW1pdFN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdGFsTnVtID49IHJlcy5pbmZvLmxpbWl0RnJlcXVlbmN5KSB7CiAgICAgICAgICAgICAgICAgICAgICAvLyDnlKjmiLfmgLvmiJDlip/otK3kubDmlbDph4/lpKfkuo7pmZDliLbotK3kubDmlbDph48KICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LotK3kubAnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGlmICh0b3RhbE51bSA+PSByZXMuaW5mby5saW1pdEZyZXF1ZW5jeSAmJiBjb250YXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgIC8vIOW9k+WJjeeUqOaIt+W9k+WJjea0u+WKqOS4reaAu+WFjei0uemihuWPluaVsOmHj+Wkp+S6jumZkOWItumihuWPluaVsOmHjwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+mihuWPluasoeaVsOW3sueUqOWujCcsIHRydWUpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSAvLyDliKTmlq3kuLrlhZHmjaLkuK3lv4Pov5vlhaUKCgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5oYXNFeGNoYW5nZSAhPSAnJykgewogICAgICAgICAgICAgICAgICBleGNoYW5nZV9kYXRhID0gX3RoaXM1LmV4Y2hhbmdlX2RhdGE7IC8vIOWFkeaNouS4reW/g+a0u+WKqOaVsOaNrgoKICAgICAgICAgICAgICAgICAgaWYgKGV4Y2hhbmdlX2RhdGEuaGFzRXhjaGFuZ2UpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5YWR5o2iJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2hhbmdlX2RhdGEucmVtYWluTnVtID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2hhbmdlX2RhdGEuc3RhdGUgIT0gMikgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey57uT5p2fJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhjaGFuZ2VfZGF0YS5jb25kaXRpb24pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign56uL5Y2z5YWR5o2iJywgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfnq4vljbPlhZHmjaInLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5YWR5a6MJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IC8vIC4uLi4uLi4uLi4uLi4uLi4u5LyY5YyW5paw5aKeLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLgogICAgICAgICAgICAgICAgLy8g5Yik5pat5LuO6ZmQ6LSt6L+b5YWlCgoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNS5pbmZvLmNoaWxkRW51bUtleSA9PSAnQUNUX0dJRlRfUEFDS0FHRV9QVVJDSEFTRV9MSU1JVCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5pbmZvLnJlbWFpbk51bSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LmiqLlrownLCB0cnVlKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIGlmIChyZXMuaW5mby5hY3RTdGF0ZSA9PSAxMSB8fCByZXMuaW5mby5hY3RTdGF0ZSA9PSAzKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LmiqLlrownLCB0cnVlKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8vIGlmIChyZXMuaW5mby5saW1pdEFjdFN0YXRlID09IDgpIHsKICAgICAgICAgICAgICAgICAgLy8gICB0aGlzLmhhbmRsZXJCdG4oJ+mihOe6puaPkOmGkicsIGZhbHNlKQogICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgPT0gOSkgewogICAgICAgICAgICAgICAgICAvLyAgIHRoaXMuaGFuZGxlckJ0bign5bey6aKE57qmJywgZmFsc2UpCiAgICAgICAgICAgICAgICAgIC8vIH0gCiAgICAgICAgICAgICAgICAgIGlmIChyZXMuaW5mby5saW1pdEFjdFN0YXRlID09IDggfHwgcmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSA5KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+acquW8gOWniycsIHRydWUpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5pbmZvLmxpbWl0QWN0U3RhdGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCfnq4vljbPmiqLotK0nLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSAxMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNS5oYW5kbGVyQnRuKCflt7LotK3kubAnLCB0cnVlKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXMuaW5mby5saW1pdEFjdFN0YXRlID09IDMpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczUuaGFuZGxlckJ0bign5bey5oqi5a6MJywgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSAyKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LmhhbmRsZXJCdG4oJ+W3suaKouWujCcsIHRydWUpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBfdGhpczUuc2hvd0J0blR4dCA9IHRydWU7IC8vIOWmguaenOmcgOimgeaYvuekuuWAkuiuoeaXtgoKICAgICAgICAgICAgICAgIGlmIChfdGhpczUuc2hvd1RpbWUgJiYgX3RoaXM1LmluZm8uY2hpbGRFbnVtS2V5ICE9ICdBQ1RfR0lGVF9QQUNLQUdFX1BVUkNIQVNFX0xJTUlUJykgewogICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzNS50aW1lcik7CiAgICAgICAgICAgICAgICAgIHJlbWFpblRpbWUgPSByZXMuaW5mby5yZW1haW5UaW1lOwogICAgICAgICAgICAgICAgICBfdGhpczUudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpblRpbWUgPj0gMTAwMCkgewogICAgICAgICAgICAgICAgICAgICAgcmVtYWluVGltZSAtPSAxMDAwOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKF90aGlzNS50aW1lcik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBfdGhpczUucmVtYWluVGltZSA9IHJlbWFpblRpbWUgfHwgMDsKICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM1LmdldENhc2hOdW0oKTsgLy8g6I635Y+W5rS75Yqo57qi5YyF5b2T5YmN5Lqr55So5pyA5aSn57qi5YyFCgoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDM1OgogICAgICAgICAgICAgICAgX3RoaXM1LmJhY2tfdG8ocmVzKTsKCiAgICAgICAgICAgICAgY2FzZSAzNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzNS4kVG9hc3QuY2xlYXIoKTsKICAgIH0pOwogIH0sCiAgLy8g6aKG5Y+W56S85YyF5o6l5Y+j6LCD55SoCiAgLy8gcmVjZWl2ZVR5cGUg6I635Y+W5pa55byP77yMMeS8muWRmOmihuWPlu+8jDLkvJrlkZjotK3kubDvvIwz5rig6YGT6LSt5LmwCiAgcmVjZWl2ZUdpZnQ6IGZ1bmN0aW9uIHJlY2VpdmVHaWZ0KCkgewogICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgdmFyIHJlY2VpdmVUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgdmFyIGNvbmRpdGlvbkluZm8gPSB0aGlzLmNvbmRpdGlvbkluZm87CiAgICB2YXIgdHJhY3ZlbFVzZXJMaXN0ID0gdGhpcy50cmFjdmVsVXNlckxpc3Q7CgogICAgaWYgKGNvbmRpdGlvbkluZm8uaXNDb25kaXRpb24gJiYgdHJhY3ZlbFVzZXJMaXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgIC8vIOWIpOaWreaYr+WQpumcgOaxguWhq+WGmeS/oeaBrwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3RyYXZlbEluZm9ybWF0aW9uJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgYWN0U246IHRoaXMub3B0aW9ucy5hY3RTbgogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICB2YXIgYWN0RGVhbCA9IG9yZGVyUGF5LmFjdERlYWwoewogICAgICBjaXR5SWQ6IHRoaXMubG9jYXRpb25DaXR5LmNpdHlJZCwKICAgICAgYWN0U246IHRoaXMuYWN0U24sCiAgICAgIGRlYWxOdW06IDEsCiAgICAgIGNoYW5uZWxUeXBlOiB0aGlzLmNoYW5uZWxUeXBlLAogICAgICByZWFsRmVlOiAwLAogICAgICByZWNlaXZlVHlwZTogcmVjZWl2ZVR5cGUsCiAgICAgIG9wZW5WaXA6IGZhbHNlLAogICAgICAvL+aYr+WQpuW8gOmAmuaciOWNoeS8muWRmOW5tui0reS5sAogICAgICBhY3RGZWU6IDAsCiAgICAgIC8v5rS75Yqo5pSv5LuY6LS555SoCiAgICAgIHZpcEZlZTogMCwKICAgICAgdmlwQ2FyZElkOiAnJywKICAgICAgYnV5VHlwZTogMCwKICAgICAgcXJDb2RlOiB0aGlzLnFyQ29kZSwKICAgICAgY29tcElkOiB0aGlzLmNvbXBJZCwKICAgICAgLy8g5ZCI6L6RSWQKICAgICAgY2hvb3NlRGF0ZTogdGhpcy5zZWxEYXRlLnN0YXJ0VGltZSA/IHV0aWxzLmZvcm1hdFRpbWUodGhpcy5zZWxEYXRlLnN0YXJ0VGltZSB8fCAwLCAnWVlZWU1NREQnKSA6IDAsCiAgICAgIC8vIOiHquaIkea4uOmAieaLqeaXtumXtAogICAgICB0cmFjdmVsVXNlckxpc3Q6IEpTT04uc3RyaW5naWZ5KHRoaXMudHJhY3ZlbFVzZXJMaXN0KQogICAgfSk7CgogICAgaWYgKGFjdERlYWwpIHsKICAgICAgYWN0RGVhbC50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgICAvLyDmlLnlj5jlhajlsYDog73lkKblhY3otLnpooblj5bnpLzljIXnmoTnirbmgIEKICAgICAgICAgIF90aGlzNi5TRVRfVVBEQVRFR0lGVCh0cnVlKTsgLy8g5riF6Zmk55So5oi35aGr5YaZ5L+h5oGvCgoKICAgICAgICAgIF90aGlzNi4kc2F2ZS5yZW1vdmUoJ3Nlc3Npb24nLCAndHJhdmVsSW5mb3JtYXRpb24nKTsKCiAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ2dpZnRCYWdTdWNjZXNzJywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICB0cmFkZUlkOiByZXMuaW5mby50cmFkZUlkLAogICAgICAgICAgICAgIGFjdE5hbWU6IF90aGlzNi5pbmZvLmFjdE5hbWUsCiAgICAgICAgICAgICAgcmVjZWl2ZTogMSwKICAgICAgICAgICAgICBhY3RTbjogX3RoaXM2LmFjdFNuCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOyAvLyDot7Povazpooblj5bmiJDlip/pobUKICAgICAgICAgIC8vIHd4Lm5hdmlnYXRlVG8oewogICAgICAgICAgLy8gICB1cmw6IGAvcGFnZXMvYWN0aXZpdHkvZ2lmdF9iYWdfZGV0YWlsL3N1Y2Nlc3Mvc3VjY2Vzcz90cmFkZUlkPSR7cmVzLmluZm8udHJhZGVJZH0mYWN0TmFtZT0ke3RoaXMuaW5mby5hY3ROYW1lfSZyZWNlaXZlPTEmYWN0U249JHt0aGlzLmFjdFNufWAsCiAgICAgICAgICAvLyAgIHN1Y2Nlc3M6IChyZXN1bHQpPT57CiAgICAgICAgICAvLyAgICAgdGhpcy5zZXREYXRhKHsKICAgICAgICAgIC8vICAgICAgIGlzQ2FuQ2xpY2s6IGZhbHNlIAogICAgICAgICAgLy8gICAgIH0pCiAgICAgICAgICAvLyAgIH0KICAgICAgICAgIC8vIH0pOwoKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgLy8g5Yik5pat5piv5ZCm5pyJ5pyq5pSv5LuY55qE6K6i5Y2VCiAgLy8gcmVjZWl2ZVR5cGUg6I635Y+W5pa55byP77yMMeS8muWRmOmihuWPlu+8jDLkvJrlkZjotK3kubDvvIwz5rig6YGT6LSt5LmwCiAgb3JkZXJVbnBheTogZnVuY3Rpb24gb3JkZXJVbnBheShyZWNlaXZlVHlwZSkgewogICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgdGhpcy4kc2F2ZS5zZXQoJ3Nlc3Npb24nLCAnb3JkZXJJbmZvJywgdGhpcy5pbmZvKTsKICAgIGNvbnNvbGUubG9nKCd0aGlzLmluZm8nLCB0aGlzLmluZm8pOwogICAgaWYgKHRoaXMuaXNDYW5DbGljazIpIHJldHVybjsKICAgIHRoaXMuaXNDYW5DbGljazIgPSB0cnVlOwogICAgdGhpcy4kYXBpLm9yZGVyX3VucGF5KHsKICAgICAgYWN0U246IHRoaXMuYWN0U24KICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgaWYgKHJlcy5pbmZvLmV4aXN0c1VuUGF5KSB7CiAgICAgICAgICAvLyDlpoLmnpzlrZjlnKjmnKrmlK/ku5jnmoTorqLljZXvvIzot7PovazliLDorqLljZXliJfooajpobUKICAgICAgICAgIF90aGlzNy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAnb3JkZXJMaXN0JwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNy5qdW1wU3VibWl0KHJlY2VpdmVUeXBlKTsKCiAgICAgICAgICBfdGhpczcuaXNDYW5DbGljazIgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXM3LmlzQ2FuQ2xpY2syID0gZmFsc2U7CiAgICB9KTsKICB9LAogIC8vIOi3s+i9rOi0reS5sOmhtemdogogIGp1bXBTdWJtaXQ6IGZ1bmN0aW9uIGp1bXBTdWJtaXQocmVjZWl2ZVR5cGUpIHsKICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ3N1Ym1pdE9yZGVyJywKICAgICAgcXVlcnk6IHsKICAgICAgICBxckNvZGU6IHRoaXMub3B0aW9ucy5xckNvZGUgfHwgJycsCiAgICAgICAgY29tcElkOiB0aGlzLm9wdGlvbnMuY29tcElkIHx8ICcnLAogICAgICAgIGFjdFNuOiB0aGlzLm9wdGlvbnMuYWN0U24sCiAgICAgICAgY2hhbm5lbFR5cGU6IHRoaXMub3B0aW9ucy5jaGFubmVsVHlwZSwKICAgICAgICByZWNlaXZlVHlwZTogcmVjZWl2ZVR5cGUKICAgICAgfQogICAgfSk7CiAgfSwKICAvLyDpnZ7kvJrlkZjlvIDpgJrlubbpooblj5YKICBvcGVuUmVjZWl2ZTogZnVuY3Rpb24gb3BlblJlY2VpdmUoKSB7CiAgICB0aGlzLiRzZXQodGhpcy5pbmZvLCAnc2VsbFByaWNlJywgMCk7CiAgICB0aGlzLiRzZXQodGhpcy5pbmZvLCAnbm9WaXBQcmljZScsIDApOwogICAgdGhpcy4kc2F2ZS5zZXQoJ3Nlc3Npb24nLCAnb3JkZXJJbmZvJywgdGhpcy5pbmZvKTsgLy8g6Z2e5Lya5ZGY5byA6YCa5bm26aKG5Y+WCgogICAgdmFyIHJlY2VpdmVUeXBlID0gdGhpcy5jaGFubmVsVHlwZSA9PSAnQ0hBTk5FTF9BQ1RJVklUWV9MQUJFTF9TSE9XJyA/IDQgOiAxOwogICAgdGhpcy5qdW1wU3VibWl0KHJlY2VpdmVUeXBlKTsKICB9LAogIGhhbmRsZXJMaW1pdEV2ZW50OiBmdW5jdGlvbiBoYW5kbGVyTGltaXRFdmVudCgpIHsKICAgIGlmICh0aGlzLmluZm8ubGltaXRBY3RTdGF0ZSA9PSAxMikgewogICAgICB0aGlzLiRUb2FzdCgn5b2T5YmN5ZCI6L6R6Z2e6L+b6KGM5Lit54q25oCBJyk7CiAgICB9IGVsc2UgewogICAgICBpZiAodGhpcy5idG5UZXh0ID09ICfnq4vljbPmiqLotK0nKSB7CiAgICAgICAgdGhpcy4kc2F2ZS5zZXQoJ3Nlc3Npb24nLCAnb3JkZXJJbmZvJywgdGhpcy5pbmZvKTsKICAgICAgICB0aGlzLmp1bXBTdWJtaXQoMik7CiAgICAgIH0KICAgIH0KICB9LAoKICAvKioKICAqIOmihuWPluaIluiAheaKoui0reekvOWMhQogICAgICByZXN0cmljdFN0YXRlICDmmK/lkKblj6/otK3kubDvvJox5ZCmIDLmmK8KICAgICAgcmVjZWl2ZVR5cGU6IOWklumDqOa4oOmBk3sKICAgICAgICDotK3kubDvvJogMwogICAgICAgIOWFjei0uemihjogIDEKICAgICAgfQogICovCiAgZ2V0R2lmdDogZnVuY3Rpb24gZ2V0R2lmdCgpIHsKICAgIHZhciB2aXBVc2VyID0gdGhpcy52aXBDYXJkSW5mby52aXBVc2VyOwogICAgdmFyIGlzbmV3VXNlciA9IHRoaXMucmVhbEluZm8ubmV3VXNlcjsKICAgIHZhciBwYWNrYWdlR2lmdFR5cGUgPSB0aGlzLmluZm8ucGFja2FnZUdpZnRUeXBlOyAvLyAx5ZSu5Y2WIDLlhY3otLnpooYKCiAgICB2YXIgZnJlZVJlY2VpdmVUeXBlID0gdGhpcy5pbmZvLmZyZWVSZWNlaXZlVHlwZTsgLy8gMeaJgOacieS6uuWPr+mihuWPliAy5LuF6ZmQ5paw55So5oi3IDPku4XpmZDkvJrlkZggNOS7hemZkOmdnuS8muWRmAoKICAgIHZhciByZXN0cmljdFN0YXRlID0gdGhpcy5pbmZvLnJlc3RyaWN0U3RhdGU7CiAgICB2YXIgY2hhbm5lbFRyYWNrID0gdGhpcy5pbmZvLmNoYW5uZWxUcmFjazsgLy8g6YCa6L+H6L+Z5Liq5a2X5q6177yM5Yik5pat55SocGFja2FnZUdpZnRUeXBl6L+Y5pivcmVzdHJpY3RTdGF0ZeWtl+autQoKICAgIHZhciBqdW1wU2F0ZSA9IGZhbHNlOyAvLyDnlKjmnaXliKTmlq3mmK/lkKbmj5DnpLrku4XpmZDmn5DnlKjmiLfpooblj5YKCiAgICBpZiAoZnJlZVJlY2VpdmVUeXBlID09IDEpIHsKICAgICAgLy8g5omA5pyJ5Lq65Y+v6aKG5Y+WCiAgICAgIGp1bXBTYXRlID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZnJlZVJlY2VpdmVUeXBlID09IDIgJiYgaXNuZXdVc2VyKSB7CiAgICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuS4uuaWsOeUqOaItwogICAgICBqdW1wU2F0ZSA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGZyZWVSZWNlaXZlVHlwZSA9PSAzICYmIHZpcFVzZXIpIHsKICAgICAgLy8g5Yik5pat5piv5ZCm5LuF5Lya5ZGY6aKG5Y+WCiAgICAgIGp1bXBTYXRlID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZnJlZVJlY2VpdmVUeXBlID09IDQgJiYgIXZpcFVzZXIpIHsKICAgICAgLy8g5Yik5pat5piv5ZCm5LuF6Z2e5Lya5ZGY6aKG5Y+WCiAgICAgIGp1bXBTYXRlID0gdHJ1ZTsKICAgIH0gLy8g5aaC5p6c5piv5byA6YCa5bm26aKG5Y+WCgoKICAgIGlmICh0aGlzLm9wZW5fcmVjZWl2ZSkgewogICAgICB0aGlzLiRzZXQodGhpcy5pbmZvLCAnc2VsbFByaWNlJywgMCk7CiAgICAgIHRoaXMuJHNldCh0aGlzLmluZm8sICdub1ZpcFByaWNlJywgMCk7CiAgICB9CgogICAgdGhpcy4kc2F2ZS5zZXQoJ3Nlc3Npb24nLCAnb3JkZXJJbmZvJywgdGhpcy5pbmZvKTsKCiAgICBpZiAodGhpcy5oYXNFeGNoYW5nZSAhPSAnJykgewogICAgICAvLyDliKTmlq3lhZHlpZbkuK3lv4Pov5vlhaUg56uL5Y2z5YWR5o2iCiAgICAgIHZhciBjb25kaXRpb25JbmZvID0gdGhpcy5jb25kaXRpb25JbmZvOwogICAgICB2YXIgdHJhY3ZlbFVzZXJMaXN0ID0gdGhpcy50cmFjdmVsVXNlckxpc3Q7CgogICAgICBpZiAoY29uZGl0aW9uSW5mby5pc0NvbmRpdGlvbiAmJiB0cmFjdmVsVXNlckxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAvLyDliKTmlq3mmK/lkKbpnIDmsYLloavlhpnkv6Hmga8KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAndHJhdmVsSW5mb3JtYXRpb24nLAogICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgYWN0U246IHRoaXMub3B0aW9ucy5hY3RTbgogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKCF0aGlzLmJ0bkRpc2FibGVkKSB0aGlzLmV4Y2hhbmdlKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuaW5mby5jaGlsZEVudW1LZXkgPT0gJ0FDVF9HSUZUX1BBQ0tBR0VfUFVSQ0hBU0VfTElNSVQnKSB7CiAgICAgIHRoaXMuaGFuZGxlckxpbWl0RXZlbnQoKTsKICAgIH0gZWxzZSBpZiAodGhpcy5pbmZvLmFjdFN0YXRlID09IDIpIHsKICAgICAgLy8g5Yik5pat5piv5ZCm5piv5LuO5aSW6YOo5rig6YGT6L+b5YWl77yM5aSW6YOo5rig6YGT6L+b5YWl5pe277yM5aaC5p6c6YWN572u55So5oi35Y+v6LSt5Lmw77yM6Z2e5Lya5ZGY5Lmf5Y+v6LSt5Lmw56S85YyFCiAgICAgIHZhciBidXlMaW1pdCA9IHRoaXMuaW5mby5idXlMaW1pdDsKICAgICAgdmFyIHNlbGxQcmljZSA9IHRoaXMuaW5mby5zZWxsUHJpY2U7CiAgICAgIHZhciBub1ZpcFByaWNlID0gdGhpcy5pbmZvLm5vVmlwUHJpY2U7CiAgICAgIHZhciBidXlTdGF0ZSA9IGZhbHNlOyAvLyAg5omA5pyJ5Lq6ICAg5LyaIDAgICDpnZ4gMAoKICAgICAgaWYgKGJ1eUxpbWl0ID09IDEgJiYgbm9WaXBQcmljZSA9PSAwICYmIHNlbGxQcmljZSA9PSAwKSB7CiAgICAgICAgYnV5U3RhdGUgPSBmYWxzZTsgLy8gIOS8muWRmOi6q+S7vQogICAgICB9IGVsc2UgaWYgKHZpcFVzZXIgJiYgc2VsbFByaWNlID4gMCkgewogICAgICAgIGJ1eVN0YXRlID0gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICghdmlwVXNlcikgewogICAgICAgIGJ1eVN0YXRlID0gYnV5TGltaXQgPT0gMiA/IHRydWUgOiBub1ZpcFByaWNlID4gMDsKICAgICAgfQoKICAgICAgaWYgKGNoYW5uZWxUcmFjayA/IHBhY2thZ2VHaWZ0VHlwZSA9PSAxIDogcmVzdHJpY3RTdGF0ZSA9PSAyKSB7CiAgICAgICAgaWYgKGJ1eVN0YXRlKSB7CiAgICAgICAgICAvLyDotK3kubDnpLzljIUKICAgICAgICAgIC8vIOWmguaenOaYr+WklumDqOa4oOmBk+W5tuS4lOaYr+mihuWPlueKtuaAge+8jHJlY2VpdmVUeXBl5Li6NO+8jOi0reS5sOeKtuaAgXJlY2VpdmVUeXBl5Li6MgogICAgICAgICAgdmFyIHJlY2VpdmVUeXBlID0gdGhpcy5jaGFubmVsVHlwZSA9PSAnQ0hBTk5FTF9BQ1RJVklUWV9MQUJFTF9TSE9XJyAmJiB0aGlzLm9wZW5fcmVjZWl2ZSA/IDQgOiAyOwoKICAgICAgICAgIGlmIChidXlMaW1pdCA9PSAyICYmIHNlbGxQcmljZSA9PSAwKSB7CiAgICAgICAgICAgIHJlY2VpdmVUeXBlID0gMTsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLm9yZGVyVW5wYXkocmVjZWl2ZVR5cGUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDkvb/nlKjlrZfmrrVyZXN0cmljdFN0YXRl5Yik5patCiAgICAgICAgICB0aGlzLnJlY2VpdmVHaWZ0KDQpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChjaGFubmVsVHJhY2sgPyBwYWNrYWdlR2lmdFR5cGUgPT0gMiA6IHJlc3RyaWN0U3RhdGUgPT0gMSkgewogICAgICAgIC8vIOWFjei0uemihgogICAgICAgIGlmIChjaGFubmVsVHJhY2spIHsKICAgICAgICAgIC8vIOS9v+eUqOWtl+autXBhY2thZ2VHaWZ0VHlwZeWIpOaWrQogICAgICAgICAgaWYgKGZyZWVSZWNlaXZlVHlwZSAhPSAxICYmICFqdW1wU2F0ZSkgewogICAgICAgICAgICB0aGlzLiRUb2FzdCgiXHU0RUM1XHU5NjUwIi5jb25jYXQodGhpcy5yZWNlaXZlT2JqW2ZyZWVSZWNlaXZlVHlwZV0sICJcdTk4ODZcdTUzRDYiKSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnJlY2VpdmVHaWZ0KDQpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDkvb/nlKjlrZfmrrVyZXN0cmljdFN0YXRl5Yik5patCiAgICAgICAgICB0aGlzLnJlY2VpdmVHaWZ0KDQpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgLy8g5YWR5o2iCiAgZXhjaGFuZ2U6IGZ1bmN0aW9uIGV4Y2hhbmdlKCkgewogICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgdmFyIGl0ZW0gPSB0aGlzLmV4Y2hhbmdlX2RhdGE7CiAgICB0aGlzLiRkaWFsb2cuY29uZmlybSh7CiAgICAgIHRpdGxlOiAiXHU2NjJGXHU1NDI2XHU3ODZFXHU4QkE0XHU1MTUxXHU2MzYyIi5jb25jYXQoaXRlbS5hY3ROYW1lIHx8ICcnLCAiPyIpLAogICAgICBtZXNzYWdlOiAn5YWR5o2i5ZCO5LiN5Y+v5pu05pS55LiU5Y6f5pyJ5r2u5Y2h5bCG5Lya5riF56m6JwogICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzOC5wcmljZUV4Y2hhbmdlKGl0ZW0pOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgey8vIG9uIGNhbmNlbAogICAgfSk7CiAgfSwKICAvLyDlvIDlp4vlhZHmjaIKICBwcmljZUV4Y2hhbmdlOiBmdW5jdGlvbiBwcmljZUV4Y2hhbmdlKGl0ZW0pIHsKICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgIGlmICh0aGlzLmNhbkNsaWNrKSByZXR1cm47CiAgICB0aGlzLmNhbkNsaWNrID0gdHJ1ZTsKICAgIHRoaXMuJGFwaS5wcmljZV9leGNoYW5nZSh7CiAgICAgIGFjdFNuOiBpdGVtLmFjdFNuLAogICAgICBhd2FyZElkOiBpdGVtLmF3YXJkSWQsCiAgICAgIGNpdHlJZDogdGhpcy5sb2NhdGlvbkNpdHkuY2l0eUlkLAogICAgICBjaG9vc2VEYXRlOiB0aGlzLnNlbERhdGUuc3RhcnRUaW1lID8gdXRpbHMuZm9ybWF0VGltZSh0aGlzLnNlbERhdGUuc3RhcnRUaW1lIHx8IDAsICdZWVlZTU1ERCcpIDogMCwKICAgICAgLy8g6Ieq5oiR5ri46YCJ5oup5pe26Ze0CiAgICAgIHRyYWN2ZWxVc2VyTGlzdDogSlNPTi5zdHJpbmdpZnkodGhpcy50cmFjdmVsVXNlckxpc3QpCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgaWYgKHJlcy5zdGF0ZSkgewogICAgICAgIF90aGlzOS5tYXNrID0gdHJ1ZTsKCiAgICAgICAgX3RoaXM5LmhhbmRsZXJCdG4oJ+W3suWFkeaNoicsIHRydWUpOyAvLyDmuIXpmaTnlKjmiLfloavlhpnkv6Hmga8KCgogICAgICAgIF90aGlzOS4kc2F2ZS5yZW1vdmUoJ3Nlc3Npb24nLCAndHJhdmVsSW5mb3JtYXRpb24nKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfdGhpczkuJFRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgfQogICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS5jYW5DbGljayA9IGZhbHNlOwogICAgICB9LCAzMDApOwogICAgfSk7CiAgfSwKICBnb0NhcmQ6IGZ1bmN0aW9uIGdvQ2FyZCgpIHsKICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ2NvdXBvbkxpc3QnCiAgICB9KTsKICB9LAogIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgIHRoaXMubWFzayA9IGZhbHNlOwogIH0sCiAgLy8g6I635Y+W5Lya5ZGY5Y2h5pyA5L2O5Lu35qC8CiAgdmlwUHJpY2U6IGZ1bmN0aW9uIHZpcFByaWNlKCkgewogICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgIHRoaXMuJGFwaS5sb3dfcHJpY2Uoe30pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgX3RoaXMxMC5sb3dQcmljZSA9IHJlcy5pbmZvLmxvd1ByaWNlOwogICAgICB9CiAgICB9KTsKICB9LAogIHNob3dPcmRlclRpcDogZnVuY3Rpb24gc2hvd09yZGVyVGlwKCkgewogICAgdGhpcy4kZGlhbG9nLmFsZXJ0KHsKICAgICAgdGl0bGU6ICfmj5DnpLonLAogICAgICBtZXNzYWdlOiAn6K6i5Y2V6LaF5pe25bey5Y+W5raI77yM6K+36YeN5paw5LiL5Y2VJywKICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjRDkwNjM0JwogICAgfSk7CiAgfSwKICB0b0pvaW46IGZ1bmN0aW9uIHRvSm9pbigpIHsKICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgbmFtZTogJ2pvaW5WaXAnLAogICAgICBxdWVyeTogewogICAgICAgIGNoYW5uZWxUeXBlOiB0aGlzLmNoYW5uZWxUeXBlCiAgICAgIH0KICAgIH0pOwogIH0sCiAgLy8g5YWz6Zet57qi5YyF5YiX6KGoCiAgY29sc2VjYXNoTWFzazogZnVuY3Rpb24gY29sc2VjYXNoTWFzaygpIHsKICAgIHRoaXMuY2FzaE1hc2sgPSAhdGhpcy5jYXNoTWFzazsKICB9LAogIC8vIOiOt+WPlua0u+WKqOe6ouWMheW9k+WJjeS6q+eUqOacgOWkp+e6ouWMhQogIGdldENhc2hOdW06IGZ1bmN0aW9uIGdldENhc2hOdW0oKSB7CiAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgdmFyIHZpcF9jaGVjayA9ICF0aGlzLnZpcFVzZXIgJiYgdGhpcy5pbmZvLmJ1eUxpbWl0ID09IDIgPyB0cnVlIDogZmFsc2U7CiAgICB2YXIgcHJpY2UgPSB0aGlzLmluZm8uYnV5TGltaXQgPT0gMiB8fCB0aGlzLnZpcFVzZXIgPyB0aGlzLmluZm8uc2VsbFByaWNlIDogdGhpcy5pbmZvLm5vVmlwUHJpY2U7CiAgICB0aGlzLiRhcGkuY2FzaF9yZWRfbGlzdCh7CiAgICAgIGFjdFNuOiB0aGlzLmFjdFNuLAogICAgICBjaXR5SWQ6IHRoaXMubG9jYXRpb25DaXR5LmNpdHlJZCwKICAgICAgb3BlblZpcDogdmlwX2NoZWNrLAogICAgICAvLyDmmK/lkKbli77pgInkvJrlkZjljaEKICAgICAgdmlwRmVlOiB2aXBfY2hlY2sgPyB0aGlzLmxvd1ByaWNlIDogMCwKICAgICAgLy8g5Lya5ZGY5Y2h6YeR6aKdCiAgICAgIGFjdEZlZTogcHJpY2UsCiAgICAgIC8vIOa0u+WKqOmHkeminQogICAgICBjYXJkSWQ6ICIiIC8vIOeJueWNluWNoeWIuGlkIHx8IOekvOWMheS8oOepugoKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLnN0YXRlKSB7CiAgICAgICAgdmFyIHJlZExpc3QgPSByZXMuaW5mby5jYXNoUmVkTGlzdCB8fCBbXTsKICAgICAgICB2YXIgY29uc3VtZXJDb3Vwb25MaXN0ID0gcmVzLmluZm8uY29uc3VtZXJDb3Vwb25MaXN0IHx8IFtdOwogICAgICAgIHZhciB1c2FibGVMaXN0ID0gcmVkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmN1cnJlbnRBYmxlVXNlOwogICAgICAgIH0pOyAvLyDov4fmu6Tlj6/nlKjnuqLljIUKCiAgICAgICAgdmFyIHNvcnRVc2FibGVMaXN0ID0gdXNhYmxlTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAvLyDpmY3luo/mjpLluo8KICAgICAgICAgIHJldHVybiBiLm1vbmV5IC0gYS5tb25leTsKICAgICAgICB9KTsKICAgICAgICBfdGhpczExLnNlbENhc2hyZWQgPSBzb3J0VXNhYmxlTGlzdFswXSB8fCB7fTsgLy8g6YCJ5Lit5pyA5aSn57qi5YyFCgogICAgICAgIGlmIChjb25zdW1lckNvdXBvbkxpc3QubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczExLnNlbENvbnN1bWVyID0gY29uc3VtZXJDb3Vwb25MaXN0WzBdIHx8IHt9OyAvLyDpgInkuK3mtojotLnliLgKICAgICAgICB9CiAgICAgIH0KICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkge30pOwogIH0sCiAgaGFzQ2FjaFJlZExpc3Q6IGZ1bmN0aW9uIGhhc0NhY2hSZWRMaXN0KF9yZWYyKSB7CiAgICB2YXIgZGV0YWlsID0gX3JlZjIuZGV0YWlsOwoKICAgIGlmIChkZXRhaWwgJiYgZGV0YWlsLmxlbmd0aCA+IDApIHsKICAgICAgLy8g6YeN5paw6K+35rGC57qi5YyF5o6l5Y+jCiAgICAgIHRoaXMuc2VsZWN0Q29tcG9uZW50KCcjYWN0aXZlQ2FzaCcpLmdldENhc2hMaXN0KCk7CiAgICAgIHRoaXMuZ2V0Q2FzaE51bSgpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5zaG93UGFnZU1vZGVsID0gdHJ1ZTsKICAgIH0KICB9Cn0sICJnZXRHaWZ0IiwgZnVuY3Rpb24gZ2V0R2lmdCgpIHsKICB2YXIgdmlwVXNlciA9IHRoaXMudmlwQ2FyZEluZm8udmlwVXNlcjsKICB2YXIgaXNuZXdVc2VyID0gdGhpcy5yZWFsSW5mby5uZXdVc2VyOwogIHZhciBwYWNrYWdlR2lmdFR5cGUgPSB0aGlzLmluZm8ucGFja2FnZUdpZnRUeXBlOyAvLyAx5ZSu5Y2WIDLlhY3otLnpooYKCiAgdmFyIGZyZWVSZWNlaXZlVHlwZSA9IHRoaXMuaW5mby5mcmVlUmVjZWl2ZVR5cGU7IC8vIDHmiYDmnInkurrlj6/pooblj5YgMuS7hemZkOaWsOeUqOaItyAz5LuF6ZmQ5Lya5ZGYIDTku4XpmZDpnZ7kvJrlkZgKCiAgdmFyIHJlc3RyaWN0U3RhdGUgPSB0aGlzLmluZm8ucmVzdHJpY3RTdGF0ZTsKICB2YXIgY2hhbm5lbFRyYWNrID0gdGhpcy5pbmZvLmNoYW5uZWxUcmFjazsgLy8g6YCa6L+H6L+Z5Liq5a2X5q6177yM5Yik5pat55SocGFja2FnZUdpZnRUeXBl6L+Y5pivcmVzdHJpY3RTdGF0ZeWtl+autQoKICB2YXIganVtcFNhdGUgPSBmYWxzZTsgLy8g55So5p2l5Yik5pat5piv5ZCm5o+Q56S65LuF6ZmQ5p+Q55So5oi36aKG5Y+WCgogIGlmIChmcmVlUmVjZWl2ZVR5cGUgPT0gMSkgewogICAgLy8g5omA5pyJ5Lq65Y+v6aKG5Y+WCiAgICBqdW1wU2F0ZSA9IHRydWU7CiAgfSBlbHNlIGlmIChmcmVlUmVjZWl2ZVR5cGUgPT0gMiAmJiBpc25ld1VzZXIpIHsKICAgIC8vIOWIpOaWreeUqOaIt+aYr+WQpuS4uuaWsOeUqOaItwogICAganVtcFNhdGUgPSB0cnVlOwogIH0gZWxzZSBpZiAoZnJlZVJlY2VpdmVUeXBlID09IDMgJiYgdmlwVXNlcikgewogICAgLy8g5Yik5pat5piv5ZCm5LuF5Lya5ZGY6aKG5Y+WCiAgICBqdW1wU2F0ZSA9IHRydWU7CiAgfSBlbHNlIGlmIChmcmVlUmVjZWl2ZVR5cGUgPT0gNCAmJiAhdmlwVXNlcikgewogICAgLy8g5Yik5pat5piv5ZCm5LuF6Z2e5Lya5ZGY6aKG5Y+WCiAgICBqdW1wU2F0ZSA9IHRydWU7CiAgfSAvLyDlpoLmnpzmmK/lvIDpgJrlubbpooblj5YKCgogIGlmICh0aGlzLm9wZW5fcmVjZWl2ZSkgewogICAgdGhpcy4kc2V0KHRoaXMuaW5mbywgJ3NlbGxQcmljZScsIDApOwogICAgdGhpcy4kc2V0KHRoaXMuaW5mbywgJ25vVmlwUHJpY2UnLCAwKTsKICB9CgogIHRoaXMuJHNhdmUuc2V0KCdzZXNzaW9uJywgJ29yZGVySW5mbycsIHRoaXMuaW5mbyk7CgogIGlmICh0aGlzLmhhc0V4Y2hhbmdlICE9ICcnKSB7CiAgICAvLyDliKTmlq3lhZHlpZbkuK3lv4Pov5vlhaUg56uL5Y2z5YWR5o2iCiAgICB2YXIgY29uZGl0aW9uSW5mbyA9IHRoaXMuY29uZGl0aW9uSW5mbzsKICAgIHZhciB0cmFjdmVsVXNlckxpc3QgPSB0aGlzLnRyYWN2ZWxVc2VyTGlzdDsKCiAgICBpZiAoY29uZGl0aW9uSW5mby5pc0NvbmRpdGlvbiAmJiB0cmFjdmVsVXNlckxpc3QubGVuZ3RoID09IDApIHsKICAgICAgLy8g5Yik5pat5piv5ZCm6ZyA5rGC5aGr5YaZ5L+h5oGvCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAndHJhdmVsSW5mb3JtYXRpb24nLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBhY3RTbjogdGhpcy5vcHRpb25zLmFjdFNuCiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghdGhpcy5idG5EaXNhYmxlZCkgdGhpcy5leGNoYW5nZSgpOwogIH0gZWxzZSBpZiAodGhpcy5pbmZvLmNoaWxkRW51bUtleSA9PSAnQUNUX0dJRlRfUEFDS0FHRV9QVVJDSEFTRV9MSU1JVCcpIHsKICAgIHRoaXMuaGFuZGxlckxpbWl0RXZlbnQoKTsKICB9IGVsc2UgaWYgKHRoaXMuaW5mby5hY3RTdGF0ZSA9PSAyKSB7CiAgICAvLyDliKTmlq3mmK/lkKbmmK/ku47lpJbpg6jmuKDpgZPov5vlhaXvvIzlpJbpg6jmuKDpgZPov5vlhaXml7bvvIzlpoLmnpzphY3nva7nlKjmiLflj6/otK3kubDvvIzpnZ7kvJrlkZjkuZ/lj6/otK3kubDnpLzljIUKICAgIHZhciBidXlMaW1pdCA9IHRoaXMuaW5mby5idXlMaW1pdDsKICAgIHZhciBzZWxsUHJpY2UgPSB0aGlzLmluZm8uc2VsbFByaWNlOwogICAgdmFyIG5vVmlwUHJpY2UgPSB0aGlzLmluZm8ubm9WaXBQcmljZTsKICAgIHZhciBidXlTdGF0ZSA9IGZhbHNlOyAvLyAg5omA5pyJ5Lq6ICAg5LyaIDAgICDpnZ4gMAoKICAgIGlmIChidXlMaW1pdCA9PSAxICYmIG5vVmlwUHJpY2UgPT0gMCAmJiBzZWxsUHJpY2UgPT0gMCkgewogICAgICBidXlTdGF0ZSA9IGZhbHNlOyAvLyAg5Lya5ZGY6Lqr5Lu9CiAgICB9IGVsc2UgaWYgKHZpcFVzZXIgJiYgc2VsbFByaWNlID4gMCkgewogICAgICBidXlTdGF0ZSA9IHRydWU7CiAgICB9IGVsc2UgaWYgKCF2aXBVc2VyKSB7CiAgICAgIGJ1eVN0YXRlID0gYnV5TGltaXQgPT0gMiA/IHRydWUgOiBub1ZpcFByaWNlID4gMDsKICAgIH0KCiAgICBpZiAoY2hhbm5lbFRyYWNrID8gcGFja2FnZUdpZnRUeXBlID09IDEgOiByZXN0cmljdFN0YXRlID09IDIpIHsKICAgICAgaWYgKGJ1eVN0YXRlKSB7CiAgICAgICAgLy8g6LSt5Lmw56S85YyFCiAgICAgICAgLy8g5aaC5p6c5piv5aSW6YOo5rig6YGT5bm25LiU5piv6aKG5Y+W54q25oCB77yMcmVjZWl2ZVR5cGXkuLo077yM6LSt5Lmw54q25oCBcmVjZWl2ZVR5cGXkuLoyCiAgICAgICAgdmFyIHJlY2VpdmVUeXBlID0gdGhpcy5jaGFubmVsVHlwZSA9PSAnQ0hBTk5FTF9BQ1RJVklUWV9MQUJFTF9TSE9XJyAmJiB0aGlzLm9wZW5fcmVjZWl2ZSA/IDQgOiAyOwoKICAgICAgICBpZiAoYnV5TGltaXQgPT0gMiAmJiBzZWxsUHJpY2UgPT0gMCkgewogICAgICAgICAgcmVjZWl2ZVR5cGUgPSAxOwogICAgICAgIH0KCiAgICAgICAgdGhpcy5vcmRlclVucGF5KHJlY2VpdmVUeXBlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDkvb/nlKjlrZfmrrVyZXN0cmljdFN0YXRl5Yik5patCiAgICAgICAgdGhpcy5yZWNlaXZlR2lmdCg0KTsKICAgICAgfQogICAgfSBlbHNlIGlmIChjaGFubmVsVHJhY2sgPyBwYWNrYWdlR2lmdFR5cGUgPT0gMiA6IHJlc3RyaWN0U3RhdGUgPT0gMSkgewogICAgICAvLyDlhY3otLnpooYKICAgICAgaWYgKGNoYW5uZWxUcmFjaykgewogICAgICAgIC8vIOS9v+eUqOWtl+autXBhY2thZ2VHaWZ0VHlwZeWIpOaWrQogICAgICAgIGlmIChmcmVlUmVjZWl2ZVR5cGUgIT0gMSAmJiAhanVtcFNhdGUpIHsKICAgICAgICAgIHRoaXMuJFRvYXN0KCJcdTRFQzVcdTk2NTAiLmNvbmNhdCh0aGlzLnJlY2VpdmVPYmpbZnJlZVJlY2VpdmVUeXBlXSwgIlx1OTg4Nlx1NTNENiIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5yZWNlaXZlR2lmdCg0KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5L2/55So5a2X5q61cmVzdHJpY3RTdGF0ZeWIpOaWrQogICAgICAgIHRoaXMucmVjZWl2ZUdpZnQoNCk7CiAgICAgIH0KICAgIH0KICB9Cn0pKSksIF9kZWZpbmVQcm9wZXJ0eShfbmFtZSRtaXhpbnMkY29tcHV0ZWQsICJjcmVhdGVkIiwgZnVuY3Rpb24gY3JlYXRlZCgpIHsKICB2YXIgX3RoaXMxMiA9IHRoaXM7CgogIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgX3RoaXMxMi5vcHRpb25zID0gX3RoaXMxMi4kcm91dGUucXVlcnk7CiAgICAgICAgICAgIF90aGlzMTIuYWN0U24gPSBfdGhpczEyLm9wdGlvbnMuYWN0U247CiAgICAgICAgICAgIF90aGlzMTIucXJDb2RlID0gX3RoaXMxMi5vcHRpb25zLnFyQ29kZSB8fCAnJzsKICAgICAgICAgICAgX3RoaXMxMi5jaGFubmVsVHlwZSA9IF90aGlzMTIub3B0aW9ucy5jaGFubmVsVHlwZSB8fCAnJzsKICAgICAgICAgICAgX3RoaXMxMi5jb21wSWQgPSBfdGhpczEyLm9wdGlvbnMuY29tcElkIHx8ICcnOwogICAgICAgICAgICBfdGhpczEyLmhhc0V4Y2hhbmdlID0gX3RoaXMxMi5vcHRpb25zLmhhc0V4Y2hhbmdlIHx8ICcnOwogICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDg7CiAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmdldFJlYWxUaW1lSW5mbygpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgaWYgKF90aGlzMTIub3B0aW9ucy5wb3B1cCkgewogICAgICAgICAgICAgIF90aGlzMTIuc2hvd09yZGVyVGlwKCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChfdGhpczEyLmhhc0V4Y2hhbmdlICE9ICIiKSB7CiAgICAgICAgICAgICAgLy8g5Yik5pat5Li65YWR5o2i5Lit5b+D6L+b5YWlCiAgICAgICAgICAgICAgX3RoaXMxMi5leGNoYW5nZV9kYXRhID0gX3RoaXMxMi4kc2F2ZS5nZXQoJ3Nlc3Npb24nLCAnZXhjaGFuZ2VfZGF0YScpOyAvLyDlhZHmjaLkuK3lv4PmtLvliqjmlbDmja4KICAgICAgICAgICAgfQoKICAgICAgICAgICAgX3RoaXMxMi5nZXRSZWNlaXZlQ29uZGl0aW9uKCk7IC8vIOaYr+WQpumcgOimgeWhq+WGmeeUqOaIt+S/oeaBr+WPiuWFtuadoeS7tgoKCiAgICAgICAgICAgIF90aGlzMTIudmlwUHJpY2UoKTsKCiAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmdldEdpZnRJbmZvKCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNjsKICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIuZ2V0QWN0RGV0YWlsKHRydWUpOwoKICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUyKTsKICB9KSkoKTsKfSksIF9uYW1lJG1peGlucyRjb21wdXRlZCk7"},{"version":3,"sources":["giftBag.vue"],"names":[],"mappings":"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","sourcesContent":["<!--\r\n * @Description: \r\n * @Version: 1.0\r\n * @Autor: cherry\r\n * @Date: 2020-07-20 15:49:14\r\n * @LastEditors: yesong\r\n * @LastEditTime: 2020-08-07 19:28:49\r\n--> \r\n<template>\r\n  <div>\r\n    <van-skeleton title :row=\"14\" :loading=\"!ready\">\r\n      <common-swiper :imgUrls=\"info.mediaList\" urlName=\"img\"></common-swiper>\r\n      <div class=\"act-container\">\r\n        <active-header  \r\n          :info.sync=\"info\" \r\n          :channelType=\"channelType\" \r\n          :selConsumer=\"selConsumer\" \r\n          :showTime=\"showTime\" \r\n          :remainTime=\"remainTime\" \r\n          :downTime.sync=\"downTime\"\r\n          :btnDisabled=\"btnDisabled\" \r\n          :hasExchange=\"options.hasExchange\">\r\n        </active-header>\r\n        <!--  &&  -->\r\n        <active-cash id=\"activeCash\" :info=\"info\" :options=\"options\" :actType=\"info.actType\" />\r\n        <!--  -->\r\n        <active-gift-reason :info=\"info\"></active-gift-reason>\r\n        <!--  -->\r\n        <active-gift :info=\"info\" :options=\"options\"></active-gift>\r\n        <!--  -->\r\n        <div class=\"active-panel\">\r\n          <div class='gift-title bold' id=\"rule\"></div>\r\n          <div class=''><span class=\"actRule\">{{info.actRule}}</span></div>\r\n        </div>\r\n        <!--  -->\r\n        <active-graphic :detail=\"info.actExplain\" title=\"\"></active-graphic>\r\n        \r\n      </div>\r\n      <!--  -->\r\n      <div class='active-footer footer1' v-if='options.hasExchange'>\r\n        <img v-if=\"!btnDisabled\" src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.0.0/btn_base_pay1.png'>\r\n        <img v-else src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/v1.0.0/btn_unclickable_pay1.png'>\r\n        <div class='flex-v poa footer-text'>\r\n          <button class=\"ft34 tac\" :class=\"btnDisabled ? 'cB5' : 'c99' \"  id=\"STATIS_BUY\">{{btnText}}</button>\r\n        </div>\r\n      </div>\r\n      <!--  -->\r\n      <div class=\"footer pof\" v-else>\r\n        <active-footer :info=\"info\" :btnText=\"btnText\" :btnDisabled=\"btnDisabled\" :selCashred=\"selCashred\" :selConsumer=\"selConsumer\" @success=\"getGift\"></active-footer>\r\n      </div>\r\n\r\n      <!--  -->\r\n      <div class='mask flex-c flex-v cAE' v-if=\"showPop\">\r\n        <div class='flex-col flex-c flex-v por mask-box'>\r\n          <text class='pop-til ft36 bold poa'></text>\r\n          <div class='pop-cont ft30 poa tac'>VIP</div>\r\n          <!--  -->\r\n          <img src='/images/p_close_icon.png' class='p_close_icon poa' @click='closePop'>\r\n          <img src='http://doyd.oss-cn-shenzhen.aliyuncs.com/vip_mini_apply/pop_buy.png' class='pop_buy'>\r\n          <div class='pop-btn por tac ft36 bold' @click=\"toJoin\">{{lowPrice | fixedNum}}</div>\r\n        </div>\r\n      </div>\r\n    </van-skeleton>\r\n\r\n  </div>\r\n</template>\r\n<script>\r\n  import { mapGetters, mapActions, mapMutations } from \"vuex\";\r\n  import seckillMixin from '@/mixins/seckillMixin' \r\n  import activeHeader from '@components/active/activeHeader'\r\n  import activeCash from '@components/active/activeCash'\r\n  import activeGift from '@components/active/activeGift'\r\n  import activeGiftReason from '@components/active/activeGiftReason'\r\n  import activeGraphic from '@components/active/activeGraphic'\r\n  import activeFooter from '@components/active/activeFooter'\r\n  import activeUtils from '@/filters/active.js'\r\n  import orderPay from \"@/utils/pay\"\r\n  import utils from \"@/utils/utils\"\r\n  export default {\r\n    name: 'giftBag',\r\n    mixins: [seckillMixin],\r\n    computed: {\r\n    },\r\n    components: {\r\n      activeHeader,\r\n      activeCash,\r\n      activeGift,\r\n      activeGiftReason,\r\n      activeGraphic,\r\n      activeFooter\r\n    },\r\n    data() {\r\n      return {\r\n        ready: false,\r\n        timer: null,\r\n        limitTimer: null,\r\n        showPop: false,\r\n        btnText: '',\r\n        headline: '',\r\n        showTime: true,\r\n        remainTime: 0,\r\n        channelType: '',\r\n        options: this.$route.query || {},\r\n        btnDisabled: false, // \r\n        btnFontSize: 'ft34',\r\n        selCashred: {},\r\n        selConsumer: {},\r\n        conditionInfo: {},\r\n        tracvelUserList: [],\r\n        selDate: {\r\n          startTime: ''\r\n        },\r\n        info: {},\r\n        receiveObj: {\r\n          2: '',\r\n          3: '',\r\n          4: ''\r\n        },\r\n        downTime: {\r\n          hour: '00',\r\n          minute: '00',\r\n          second: '00'\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"locationInfo\", \"wxUser\", \"locationCity\", \"vipCardInfo\", \"updateGift\"])\r\n    },\r\n    methods: {\r\n      ...mapMutations('active', [\r\n        'SET_UPDATEGIFT'\r\n      ]),\r\n    // \r\n      remindSet(e) {\r\n\r\n      },\r\n\r\n      handlerLimit(res, flag){\r\n        if (res.info.limitActState == 8 || res.info.limitActState == 9) {\r\n          res.info.timeState = 1\r\n          this.headline = activeUtils.getDayName(res.info.limitStartTime)\r\n        } else if (res.info.limitActState == 1 || res.info.limitActState == 3 || res.info.limitActState == 10) {\r\n          res.info.timeState = 2\r\n        } else if (res.info.limitActState == 2) {\r\n          res.info.timeState = 3\r\n        } else {\r\n          // 1 2 3\r\n          let currentTime = +new Date()\r\n          if((res.info.limitEndTime<currentTime) && (res.info.limitStartTime<currentTime)) {\r\n            res.info.timeState = 3\r\n          } else if ((res.info.limitEndTime>currentTime) && (res.info.limitStartTime<currentTime)){\r\n            res.info.timeState = 2\r\n          } else if (res.info.limitStartTime>currentTime) {\r\n            res.info.timeState = 1\r\n            this.headline = activeUtils.getDayName(res.info.limitStartTime)\r\n          }\r\n        }\r\n        if(res.info.timeState != 3) {\r\n          clearInterval(this.limitTimer)\r\n          this.limitTimer = setInterval(() => {\r\n            let nowTime = +new Date()\r\n            var cutTime = 0\r\n            if(res.info.timeState == 1) {\r\n              cutTime = res.info.limitStartTime - nowTime\r\n            } else { \r\n              cutTime = res.info.limitEndTime - nowTime\r\n            }\r\n            this.downTime = utils.countDown3(cutTime)\r\n            if(cutTime <= 0 && (res.info.limitActState != 12)){\r\n              clearInterval(this.limitTimer)\r\n              this.getActDetail()\r\n            }\r\n          }, 1000)\r\n        } else {\r\n          this.downTime = {\r\n            hour: '00',\r\n            minute: '00',\r\n            second: '00'\r\n          }\r\n        }\r\n        console.log('res...........', res.info, this.downTime)\r\n\r\n        if(flag) {\r\n          // \r\n          if(res.info.limitActState == 3 || res.info.limitActState == 2 || !this.info.remainNum) {\r\n            this.getEndActive()\r\n          }\r\n        }\r\n      },\r\n      // \r\n\r\n      closePop() {\r\n        this.showPop = false\r\n      },\r\n\r\n      // \r\n      getGiftInfo() {\r\n        return this.$api.act_gift_info({\r\n          channelType: this.channelType,\r\n          qrCode: this.qrCode,\r\n          actSn: this.actSn,\r\n          lat: this.locationInfo.latitude,\r\n          lng: this.locationInfo.longitude\r\n        }).then(res => {\r\n          if (res.state) {\r\n            let cardSum = 0\r\n            res.info.cardList.forEach((item) => {\r\n              cardSum += item.cardNum\r\n            })\r\n            this.info = Object.assign({ cardSum }, this.info, res.info)\r\n            if (res.info.remainNum == 0) {\r\n              this.handlerBtn('', true)\r\n            }\r\n            \r\n          }\r\n        })\r\n      },\r\n\r\n      handlerBtn(text, disabled=false, fontSize='ft34') {\r\n        this.btnText = text\r\n        this.btnFontSize = fontSize\r\n        this.btnDisabled = disabled\r\n        if (disabled) {\r\n          this.showTime = false\r\n        }\r\n      },\r\n\r\n      // \r\n      getRealTimeInfo(limitFrequency) {\r\n        return this.$api.realTime_info({\r\n          actSn: this.actSn\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.realInfo = res.info\r\n          }\r\n        })\r\n      },\r\n      getReceiveCondition () {\r\n        return this.$api.receive_condition({\r\n          actSn: this.actSn\r\n        }).then(res=> {\r\n          if (res.state) {\r\n            this.conditionInfo = res.info\r\n          }\r\n        })\r\n      },\r\n      // \r\n      handlerReceiveBtn() {\r\n        let hasReceiveChannelFreeGift = this.info.hasReceiveChannelFreeGift\r\n        let channelType = this.channelType\r\n        this.handlerBtn('')\r\n        if (hasReceiveChannelFreeGift && channelType == 'CHANNEL_ACTIVITY_LABEL_SHOW') this.handlerBtn('', true)\r\n      },\r\n\r\n      // \r\n      getActDetail(flag) {\r\n        this.$Toast.loading({\r\n          message: '...',\r\n          forbidClick: true,\r\n          duration: 0\r\n        })\r\n        return this.$api.act_detail({\r\n          channelType: this.channelType,\r\n          qrCode: this.qrCode,\r\n          actSn: this.actSn\r\n        }).then(async res => {\r\n          if (res.state) {\r\n            this.enumKey = res.info.childEnumKey\r\n            this.showShare = true\r\n\r\n            //  \r\n            if ( res.info.childEnumKey == 'ACT_GIFT_PACKAGE_PURCHASE_LIMIT') {\r\n              this.handlerLimit(res, flag)\r\n            }\r\n            res.info.channelType = this.channelType || ''\r\n            this.info = Object.assign({}, this.info, res.info)\r\n            this.remainTime = res.info.remainTime\r\n            this.showTime = res.info.showTime\r\n            this.ready = true\r\n\r\n            console.log('info..........', this.info)\r\n\r\n            // \r\n            let vipUser = this.vipCardInfo.vipUser\r\n            this.vipUser = this.vipCardInfo.vipUser\r\n            let channelType = this.channelType\r\n            let restrictState = this.info.restrictState\r\n            let packageGiftType = this.info.packageGiftType\r\n            let hasReceiveChannelFreeGift = this.info.hasReceiveChannelFreeGift\r\n            let remainNum = this.info.remainNum\r\n            let channelTrack = this.info.channelTrack\r\n            let sellPrice = this.info.sellPrice\r\n            let noVipPrice = this.info.noVipPrice\r\n            let state = res.info.actState\r\n            let buyLimit = res.info.buyLimit\r\n\r\n            if (state == 1) {\r\n              this.handlerBtn('', true)\r\n            } else if (state == 3) {\r\n              this.handlerBtn('', true)\r\n            } else if (state == 4) {\r\n              this.handlerBtn('', true)\r\n            } else if (state == 5) {\r\n              //  \r\n              if(vipUser){\r\n                if (sellPrice > 0){\r\n                  this.handlerBtn('', true)\r\n                } else {\r\n                  this.handlerBtn('', true)\r\n                }\r\n              }else{\r\n                if (buyLimit == 1 && noVipPrice > 0) {\r\n                  this.handlerBtn('', true)\r\n                } else if (buyLimit == 1 && noVipPrice == 0) {\r\n                  this.handlerBtn('', true)\r\n                } else if (buyLimit == 2) {\r\n                  this.handlerBtn('', true)\r\n                }\r\n              }\r\n            }\r\n            // \r\n            if (state == 2) {\r\n              \r\n              // ..................................\r\n              if (channelTrack ? packageGiftType == 1 : restrictState == 2) {\r\n                if (remainNum > 0) {\r\n                  this.handlerBtn('')\r\n                } else {\r\n                  //  \r\n                  if (vipUser) {\r\n                    if (sellPrice > 0) {\r\n                      this.handlerBtn('', true)\r\n                    } else {\r\n                      this.handlerBtn('', true)\r\n                    }\r\n                  } else {\r\n                    if (buyLimit == 1 && noVipPrice > 0) {\r\n                      this.handlerBtn('', true)\r\n                    } else if (buyLimit == 1 && noVipPrice == 0) {\r\n                      this.handlerBtn('', true)\r\n                    } else if (buyLimit == 2) {\r\n                      this.handlerBtn('', true)\r\n                    }\r\n                  }\r\n                }\r\n\r\n                // \r\n                if (buyLimit == 2 && !vipUser) {\r\n                  this.handlerBtn('')\r\n                }\r\n\r\n                // 0\r\n                if (buyLimit == 2 && !sellPrice && !vipUser) {\r\n                  this.open_receive = true\r\n                  this.handlerBtn('')\r\n                  \r\n                }\r\n\r\n                //....................................\r\n                // 0\r\n                if (buyLimit == 2 && !sellPrice && vipUser) {\r\n                  this.handlerReceiveBtn(state)\r\n                }\r\n\r\n                // 0\r\n                if (buyLimit == 1 && !sellPrice && !noVipPrice) {\r\n                  this.handlerReceiveBtn(state)\r\n                }\r\n                \r\n                // 0\r\n                if (buyLimit == 1 && !sellPrice && !noVipPrice) {\r\n                  this.handlerReceiveBtn(state)\r\n                }\r\n                \r\n                // 0\r\n                if (buyLimit == 1 && !sellPrice && vipUser) {\r\n                  this.handlerReceiveBtn(state)\r\n                }\r\n                //....................................\r\n\r\n              } else if (channelTrack ? packageGiftType == 2 : restrictState == 1) {\r\n                \r\n                // ..............................\r\n                if (remainNum > 0) {\r\n                  this.handlerBtn('')\r\n                } else {\r\n                  this.handlerBtn('', true)\r\n                }\r\n                if (hasReceiveChannelFreeGift && channelType == 'CHANNEL_ACTIVITY_LABEL_SHOW') {\r\n                  this.handlerBtn('', true)\r\n                }\r\n              }\r\n\r\n\r\n              //.................................... \r\n              let totalNum = Number(this.realInfo.userBuyNum) + Number(this.realInfo.userFreeReceiveNum) // \r\n              let contation = (res.info.buyLimit == 1 && !res.info.sellPrice && !res.info.noVipPrice) || (res.info.buyLimit == 2 && !res.info.sellPrice) // \r\n\r\n              // \r\n              if (res.info.limitState) {\r\n                if (totalNum >= res.info.limitFrequency) {\r\n\r\n                  // \r\n                  this.handlerBtn('', true)\r\n                }\r\n                if ((totalNum >= res.info.limitFrequency) && contation) {\r\n\r\n                  // \r\n                  this.handlerBtn('', true)\r\n                }\r\n              }\r\n            } \r\n            // \r\n            if (this.hasExchange != '') { \r\n              let exchange_data = this.exchange_data // \r\n\r\n              if (exchange_data.hasExchange) {\r\n                this.handlerBtn('', true)\r\n              } else {\r\n                if (exchange_data.remainNum > 0) {\r\n                  if (exchange_data.state != 2) {\r\n                    this.handlerBtn('', true)\r\n                  } else {\r\n                    if (exchange_data.condition) {                                                                   \r\n                      this.handlerBtn('', false)\r\n                    } else {\r\n                      this.handlerBtn('', true)\r\n                    }\r\n                  }\r\n                } else {\r\n                  this.handlerBtn('', true)\r\n                }\r\n              }\r\n            }\r\n\r\n            // .............................................\r\n            // \r\n            if (this.info.childEnumKey == 'ACT_GIFT_PACKAGE_PURCHASE_LIMIT') {\r\n              // \r\n              // 1.  ----- / \r\n              // 2.  ----- \r\n              // 3. ----- \r\n              // 4. ----- \r\n              // 5. 0 ----- \r\n              // 6.  ----- toast/\r\n              // 7. -----  \r\n              if (!this.info.remainNum) {\r\n                this.handlerBtn('', true)\r\n                return\r\n              }\r\n              if(res.info.actState == 11  || res.info.actState == 3) {\r\n                this.handlerBtn('', true)\r\n              } else {\r\n                // if (res.info.limitActState == 8) {\r\n                //   this.handlerBtn('', false)\r\n                // } else if (res.info.limitActState == 9) {\r\n                //   this.handlerBtn('', false)\r\n                // } \r\n                if (res.info.limitActState == 8 || res.info.limitActState == 9) {\r\n                  this.handlerBtn('', true)\r\n                } else if (res.info.limitActState == 1) {\r\n                  this.handlerBtn('', false)\r\n                } else if (res.info.limitActState == 10) {\r\n                  this.handlerBtn('', true)\r\n                } else if (res.info.limitActState == 3) {\r\n                  this.handlerBtn('', true)\r\n                } else if (res.info.limitActState == 2) {\r\n                  this.handlerBtn('', true)\r\n                }\r\n              }\r\n            }\r\n\r\n            this.showBtnTxt = true\r\n          \r\n            // \r\n            if (this.showTime && this.info.childEnumKey != 'ACT_GIFT_PACKAGE_PURCHASE_LIMIT') {\r\n              clearInterval(this.timer)\r\n              var remainTime = res.info.remainTime\r\n\r\n              this.timer = setInterval(() => {\r\n                if (remainTime >= 1000) {\r\n                  remainTime -= 1000\r\n                } else {\r\n                  clearInterval(this.timer)\r\n                }\r\n                this.remainTime = remainTime || 0\r\n              }, 1000)\r\n            }\r\n\r\n            this.getCashNum() // \r\n          } else {\r\n            this.back_to(res)\r\n          }\r\n        }).finally(() => {\r\n          this.$Toast.clear()\r\n        })\r\n      },\r\n\r\n      // \r\n      // receiveType 123\r\n      receiveGift(receiveType=1) {\r\n        let conditionInfo = this.conditionInfo\r\n        let tracvelUserList = this.tracvelUserList\r\n        if (conditionInfo.isCondition && tracvelUserList.length == 0) {\r\n          // \r\n          this.$router.push({\r\n            name: 'travelInformation',\r\n            query: {\r\n              actSn: this.options.actSn\r\n            }\r\n          })\r\n          return\r\n        }\r\n        let actDeal = orderPay.actDeal({\r\n          cityId: this.locationCity.cityId,\r\n          actSn: this.actSn,\r\n          dealNum: 1,\r\n          channelType: this.channelType,\r\n          realFee: 0,\r\n          receiveType,\r\n          openVip: false, //\r\n          actFee: 0, //\r\n          vipFee: 0,\r\n          vipCardId: '',\r\n          buyType: 0,\r\n          qrCode: this.qrCode,\r\n          compId: this.compId, // Id\r\n          chooseDate: this.selDate.startTime ? utils.formatTime(this.selDate.startTime || 0, 'YYYYMMDD') : 0, // \r\n          tracvelUserList: JSON.stringify(this.tracvelUserList)\r\n        })\r\n        if (actDeal) {\r\n          actDeal.then(res => {\r\n            if (res.state) {\r\n              // \r\n              this.SET_UPDATEGIFT(true)\r\n              // \r\n              this.$save.remove('session', 'travelInformation')\r\n              this.$router.push({name: 'giftBagSuccess', query: { tradeId: res.info.tradeId, actName: this.info.actName, receive: 1, actSn: this.actSn}})\r\n\r\n              // \r\n              // wx.navigateTo({\r\n              //   url: `/pages/activity/gift_bag_detail/success/success?tradeId=${res.info.tradeId}&actName=${this.info.actName}&receive=1&actSn=${this.actSn}`,\r\n              //   success: (result)=>{\r\n              //     this.setData({\r\n              //       isCanClick: false \r\n              //     })\r\n              //   }\r\n              // });\r\n            }\r\n          })\r\n        }\r\n      },\r\n\r\n      // \r\n      // receiveType 123\r\n      orderUnpay(receiveType) {\r\n        this.$save.set('session', 'orderInfo', this.info)\r\n        console.log('this.info', this.info)\r\n        if (this.isCanClick2) return \r\n        this.isCanClick2 = true \r\n        this.$api.order_unpay({\r\n          actSn: this.actSn\r\n        }).then(res => {\r\n          if (res.state) {\r\n            if (res.info.existsUnPay) {\r\n              // \r\n              this.$router.push({\r\n                name: 'orderList'\r\n              })\r\n            } else {\r\n              this.jumpSubmit(receiveType)\r\n              this.isCanClick2 = false\r\n            }\r\n          }\r\n        }).catch(() => {\r\n          this.isCanClick2 = false \r\n        })\r\n      },\r\n\r\n      // \r\n      jumpSubmit(receiveType) {\r\n        this.$router.push({\r\n          name: 'submitOrder',\r\n          query: {\r\n            qrCode: this.options.qrCode || '',\r\n            compId: this.options.compId || '',\r\n            actSn: this.options.actSn,\r\n            channelType: this.options.channelType,\r\n            receiveType: receiveType,\r\n          }\r\n        })\r\n        \r\n      },\r\n\r\n      // \r\n      openReceive() {\r\n        this.$set(this.info, 'sellPrice', 0)\r\n        this.$set(this.info, 'noVipPrice', 0)\r\n        this.$save.set('session', 'orderInfo', this.info)\r\n        // \r\n        let receiveType = this.channelType == 'CHANNEL_ACTIVITY_LABEL_SHOW' ? 4 : 1\r\n        this.jumpSubmit(receiveType)\r\n      },\r\n\r\n      handlerLimitEvent() {\r\n        if( this.info.limitActState == 12 ) {\r\n          this.$Toast('')\r\n        } else {\r\n          if(this.btnText == '') {\r\n            this.$save.set('session', 'orderInfo', this.info)\r\n            this.jumpSubmit(2)\r\n          }\r\n        }\r\n      },\r\n\r\n      /**\r\n      * \r\n          restrictState  1 2\r\n          receiveType: {\r\n             3\r\n            :  1\r\n          }\r\n      */\r\n      getGift() {\r\n        var vipUser = this.vipCardInfo.vipUser\r\n        var isnewUser = this.realInfo.newUser\r\n        let packageGiftType = this.info.packageGiftType // 1 2\r\n        let freeReceiveType = this.info.freeReceiveType // 1 2 3 4\r\n        let restrictState = this.info.restrictState\r\n        let channelTrack = this.info.channelTrack // packageGiftTyperestrictState\r\n        var jumpSate = false // \r\n        if (freeReceiveType == 1) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 2 && isnewUser) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 3 && vipUser) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 4 && !vipUser) {\r\n          // \r\n          jumpSate = true\r\n        }\r\n\r\n        // \r\n        if (this.open_receive) {\r\n          this.$set(this.info, 'sellPrice', 0)\r\n          this.$set(this.info, 'noVipPrice', 0)\r\n        }\r\n\r\n        this.$save.set('session', 'orderInfo', this.info)\r\n        if (this.hasExchange != '') {\r\n          //  \r\n          let conditionInfo = this.conditionInfo\r\n          let tracvelUserList = this.tracvelUserList\r\n          if (conditionInfo.isCondition && tracvelUserList.length == 0) {\r\n            // \r\n            this.$router.push({\r\n              name: 'travelInformation',\r\n              query: {\r\n                actSn: this.options.actSn\r\n              }\r\n            })\r\n            return\r\n          }\r\n          if (!this.btnDisabled) this.exchange()\r\n        } else if (this.info.childEnumKey == 'ACT_GIFT_PACKAGE_PURCHASE_LIMIT') {\r\n          this.handlerLimitEvent()\r\n        } else if (this.info.actState == 2) {\r\n          // \r\n          let buyLimit = this.info.buyLimit\r\n          let sellPrice = this.info.sellPrice\r\n          let noVipPrice = this.info.noVipPrice\r\n          let buyState = false;\r\n          //      0    0\r\n          if (buyLimit == 1 && noVipPrice == 0 && sellPrice == 0){\r\n            buyState = false;\r\n          //  \r\n          } else if (vipUser && sellPrice > 0){\r\n            buyState = true\r\n          } else if (!vipUser){\r\n            buyState = buyLimit == 2 ? true : noVipPrice > 0 \r\n          }\r\n\r\n          if (channelTrack ? packageGiftType == 1 : restrictState == 2) {\r\n\r\n            if(buyState){\r\n              // \r\n\r\n              // receiveType4receiveType2\r\n              let receiveType = this.channelType == 'CHANNEL_ACTIVITY_LABEL_SHOW' && this.open_receive ? 4 : 2\r\n              if (buyLimit == 2 && sellPrice == 0) {\r\n                receiveType = 1\r\n              }\r\n              this.orderUnpay(receiveType)    \r\n            } else {\r\n              // restrictState\r\n              this.receiveGift(4)\r\n            }\r\n\r\n          } else if (channelTrack ? packageGiftType == 2 : restrictState == 1) {\r\n            // \r\n            if (channelTrack) {\r\n\r\n              // packageGiftType\r\n              if (freeReceiveType != 1 && !jumpSate) {\r\n                this.$Toast(`${this.receiveObj[freeReceiveType]}`)\r\n              } else {\r\n                this.receiveGift(4)\r\n              }\r\n            } else {\r\n\r\n              // restrictState\r\n              this.receiveGift(4)\r\n            }\r\n            \r\n          }\r\n        }\r\n      },\r\n\r\n      // \r\n      exchange () {\r\n        let item = this.exchange_data\r\n        this.$dialog.confirm({\r\n          title: `${item.actName || ''}?`,\r\n          message:'',\r\n        }).then(()=>{\r\n          this.priceExchange(item)\r\n        }).catch(() => {\r\n              // on cancel\r\n        });\r\n      },\r\n\r\n      // \r\n      priceExchange (item) {\r\n        if (this.canClick) return\r\n        this.canClick = true\r\n        this.$api.price_exchange({\r\n          actSn: item.actSn,\r\n          awardId: item.awardId,\r\n          cityId: this.locationCity.cityId,\r\n          chooseDate: this.selDate.startTime ? utils.formatTime(this.selDate.startTime || 0, 'YYYYMMDD') : 0, // \r\n          tracvelUserList: JSON.stringify(this.tracvelUserList)\r\n        }).then(res => {\r\n          if (res.state) {\r\n            this.mask = true\r\n            this.handlerBtn('', true)\r\n            // \r\n            this.$save.remove('session', 'travelInformation')\r\n          } else {\r\n            this.$Toast(res.message)\r\n          }\r\n        }).finally(()=>{\r\n          setTimeout(()=>{\r\n            this.canClick = false\r\n          }, 300)\r\n        })\r\n      },\r\n\r\n      goCard() {\r\n        this.$router.push({\r\n          name: 'couponList'\r\n        })\r\n      },\r\n\r\n      close() {\r\n        this.mask = false\r\n      },\r\n\r\n      // \r\n      vipPrice() {\r\n        this.$api.low_price({}).then(res => {\r\n          if (res.state) {\r\n            this.lowPrice = res.info.lowPrice\r\n          }\r\n        })\r\n      },\r\n      \r\n      showOrderTip() {\r\n        this.$dialog.alert({\r\n          title: '',\r\n          message: '',\r\n          confirmButtonText: '',\r\n          confirmButtonColor: '#D90634'\r\n        })\r\n      },\r\n      \r\n      toJoin() {\r\n        this.$router.push({\r\n          name:'joinVip',\r\n          query: {\r\n            channelType: this.channelType\r\n          }\r\n        })\r\n      },\r\n\r\n      // \r\n      colsecashMask() {\r\n        this.cashMask = !this.cashMask\r\n      },\r\n\r\n      // \r\n      getCashNum() {\r\n        let vip_check = (!this.vipUser && this.info.buyLimit == 2) ? true : false\r\n        let price = (this.info.buyLimit == 2 || this.vipUser) ? this.info.sellPrice : this.info.noVipPrice\r\n        this.$api.cash_red_list({\r\n          actSn: this.actSn,\r\n          cityId: this.locationCity.cityId,\r\n          openVip: vip_check, // \r\n          vipFee: vip_check ? this.lowPrice : 0, // \r\n          actFee: price, // \r\n          cardId: \"\", // id || \r\n        }).then(res => {\r\n          if (res.state) {\r\n            let redList = res.info.cashRedList || []\r\n            let consumerCouponList = res.info.consumerCouponList || []\r\n            let usableList = redList.filter((item) => item.currentAbleUse) // \r\n            let sortUsableList = usableList.sort(function(a, b) { // \r\n              return b.money - a.money\r\n            })\r\n            this.selCashred = sortUsableList[0] || {} // \r\n            if (consumerCouponList.length) {\r\n              this.selConsumer = consumerCouponList[0] || {} // \r\n            }  \r\n          }\r\n        }).finally(()=> {\r\n        })\r\n      },\r\n\r\n      hasCachRedList ({ detail }) {\r\n        if (detail && detail.length > 0) {\r\n          // \r\n          this.selectComponent('#activeCash').getCashList()\r\n          this.getCashNum()\r\n        } else {\r\n          this.showPageModel = true\r\n        }\r\n      },\r\n      /**\r\n       * \r\n          restrictState  1 2\r\n          receiveType: {\r\n             3\r\n            :  1\r\n          }\r\n      */\r\n      getGift() {\r\n        var vipUser =this.vipCardInfo.vipUser\r\n        var isnewUser = this.realInfo.newUser\r\n        let packageGiftType = this.info.packageGiftType // 1 2\r\n        let freeReceiveType = this.info.freeReceiveType // 1 2 3 4\r\n        let restrictState = this.info.restrictState\r\n        let channelTrack = this.info.channelTrack // packageGiftTyperestrictState\r\n        var jumpSate = false // \r\n        if (freeReceiveType == 1) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 2 && isnewUser) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 3 && vipUser) {\r\n          // \r\n          jumpSate = true\r\n        } else if (freeReceiveType == 4 && !vipUser) {\r\n          // \r\n          jumpSate = true\r\n        }\r\n\r\n        // \r\n        if (this.open_receive) {\r\n          this.$set(this.info, 'sellPrice', 0)\r\n          this.$set(this.info, 'noVipPrice', 0)\r\n        }\r\n\r\n        this.$save.set('session', 'orderInfo', this.info)\r\n        if (this.hasExchange != '') {\r\n          //  \r\n          let conditionInfo = this.conditionInfo\r\n          let tracvelUserList = this.tracvelUserList\r\n          if (conditionInfo.isCondition && tracvelUserList.length == 0) {\r\n            // \r\n            this.$router.push({\r\n              name: 'travelInformation',\r\n              query: {\r\n                actSn: this.options.actSn\r\n              }\r\n            })\r\n            return\r\n          }\r\n          if (!this.btnDisabled) this.exchange()\r\n        } else if (this.info.childEnumKey == 'ACT_GIFT_PACKAGE_PURCHASE_LIMIT') {\r\n          this.handlerLimitEvent()\r\n        } else if (this.info.actState == 2) {\r\n          // \r\n          let buyLimit = this.info.buyLimit\r\n          let sellPrice = this.info.sellPrice\r\n          let noVipPrice = this.info.noVipPrice\r\n          let buyState = false;\r\n          //      0    0\r\n          if (buyLimit == 1 && noVipPrice == 0 && sellPrice == 0){\r\n            buyState = false;\r\n          //  \r\n          } else if (vipUser && sellPrice > 0){\r\n            buyState = true\r\n          } else if (!vipUser){\r\n            buyState = buyLimit == 2 ? true : noVipPrice > 0 \r\n          }\r\n          if (channelTrack ? packageGiftType == 1 : restrictState == 2) {\r\n            if(buyState){\r\n              // \r\n              // receiveType4receiveType2\r\n              let receiveType = this.channelType == 'CHANNEL_ACTIVITY_LABEL_SHOW' && this.open_receive ? 4 : 2\r\n              if (buyLimit == 2 && sellPrice == 0) {\r\n                receiveType = 1\r\n              }\r\n              this.orderUnpay(receiveType)    \r\n            } else {\r\n              // restrictState\r\n              this.receiveGift(4)\r\n            }\r\n          } else if (channelTrack ? packageGiftType == 2 : restrictState == 1) {\r\n            // \r\n            if (channelTrack) {\r\n              // packageGiftType\r\n              if (freeReceiveType != 1 && !jumpSate) {\r\n                this.$Toast(`${this.receiveObj[freeReceiveType]}`)\r\n              } else {\r\n                this.receiveGift(4)\r\n              }\r\n            } else {\r\n              // restrictState\r\n              this.receiveGift(4)\r\n            }\r\n            \r\n          }\r\n        }\r\n      },\r\n    },\r\n    async created() {\r\n      this.options = this.$route.query\r\n      this.actSn =  this.options.actSn\r\n      this.qrCode =  this.options.qrCode || ''\r\n      this.channelType =  this.options.channelType || ''\r\n      this.compId =  this.options.compId || ''\r\n      this.hasExchange =  this.options.hasExchange || ''\r\n      await this.getRealTimeInfo()\r\n      if (this.options.popup) {\r\n        this.showOrderTip()\r\n      }\r\n      if (this.hasExchange != \"\") { // \r\n        this.exchange_data = this.$save.get('session', 'exchange_data')// \r\n      }\r\n      this.getReceiveCondition() // \r\n      this.vipPrice()\r\n      await this.getGiftInfo()\r\n      await this.getActDetail(true)\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang='scss'>\r\n  .gift-title{\r\n    font-size: 32px;\r\n    color: #1A1919;\r\n    margin-bottom: 30px;\r\n    margin-right: 12px;\r\n  }\r\n</style>"],"sourceRoot":"src/views/active"}]}